# docker éƒ¨ç½²Xiaoya Alist

>Githubå®˜æ–¹å¼€æºåœ°å€ï¼šhttps://github.com/xiaoyaDev/xiaoya-alist
>
>GitHubå¼€æºåœ°å€ï¼šhttps://github.com/monlor/docker-xiaoya/tree/main
>
>dockeréƒ¨ç½²å‚è€ƒæ–‡æ¡£ï¼šhttps://www.cnblogs.com/gnz48/p/18651934

## ä¸€ã€äº†è§£Xiaoya

### 1.Xiaoyaç®€ä»‹

xiaoyaæ˜¯ä»€ä¹ˆï¼Ÿâ€œå°é›…â€ï¼ˆ**Xiaoya**ï¼‰æ˜¯ä¸€ä¸ªåŸºäº [**Alist**](https://github.com/alist-org/alist) çš„èµ„æºèšåˆç³»ç»Ÿï¼Œå¸¸ç”¨äºä¸ªäººæˆ–å®¶åº­æ­å»ºçš„**å®¶åº­å½±éŸ³åª’ä½“æœåŠ¡å™¨**ã€‚å®ƒä¸»è¦ç”¨æ¥æ•´åˆå¤šä¸ªç½‘ç›˜ï¼ˆå¦‚é˜¿é‡Œäº‘ç›˜ã€ç™¾åº¦ç½‘ç›˜ç­‰ï¼‰çš„å†…å®¹ï¼Œé€šè¿‡ç½‘é¡µæˆ–æ’­æ”¾å™¨é›†ä¸­æµè§ˆå’Œæ’­æ”¾ï¼Œå¸¸é…åˆ **Emby**ã€**Jellyfin** ç­‰åª’ä½“æœåŠ¡å™¨ä½¿ç”¨ã€‚

### 2.**Xiaoya çš„ç‰¹ç‚¹**

- âœ… åŸºäº Alistï¼Œæ”¯æŒå¤šç§ç½‘ç›˜æŒ‚è½½ï¼ˆå¦‚é˜¿é‡Œäº‘ç›˜ã€å¤¸å…‹ã€123ç›˜ç­‰ï¼‰
- âœ… å¯é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œé¡µé¢æ¸…æ™°ç®€æ´
- âœ… ç»“åˆ Emby/Jellyfin å¯å®ç°åœ¨çº¿æ’­æ”¾
- âœ… Docker å¿«é€Ÿéƒ¨ç½²ï¼Œé€‚åˆä¸ªäººæˆ–å®¶åº­ä½¿ç”¨

### 3.**æ­é…ä½¿ç”¨å»ºè®®**

- **Alist**ï¼šèµ„æºæŒ‚è½½æ ¸å¿ƒ
- **Emby / Jellyfin**ï¼šæµåª’ä½“æ’­æ”¾
- **frp**ï¼šç©¿é€è¿œç¨‹è®¿é—®ï¼ˆåªè¦ç½‘ç›˜ä¸‹è½½å’Œæ‰‹æœºWiFi&5Gé€Ÿåº¦è·Ÿä¸Šï¼Œçœ‹ç”µå½±å°±å¾ˆçˆ½ï¼‰
- **Aria2 / qBittorrent**ï¼šä¸‹è½½æ”¯æŒ

## äºŒã€äº†è§£Alist

> å…·ä½“è¯·å‚è€ƒæ–‡æ¡£ï¼š**\LearningNotes\Dockerç¬”è®°\dockeråº”ç”¨\reader & music\CentOS7 éƒ¨ç½²Alist.md**

### 1.Alistç®€ä»‹

Alist æ˜¯ä¸€ä¸ªç”¨ Go ç¼–å†™çš„é«˜æ•ˆã€ç®€æ´çš„æ–‡ä»¶ç®¡ç†å·¥å…·ï¼Œä¸€ä¸ªæ”¯æŒå¤šç§å­˜å‚¨ï¼Œæ”¯æŒç½‘é¡µæµè§ˆå’Œ WebDAV çš„æ–‡ä»¶åˆ—è¡¨ç¨‹åºï¼Œç”± gin å’Œ Solidjs é©±åŠ¨ã€‚é€šå¸¸ç”¨äºæ”¯æŒå¤šç§äº‘å­˜å‚¨åè®®çš„æ–‡ä»¶ç®¡ç†ã€‚å®ƒçš„ä¸»è¦ç‰¹ç‚¹æ˜¯æ”¯æŒå°†äº‘å­˜å‚¨æŒ‚è½½ä¸ºæœ¬åœ°ç›®å½•ï¼Œå…è®¸ç”¨æˆ·åƒæ“ä½œæœ¬åœ°æ–‡ä»¶ä¸€æ ·æ–¹ä¾¿åœ°æ“ä½œè¿œç¨‹å­˜å‚¨èµ„æºã€‚



### 2.ä¸»è¦ç‰¹ç‚¹

- **å¤šç§å­˜å‚¨åè®®æ”¯æŒ**ï¼šAlist æ”¯æŒå¤šç§äº‘å­˜å‚¨åè®®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

  - Google Drive

  - OneDrive

  - Dropbox

  - é˜¿é‡Œäº‘OSS

  - åä¸ºäº‘OBS

  - ä¸ƒç‰›äº‘Kodo

  - FTPã€SFTP ç­‰ä¼ ç»Ÿåè®®

- **Web ç•Œé¢**ï¼šAlist æä¾›äº†ä¸€ä¸ªç›´è§‚çš„ Web ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æµè§ˆå™¨ç®¡ç†æ–‡ä»¶ï¼Œè¿›è¡Œä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤ç­‰æ“ä½œã€‚
- **æœ¬åœ°æŒ‚è½½**ï¼šé€šè¿‡ Alistï¼Œç”¨æˆ·å¯ä»¥å°†äº‘å­˜å‚¨æœåŠ¡æŒ‚è½½åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œå®ç°â€œé€æ˜â€æ“ä½œã€‚
- **API æ”¯æŒ**ï¼šAlist æä¾›äº† APIï¼Œå¯ä»¥ä¸å…¶ä»–ç³»ç»Ÿæˆ–åº”ç”¨é›†æˆï¼Œå®ç°è‡ªåŠ¨åŒ–æ–‡ä»¶ç®¡ç†ã€‚
- **é«˜æ•ˆæ€§**ï¼šAlist åœ¨è®¾è®¡æ—¶å°±æ³¨é‡é«˜æ•ˆï¼Œèƒ½å¤Ÿå¤„ç†å¤§è§„æ¨¡æ–‡ä»¶çš„ä¸Šä¼ ã€ä¸‹è½½å’Œç®¡ç†ã€‚

### 3.ä½¿ç”¨åœºæ™¯

- **äº‘å­˜å‚¨æ–‡ä»¶ç®¡ç†**ï¼šé€‚ç”¨äºéœ€è¦ç®¡ç†å¤šç§äº‘å­˜å‚¨è´¦æˆ·ã€å¹¶å¸Œæœ›ç»Ÿä¸€æ“ä½œç•Œé¢çš„ç”¨æˆ·ã€‚
- **è·¨å¹³å°æ–‡ä»¶è®¿é—®**ï¼šåœ¨å¤šç§å­˜å‚¨ä»‹è´¨ä¹‹é—´è¿›è¡Œæ•°æ®è¿ç§»æˆ–åŒæ­¥ã€‚
- **è‡ªåŠ¨åŒ–å·¥ä½œæµ**ï¼šä½¿ç”¨ API å’Œè„šæœ¬è¿›è¡Œè‡ªåŠ¨åŒ–æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ç­‰æ“ä½œã€‚

## ä¸‰ã€äº†è§£Wabdavåè®®



## å››ã€è·å–é˜¿é‡Œäº‘ç›˜ä¿¡æ¯

>è·å–å…³é”®ä¿¡æ¯

### 1.äº‘ç›˜ä¿¡æ¯ä»‹ç»

ä½¿ç”¨ Xiaoya-é˜¿é‡Œäº‘ç›˜ æ„å»ºå®¶åº­å½±éŸ³æœåŠ¡å™¨æ—¶ï¼Œéœ€è¦ä»¥ä¸‹ä¸‰ä¸ªå…³é”®ä¿¡æ¯æ¥å¯¹æ¥é˜¿é‡Œäº‘ç›˜èµ„æºï¼š

#### 1.`token` 

>tokenæ˜¯Xiaoya ç”¨æˆ·æˆæƒä»¤ç‰Œ
>
>**ä½œç”¨**ï¼šæˆæƒ Xiaoya è¿æ¥ä¸­è½¬æœåŠ¡è·å–ä½ çš„ç½‘ç›˜èµ„æºï¼Œè¯†åˆ«ä½ çš„è´¦æˆ·èº«ä»½ã€‚

#### 2.`opentoken` 

>opentokenæ˜¯é˜¿é‡Œäº‘ç›˜è®¿é—®ä»¤ç‰Œï¼ˆaccess_tokenï¼‰
>
>**ä½œç”¨**ï¼šé˜¿é‡Œäº‘ç›˜çš„è®¿é—®å‡­è¯ï¼Œå…è®¸ Xiaoya è·å–ä½ ç½‘ç›˜ä¸­çš„å…·ä½“æ–‡ä»¶å†…å®¹ã€‚
>
>å®‰å…¨æ€§ï¼š**åƒä¸‡ä¸èƒ½ç»™åˆ«äººï¼Œåˆ«äººè·å–äº†è¿™ä¸ªç­‰äºè·å–äº†ä½ çš„é˜¿é‡Œç½‘ç›˜è´¦å·å’Œå¯†ç **

#### 3.`folder_id`

>  `folder_id`æ˜¯é˜¿é‡Œäº‘ç›˜ä¸­çš„æ–‡ä»¶å¤¹ ID
>
> **ä½œç”¨**ï¼šæŒ‡å®šä»å“ªä¸ªæ–‡ä»¶å¤¹å¼€å§‹æŒ‚è½½å’Œå±•ç¤ºèµ„æºã€‚



### 2.è·å–token

æ‰“å¼€ç½‘é¡µ**`https://aliyuntoken.vercel.app/`**ï¼Œä½¿ç”¨é˜¿é‡Œäº‘ç›˜APPæ‰«æ

<img src="https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/image-20250517180342190.png" alt="image-20250517180342190" style="zoom:67%;" />

æ‰«æåï¼ŒäºŒç»´ç ä¸‹æ–¹ä¼šå‡ºç°Tokenï¼š

```
refreshToken: 29faf032b49f4xxxxxxxxxxxxxxxxxx
```

> ä¿å­˜ä¸‹æ¥ï¼Œéƒ¨ç½²æ—¶éœ€è¦ä½¿ç”¨ï¼Œç†è®ºä¸Šå¯ä»¥ä¸€ç›´ä¸æ›´æ¢ï¼Œåç»­tokenå‡ºç°å¡é¡¿ï¼Œé‡æ–°è·å–å³å¯ã€‚



### 3.è·å–Open token

>open tokenåœ¨alistå®˜æ–¹ä¹Ÿå«åˆ·æ–°ä»¤ç‰Œï¼Œå¹¶ä¸”å®˜æ–¹æä¾›ä¸¤ç§æ–¹å¼è¿›è¡Œè·å–ï¼Œ[å‚è€ƒæ–‡æ¡£](https://alistgo.com/zh/guide/drivers/aliyundrive_open.html)
>
>æ‰“å¼€è·å–ç½‘å€ï¼šhttps://alist.nn.ci/tool/aliyundrive/request.html

æ‰“å¼€[è·å–ç½‘å€](https://alist.nn.ci/tool/aliyundrive/request.html)åï¼Œç‚¹å‡»ã€æ‰«æäºŒç»´ç ã€‘ï¼Œ

<img src="https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/image-20250517180508386.png" alt="image-20250517180508386" style="zoom:67%;" />

ç‚¹å‡»åï¼Œå‡ºç°äºŒç»´ç ï¼Œä½¿ç”¨é˜¿é‡Œäº‘ç›˜æ‰‹æœºAPPè¿›è¡Œæ‰«æ

<img src="https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/image-20250517180650277.png" alt="image-20250517180650277" style="zoom:67%;" />

æ‰«æåï¼Œæ‰‹æœºä¼šå¼¹å‡º

<img src="https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/image-20250517181005007.png" alt="image-20250517181005007" style="zoom: 67%;" />

ï¼ˆè¿™ä¸ªè²Œä¼¼å¯ä»¥å¿½ç•¥ï¼‰

<img src="https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/image-20250517181021898.png" alt="image-20250517181021898" style="zoom: 67%;" />



<img src="https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/image-20250517181040478.png" alt="image-20250517181040478" style="zoom:50%;" />

å†ç‚¹å‡»ã€å·²æ‰«æã€‘å³ä¼šæ˜¾ç¤ºrefresh_tokenï¼Œå¦‚ä¸‹ï¼š

<img src="https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/image-20250517180850609.png" alt="image-20250517180850609" style="zoom:67%;" />

è·å–çš„åˆ·æ–°ä»¤ç‰Œå¦‚ä¸‹ï¼š

```
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJiYzc2NjQ3YzI3ZmU0OTI5YjYzZTJmN2RiNDcxODBmMSIsImF1ZCI6Ijc2OTE3Y2NjY2Q0NDQxYzM5NDU3YTA0ZjYwODRmYjJmIiwiZXhwIjoxNzU1Mjxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```



### 4.è·å–folder id

æ‰“å¼€ç½‘é¡µ`https://www.aliyundrive.com/s/rP9gP3h9asE`ï¼Œç‚¹å‡»ã€ç™»å½•å¹¶ä¿å­˜ã€‘ï¼Œä¿å­˜åˆ°ç½‘ç›˜æ ¹ç›®å½•ï¼ˆé¦–é¡µï¼‰

<img src="https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/image-20250517181337032.png" alt="image-20250517181337032" style="zoom: 67%;" />

è½¬å­˜åï¼Œç™»å½•é˜¿é‡Œäº‘ç½‘ç›˜é¦–é¡µï¼Œå³å¯åœ¨é˜¿é‡Œäº‘ç›˜ã€å…¨éƒ¨æ–‡ä»¶ã€‘ä¸­ï¼Œçœ‹åˆ°ã€å°é›…è½¬å­˜æ–‡ä»¶å¤¹ã€‘

![image-20250517181432615](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/image-20250517181432615.png)

æ‰“å¼€è½¬å­˜åçš„ç›®å½•ã€å°é›…è½¬å­˜æ–‡ä»¶å¤¹ã€‘ï¼Œåœ¨æµè§ˆå™¨çš„ urlï¼š

>https://www.alipan.com/drive/file/all/68286xxxxxxxxxxxxxxxxxxxxxxx

**æœ€åä¸€ä¸²å°±æ˜¯è½¬å­˜ç›®å½•çš„ folder idï¼Œè®°å¾—è¿™ä¸ªç›®å½•ä¸è¦åˆ ï¼Œé‡Œé¢çš„å†…å®¹å¯ä»¥å®šæœŸåˆ é™¤**

<img src="https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/image-20250517181636486.png" alt="image-20250517181636486" style="zoom:67%;" />

```
682861d4d0ef70118exxxxXXXXX
```



## äº”ã€dockeréƒ¨ç½²Xiaoya

> é¡¹ç›®åœ°å€ï¼šhttps://github.com/xiaoyaDev/xiaoya-alist
>
> å®˜æ–¹ä¸€é”®å®‰è£…è„šæœ¬ï¼šbash -c "$(curl --insecure -fsSL https://ddsrem.com/xiaoya_install.sh)"
>
> ----------------------
>
> å¦‚æœæ˜¯å¸Œæœ›é€šè¿‡è„šæœ¬å®‰è£…ï¼Œè¿™ä¸ªè„šæœ¬æ— ç–‘æå…¶å…¨é¢ï¼Œä¸ºäº†äº†è§£è¿è¡ŒåŸç†ï¼Œä¸€æ­¥æ­¥æ‰‹åŠ¨è¿›è¡Œéƒ¨ç½²ã€

**ä»¥ä¸‹æ˜¯æ‰‹åŠ¨åˆ›å»ºæ‰§è¡Œï¼Œäº†è§£å°é›…éƒ¨ç½²çš„è¿‡ç¨‹**

### ä¸€ã€docker runéƒ¨ç½²

#### 1.åˆ›å»ºç›®å½•

```
mkdir /data/xiaoya
```

#### 2.åˆ›å»º mytoken.txt

åˆ›å»º mytoken.txtï¼Œå¹¶å†™å…¥é˜¿é‡Œäº‘çš„token

```
cat > /data/xiaoya/mytoken.txt <<EOF
29faf032b49f49xXXX
EOF
```

#### 3.åˆ›å»º myopentoken.txt

åˆ›å»º myopentoken.txtï¼Œå¹¶å†™å…¥é˜¿é‡Œäº‘çš„opentoken

```
cat > /data/xiaoya/myopentoken.txt <<EOF
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJiYzc2NjQ3YzI3ZmU0OTI5YjYzZTJmN2RiNDcxODBmMSIsImF1ZCI6Ijc2OTE3Y2NjY2Q0NDQxYzM5NDU3YTA0ZjYwODRmYjJmxxxxxXXXXXXXXXXXXXXXXXXXX
EOF
```

#### 4.åˆ›å»ºtemp_transfer_folder_id.txt

åˆ›å»ºtemp_transfer_folder_id.txtï¼Œå¹¶å†™å…¥folder_id

```
cat > /data/xiaoya/temp_transfer_folder_id.txt <<EOF
682861d4d0ef7011xXXXXXXXXXXXXXX
EOF
```

#### 5.å¯åŠ¨dockerå®¹å™¨

```
docker run -d \
	--restart=always \
	--name="xiaoya" \
	-p 5678:80 \
	-p 2345:2345 \
    -p 2346:2346 \
    -v /data/xiaoya:/data \
    xiaoyaliu/alist:latest

```

**æ‰§è¡Œæ—¥å¿—ï¼š**

```
[root@node01 /root]# netstat -tnlp
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        0      0 0.0.0.0:2345            0.0.0.0:*               LISTEN      20512/docker-proxy  
tcp        0      0 0.0.0.0:2346            0.0.0.0:*               LISTEN      20519/docker-proxy  
tcp        0      0 0.0.0.0:5678            0.0.0.0:*               LISTEN      20506/docker-proxy  
tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      774/rpcbind         
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1033/sshd           
tcp6       0      0 :::111                  :::*                    LISTEN      774/rpcbind         
tcp6       0      0 :::22                   :::*                    LISTEN      1033/sshd           

[root@node01 /root]# docker logs xiaoya
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  1592    0  1592    0     0    595      0 --:--:--  0:00:02 --:--:--   595
æœ‰æ•ˆåœ°å€ä¸ºï¼šhttps://raw.githubusercontent.com/xiaoyaDev/data/main
æœ€æ–°ç‰ˆæœ¬ 0.14.27 å¼€å§‹æ›´æ–°ä¸‹è½½.....

æˆåŠŸæ›´æ–° tvbox.zip
æˆåŠŸæ›´æ–° update.zip
æˆåŠŸæ›´æ–° index.zip

/data/pikpak.txt: No such file or directory (os error 2)
157 records have been updated into your database
Mon May 19 13:06:02 CST 2025 User's own token 29faf032b49f491fb0fc4e1ca2e22c0e has been updated into database successfully
å¯åŠ¨å®¹å™¨(Bridgeæ¨¡å¼)......
INFO[2025-05-19 13:06:12] reading config file: data/config.json        
INFO[2025-05-19 13:06:12] load config from env with prefix:            
INFO[2025-05-19 13:06:12] init logrus...                               
INFO[2025-05-19 13:06:12] start server @ 127.0.0.1:5244                
INFO[2025-05-19 13:06:12] success load storage: [/æ›²è‰º/æˆæ›²ï¼ˆäº¬ï¼Œè±«ï¼Œå•ï¼Œé»„æ¢…æˆï¼‰å‰§], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æ›²è‰º/æˆæ›²ï¼ˆè¶Šï¼Œæ²ªï¼Œæ˜†ï¼Œæ·®æ‰¬ï¼‰å‰§], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/ç”µå½±/æ¬§ç¾/ç³»åˆ—], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/ç”µè§†å‰§/æ¸¯å°/TVB], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/ç”µå½±/éŸ©å›½/ä¼˜è´¨åˆé›†], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/ç”µå½±/æ—¥æœ¬], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/ç”µå½±/å°åº¦], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æ›²è‰º/ç›¸å£°å°å“/æ˜¥æ™šå°å“åˆé›†], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/ç”µå­ä¹¦/ä¸­å›½æ³•å¾‹å¤§å…¨], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æ•™è‚²/ç¼–ç¨‹å¼€å‘/Pythonç‰¹è®­å°±ä¸šç­ï¼ˆ14ä¸ªåˆ†ç±»ï¼‰], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æ•´ç†ä¸­/epubåˆé›†], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/éŸ³ä¹/æ¬§ç¾æµè¡Œ], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/éŸ³ä¹/å¤§åˆé›†], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/ğŸ“ºç”»è´¨æ¼”ç¤ºæµ‹è¯•ï¼ˆ4Kï¼Œ8Kï¼ŒHDRï¼ŒDolbyï¼‰], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æœ‰å£°ä¹¦/æœ‰å£°å°è¯´/åˆé›†3], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æœ‰å£°ä¹¦/æœ‰å£°å°è¯´/åˆé›†1], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æœ‰å£°ä¹¦/æœ‰å£°å°è¯´/åˆé›†2], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æœ‰å£°ä¹¦/æœ‰å£°å°è¯´/åˆé›†2/æ˜æœé‚£äº›äº‹å„¿], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æœ‰å£°ä¹¦/è¯„ä¹¦], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æ¸¸æˆ/PC], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æ¸¸æˆ/XBOX360], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æ¸¸æˆ/å®‰å“], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æ¸¸æˆ/Emuelec], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æ•´ç†ä¸­/100Tå½±è§†èµ„æº], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æ¯æ—¥æ›´æ–°/ç”µè§†å‰§], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/ç”µå½±/å¥¥æ–¯å¡è·å¥–ç”µå½±ï¼ˆ1988-2022ï¼‰], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/éŸ³ä¹/æ¼”å”±ä¼š/æœªåˆ†ç±»], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/éŸ³ä¹/æ¼”å”±ä¼š], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/ç”µè§†å‰§/æ—¥æœ¬], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/ç”µè§†å‰§/æ—¥æœ¬/åˆé›†], driver: [AliyundriveShare2Open] 
INFO[2025-05-19 13:06:12] success load storage: [/æ¯æ—¥æ›´æ–°/ç”µå½±], driver: [AliyundriveShare2Open] 

```

#### 6.é€šè¿‡æµè§ˆå™¨è®¿é—®

è®¿é—®åœ°å€å¦‚ï¼šhttp://10.22.51.65:5678/ ï¼ˆ10.22.51.65æ”¹æˆä½ çš„æœåŠ¡å™¨IPå³å¯ï¼‰

>å¦‚è®¿é—®ä¸æ­£å¸¸ï¼Œå¯ä»¥ç­‰å¾…5-10 åˆ†é’Ÿå†åˆ·æ–°æµè§ˆå™¨ï¼ŒéªŒè¯æ˜¯å¦æŒ‚è½½æˆåŠŸã€‚ï¼ˆé€Ÿåº¦è¦å–å†³äºä½ çš„ç½‘ç»œï¼‰
>
>å¦‚æœåˆšå¼€å§‹é¡µé¢ä¼šæ˜¾ç¤ºâ€œè·å–è®¾ç½®å¤±è´¥â€ï¼Œè¿™æ˜¯æ­£å¸¸æƒ…å†µâ€œï¼Œè¿™æ˜¯å› ä¸ºå°é›…AliståŠ è½½éœ€è¦ä¸€äº›æ—¶é—´ã€‚é¦–æ¬¡è®¿é—®æ—¶ï¼Œç”±äºå°é›…éœ€è¦è¿›è¡Œç´¢å¼•ï¼Œå¯åŠ¨æ—¶é—´ä¼šæ¯”è¾ƒæ…¢ï¼Œæ ¹æ®ç½‘ç»œæƒ…å†µï¼Œéœ€è¦1-5åˆ†é’Ÿä¸ç­‰ã€‚

![image-20250519131917371](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/2fd3ceeb80f4c1f0abb0ae5a76461725-2fd3ceeb80f4c1f0abb0ae5a76461725-image-20250519131917371-647f0a-345290.png)



**ç¼ºç‚¹ï¼šè¿™ä¸ªdockeré•œåƒï¼Œæ²¡æœ‰xiaoyaçš„ç®¡ç†åå°ï¼Œåªæœ‰é¦–é¡µ**ï¼Œ**æ‰€ä»¥éœ€è¦å†å•ç‹¬éƒ¨ç½²ä¸€ä¸ªalist**ï¼Œç”¨æ¥æŒ‚è½½å°é›…



### äºŒã€é€šè¿‡docker-composeéƒ¨ç½²

#### 1.åˆ›å»ºcomposeæ–‡ä»¶å¤¹

```
mkdir -p /data/xiaoya1/

mkdir -p /data/xiaoya1/{xiaoya,media,config,cache,meta}
```

#### 2.æ·»åŠ ç¯å¢ƒå˜é‡

>å› ä¸ºdocker runä½¿ç”¨çš„é•œåƒæ˜¯`xiaoyaliu/alist:latest**`ï¼Œä¸¤è€…ç®¡ç†çš„ç¯å¢ƒå˜é‡åç§°è¿˜ä¸å¤ªä¸€æ ·ã€‚
>
>ä½†è²Œä¼¼`ghcr.io/monlor/xiaoya-alist:latest`**ç›®å‰ æ˜¯**è¾ƒä¸ºæ´»è·ƒã€ä¸»æµã€å°é›…é¡¹ç›®å®˜æ–¹æ¨èçš„ç‰ˆæœ¬ï¼Œç”±å°é›…é¡¹ç›®çš„ä¸»è¦ç»´æŠ¤è€…ä¹‹ä¸€ [monlor](https://github.com/monlor) å‘å¸ƒå¹¶ç»´æŠ¤ï¼Œé•œåƒæ‰˜ç®¡åœ¨ GitHub Container Registryï¼ˆGHCRï¼‰ä¸Šã€‚

å†™å…¥`ALIYUN_TOKEN`ã€`ALIYUN_OPEN_TOKEN`ã€`TEMP_TRANSFER_FOLDER_ID`ä¸‰ä¸ªå˜é‡

```
cat > /data/xiaoya1/env <<'EOF'
ALIYUN_TOKEN=29faf032b49f491fbxxxxxxxxxxx
ALIYUN_OPEN_TOKEN=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJiYzc2NjQ3YzI3ZmU0OTI5YjYzZTJmN2RiNDcxODBmMSIsImF1ZCI6Ijc2OTE3Y2NjY2Q0NDQxYzM5NDU3YTA0ZjYwxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
ALIYUN_FOLDER_ID=682861d4d0ef701xxxxxxxxxxxxxxxxxxx
EOF
```

>## [ç¯å¢ƒå˜é‡å‚è€ƒ](https://github.com/monlor/docker-xiaoya/tree/main/alist)
>
>`ALIYUN_TOKEN`: é˜¿é‡Œäº‘token https://alist.nn.ci/zh/guide/drivers/aliyundrive.html
>
>`ALIYUN_OPEN_TOKEN`: é˜¿é‡Œäº‘ open-token https://alist.nn.ci/zh/guide/drivers/aliyundrive_open.html
>
>`ALIYUN_FOLDER_ID`: è¿›å…¥é˜¿é‡Œäº‘ç›˜ç½‘é¡µç‰ˆï¼Œèµ„æºç›˜é‡Œé¢åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç‚¹å‡»æ–‡ä»¶å¤¹ï¼Œå¤åˆ¶æµè§ˆå™¨é˜¿é‡Œäº‘ç›˜åœ°å€æœ«å°¾çš„æ–‡ä»¶å¤¹IDï¼ˆæœ€åä¸€ä¸ªæ–œæ /åé¢çš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼‰
>
>`QUARK_COOKIE`: å¤¸å…‹çš„cookieï¼Œç™»é™†å¤¸å…‹ç½‘ç›˜ï¼ŒF12æ‰¾ä¸€ä¸ªè¯·æ±‚ï¼ŒæŸ¥çœ‹è¯·æ±‚ä¸­çš„Cookieä¿¡æ¯
>
>`PAN115_COOKIE`: 115ç½‘ç›˜çš„cookieï¼Œç™»é™†115ç½‘ç›˜ï¼ŒF12æ‰¾ä¸€ä¸ªè¯·æ±‚ï¼ŒæŸ¥çœ‹è¯·æ±‚ä¸­çš„Cookieä¿¡æ¯
>
>`ALIYUN_TO_115`: æ˜¯å¦å°†é˜¿é‡Œäº‘ç›˜çš„æ–‡ä»¶è‡ªåŠ¨è¿ç§»åˆ°115ç½‘ç›˜ï¼Œtrue/falseï¼Œé»˜è®¤false
>
>`PAN115_FOLDER_ID`: è¿›å…¥115ç½‘é¡µç‰ˆï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç‚¹å‡»æ–‡ä»¶å¤¹ï¼Œå¤åˆ¶æµè§ˆå™¨115ç½‘ç›˜åœ°å€ä¸­çš„cidï¼Œé»˜è®¤æ ¹ç›®å½•ä¸º0
>
>```
>PIKPAK_USER`: pikpak è´¦å·ï¼Œç”¨æ¥è§‚çœ‹å°é›…ä¸­pikpakåˆ†äº«ç»™ä½ çš„èµ„æºï¼Œæ ¼å¼ï¼š`qqq@qq.com:aaadds
>```
>
>`PIKPAK_LIST`: æŒ‚è½½ä½ è‡ªå·± pikpak è´¦å·ï¼Œæ ¼å¼ï¼š`æŒ‚è½½å:qqq@qq.com:aaadds,aaa:+8613111111111:dasf`ï¼Œå¯†ç ä¸­ä¸æ”¯æŒç¬¦å·,:
>
>```
>PIKPAK_SHARE_LIST`: æŒ‚è½½è‡ªå®šä¹‰çš„pikpakåˆ†äº«å†…å®¹ï¼Œä¼šè¦†ç›–å°é›…çš„åˆ†äº«ï¼Œæ ¼å¼ï¼š`æŒ‚è½½å1:åˆ†äº«ID1:åˆ†äº«ç›®å½•ID1,æŒ‚è½½å2:åˆ†äº«ID2:åˆ†äº«ç›®å½•ID2
>ALI_SHARE_LIST`: æŒ‚è½½é¢å¤–çš„é˜¿é‡Œäº‘ç›˜åˆ†äº«å†…å®¹ï¼Œæ ¼å¼ï¼š`æŒ‚è½½å1:åˆ†äº«ID1:æ–‡ä»¶å¤¹ID1,æŒ‚è½½å2:åˆ†äº«ID2:æ–‡ä»¶å¤¹ID2
>QUARK_SHARE_LIST`: æŒ‚è½½é¢å¤–çš„å¤¸å…‹ç½‘ç›˜åˆ†äº«å†…å®¹ï¼Œæ ¼å¼ï¼š`æŒ‚è½½å1:åˆ†äº«ID1:æ–‡ä»¶å¤¹ID1(ä¸å­˜åœ¨å¡«root):æå–ç 1(æ²¡æœ‰ç•™ç©º),æŒ‚è½½å2:åˆ†äº«ID2:æ–‡ä»¶å¤¹ID2(ä¸å­˜åœ¨å¡«root):æå–ç 2
>PAN115_SHARE_LIST`: æŒ‚è½½é¢å¤–çš„115ç½‘ç›˜åˆ†äº«å†…å®¹ï¼Œæ ¼å¼ï¼š`æŒ‚è½½å1:åˆ†äº«ID1:æ–‡ä»¶å¤¹ID1(ä¸å­˜åœ¨å¡«root):æå–ç 1(æ²¡æœ‰ç•™ç©º),æŒ‚è½½å2:åˆ†äº«ID2:æ–‡ä»¶å¤¹ID2(ä¸å­˜åœ¨å¡«root):æå–ç 2
>```
>
>`TVBOX_SECURITY`: å¼€å¯tvboxéšæœºè®¢é˜…åœ°å€ï¼Œtrue/falseï¼Œé»˜è®¤ï¼šfalse
>
>`PROXY`: ä½¿ç”¨ä»£ç†ï¼Œæ”¯æŒhttpã€httpsã€socks5åè®®ï¼Œæ ¼å¼ï¼š[http://ip:7890](http://ip:7890/) æˆ– socks5://ip:7890
>
>`WEBDAV_PASSWORD`: webdavç”¨æˆ·åä¸ºdavï¼Œè®¾ç½®å¯†ç ã€‚é»˜è®¤ç”¨æˆ·å¯†ç ï¼šguest/guest_Api789
>
>`EMBY_ADDR`: embyéƒ¨ç½²åœ°å€ï¼Œé»˜è®¤[http://emby:6908ï¼Œå®¹å™¨å†…éƒ¨ä½¿ç”¨åœ°å€ï¼Œä¸€èˆ¬ä¸ç”¨æ”¹](http://emby:6908ï¼Œå®¹å™¨å†…éƒ¨ä½¿ç”¨åœ°å€ï¼Œä¸€èˆ¬ä¸ç”¨æ”¹/)
>
>`EMBY_APIKEY`: å¡«å…¥ä¸€ä¸ªembyçš„api keyï¼Œç”¨äºåœ¨infuseä¸­æ’­æ”¾emby
>
>`AUTO_CLEAR_ENABLED`: è‡ªåŠ¨æ¸…ç†é˜¿é‡Œäº‘äº‘ç›˜çš„æ–‡ä»¶ï¼Œtrue/falseï¼Œé»˜è®¤false
>
>`AUTO_CLEAR_INTERVAL`: è‡ªåŠ¨æ¸…ç†é—´éš”ï¼Œå•ä½åˆ†é’Ÿï¼ŒèŒƒå›´0-60åˆ†é’Ÿï¼Œé»˜è®¤10åˆ†é’Ÿ
>
>`AUTO_CLEAR_THRESHOLD`: é˜¿é‡Œäº‘ç›˜è‡ªåŠ¨æ¸…ç†æ–‡ä»¶å­˜åœ¨æ—¶é—´é˜ˆå€¼ï¼Œå•ä½åˆ†é’Ÿï¼ŒèŒƒå›´0-60åˆ†é’Ÿï¼Œé»˜è®¤10åˆ†é’Ÿ



#### 3.æ·»åŠ docker-compose.yml

```
cat > /data/xiaoya1/docker-compose.yml <<'EOF'
version: '3.8'

services:
  alist:
    image: ghcr.io/monlor/xiaoya-alist:latest
    volumes:
      - /data/xiaoya/xiaoya:/data
      - /data/xiaoya/media:/media/xiaoya
    ports:
      - "5678:5678"
      - "2345:2345"
      - "2346:2346"
    environment:
      - AUTO_UPDATE_MEDIA_ADDR=true
    env_file:
      - /data/xiaoya/env
    restart: unless-stopped
    networks:
      - xiaoya

networks:
  xiaoya:
    driver: bridge

EOF
```

#### 4.å¯åŠ¨å®¹å™¨

```
cd /data/xiaoya1
docker compose up -d
```

**æŸ¥çœ‹docker logæ—¥å¿—**ï¼š

>```
>[root@node01 /data/xiaoya1]# docker logs -f fab311fd5898
>å¼€å§‹ç”Ÿæˆé…ç½®æ–‡ä»¶...
>æ·»åŠ é˜¿é‡Œäº‘ç›˜ Token...
>æ·»åŠ é˜¿é‡Œäº‘ç›˜ Open Token...
>æ·»åŠ é˜¿é‡Œäº‘ç›˜ Folder ID...
>å·²å…³é—­TVBOXå®‰å…¨æ¨¡å¼...
>å¼€å§‹è‡ªåŠ¨æ›´æ–°åª’ä½“æœåŠ¡åœ°å€...
>ç­‰å¾…emby.jsåˆ›å»ºå®Œæˆ...
>æœ‰æ•ˆåœ°å€ä¸ºï¼šhttps://raw.githubusercontent.com/xiaoyaliu00/data/main
>æœ€æ–°ç‰ˆæœ¬ 0.14.27 å¼€å§‹æ›´æ–°ä¸‹è½½.....
>
>ç­‰å¾…jellyfin.jsåˆ›å»ºå®Œæˆ...
>æˆåŠŸæ›´æ–° tvbox.zip
>æˆåŠŸæ›´æ–° update.zip
>æˆåŠŸæ›´æ–° index.zip
>æˆåŠŸæ›´æ–° version.txt
>/data/pikpak.txt: No such file or directory (os error 2)
>157 records have been updated into your database
>sed: /www/tvbox/libs/alist.min.js: No such file or directory
>sed: /www/tvbox/cat/libs/cat.alist.min.js: No such file or directory
>sed: /www/tvbox/libs/alist.min.js: No such file or directory
>Mon May 19 13:47:27 CST 2025 update index succesfully, your new version.txt is 0.14.27
>Mon May 19 13:47:27 CST 2025 User's own token 29faf032b49f491fb0fc4e1ca2e22c0e has been updated into database successfully
>å¯åŠ¨å®¹å™¨(Hostæ¨¡å¼)......
>INFO[2025-05-19 13:47:37] reading config file: data/config.json        
>INFO[2025-05-19 13:47:37] load config from env with prefix:            
>INFO[2025-05-19 13:47:37] init logrus...                               
>INFO[2025-05-19 13:47:37] start server @ 127.0.0.1:5234                
>INFO[2025-05-19 13:47:40] success load storage: [/æ›²è‰º/æˆæ›²ï¼ˆäº¬ï¼Œè±«ï¼Œå•ï¼Œé»„æ¢…æˆï¼‰å‰§], driver: [AliyundriveShare2Open] 
>AliOpenAccessToken å·²å­˜åœ¨
>INFO[2025-05-19 13:47:42] success load storage: [/æ›²è‰º/æˆæ›²ï¼ˆè¶Šï¼Œæ²ªï¼Œæ˜†ï¼Œæ·®æ‰¬ï¼‰å‰§], driver: [AliyundriveShare2Open] 
>AliOpenAccessToken å·²å­˜åœ¨
>INFO[2025-05-19 13:47:44] success load storage: [/], driver: [AliyundriveShare2Open] 
>.................
>
>```

#### 5.è®¿é—®Xiaoya

æ‰“å¼€æµè§ˆå™¨è¾“å…¥æœåŠ¡å™¨ip+5678ç«¯å£ï¼Œå³å¯è®¿é—®ï¼ˆå¦‚ï¼šhttp://10.22.51.65:5678/ï¼‰



## å…­ã€dockeréƒ¨ç½²Alist

>æŒ‚è½½é˜¿é‡Œäº‘ç½‘ç›˜å‚è€ƒï¼šhttps://blog.csdn.net/2301_79855962/article/details/139559104
>
>â€‹										https://www.cnblogs.com/littlecc/p/18300532

### 1.åˆ›å»ºæŒ‚è½½ç›®å½•

```
mkdir -p /data/alist/alist_data
```

### 2.æ·»åŠ docker-compose.yml

```
cat > /data/alist/docker-compose.yml << 'EOF'
version: '3.8'

services:
  alist:
    image: xhofe/alist:latest
    container_name: alist
    ports:
      - "5244:5244"
    volumes:
      - /data/alist/alist_data:/opt/alist/data
    restart: unless-stopped
EOF
```

### 3.å¯åŠ¨å®¹å™¨

```
docker compose up -d
```

### 4.ä¿®æ”¹alistç®¡ç†å¯†ç 

>ç®€æ´å‘½ä»¤ï¼šdocker exec -it alist ./alist admin set NEW_PASSWORD

#### 1.è¿æ¥å®¹å™¨

```
docker exec -it alist bash
```

#### 2.è®¾ç½®å¯†ç 

```
./alist admin set password
```

- passwrodåˆ™æ˜¯ä½ æƒ³è®¾ç½®çš„å¯†ç 

#### 3.ç™»é™†aliståå°

![image-20250520105003636](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/c01c58133b22781572a515d647817392-c01c58133b22781572a515d647817392-image-20250520105003636-50f847-63129d.png)



#### 5.Alistæ·»åŠ é˜¿é‡Œäº‘ç›˜

ç™»é™†Alistç®¡ç†åå°ï¼Œç‚¹å‡»ã€å­˜å‚¨ã€‘â€”â€”ç‚¹å‡»ã€æ·»åŠ ã€‘â€”â€”é©±åŠ¨é€‰æ‹©ã€é˜¿é‡Œäº‘ç›˜openã€‘

é˜¿é‡Œäº‘ç›˜openæŒ‚è½½é€‰é¡¹ï¼š

æŒ‚è½½è·¯å¾„ï¼š/é˜¿é‡Œäº‘ç›˜ï¼ˆå¯è‡ªå®šä¹‰ï¼Œç”¨äºåœ¨Alisté¦–é¡µå±•ç¤ºï¼‰

ç¼“å­˜è¿‡æœŸï¼š300åˆ†é’Ÿ

Webä»£ç†ï¼šå¯ç”¨

WebDavç­–ç•¥ï¼š302é‡å®šå‘

åˆ·æ–°ä»¤ç‰Œï¼š**å¤åˆ¶è·å–çš„open token**ï¼Œæˆ–è€…æ‰“å¼€ç½‘å€é‡æ–°è·å–ï¼šhttps://alist.nn.ci/tool/aliyundrive/request.html

ç‚¹å‡»ã€ä¿å­˜ã€‘

![image-20250520122121865](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/d5bd858d6619b11265c26bafb3a37697-image-20250520122121865-e39333.png)

å®Œæˆåï¼Œå¦‚å›¾æ‰€ç¤ºï¼š

![image-20250520120920817](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/4ca716d82db3bb1aef5fa683d6b3d0c9-image-20250520120920817-4bb194.png)



#### 6.æŒ‚è½½å°é›…Aliståˆ°Alist

##### 1.ç”Ÿæˆtokenä»¤ç‰Œ

**åˆ›å»ºä¸€ä¸ªåœ¨AListä¸­æŒ‚è½½å°é›…æ‰€éœ€è¦çš„token**ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š

```
docker exec -i xiaoya sqlite3 data/data.db <<EOF
select value from x_setting_items where key = "token";
EOF
```

>[root@node01 /root]# docker exec -i xiaoya sqlite3 data/data.db <<EOF
>
>> select value from x_setting_items where key = "token";
>> EOF
>> alist-09ceb38a-f143-47f7-b255-c3eec819cd7bqpNRXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

**ä¿å­˜å¥½ä¸Šè¿°tokenï¼Œä¸‹ä¸€æ­¥éª¤éœ€ä½¿ç”¨**



##### 2.æŒ‚è½½Xiaoya_Alist

Aliståå°-æ‰¾åˆ°ã€å­˜å‚¨ã€‘â€”â€”ç‚¹å‡»ã€æ·»åŠ ã€‘â€”â€”é©±åŠ¨é€‰æ‹©ã€Alist V3ã€‘,ç¼–è¾‘Alist V3ä¿¡æ¯

ã€æŒ‚è½½è·¯å¾„ã€‘ï¼ˆå¯è‡ªå®šä¹‰ï¼Œç”¨äºAlisté¦–é¡µå±•ç¤ºï¼‰ï¼š**/xiaoya**   ï¼ˆè¿™é‡Œæ¨èä½¿ç”¨/æ ¹ç›®å½•ï¼‰

ã€WebDavç­–ç•¥ã€‘ï¼š**302é‡å®šå‘**

ã€æ ¹æ–‡ä»¶å¤¹è·¯å¾„ã€‘ï¼š**/**

ã€é“¾æ¥ã€‘ï¼ˆå¡«å†™å°é›…æœåŠ¡å™¨IPå’Œç«¯å£ï¼‰ï¼š**http://10.22.51.65:5678** 

ã€ä»¤ç‰Œã€‘ï¼ˆç”Ÿæˆçš„tokenï¼‰ï¼š**alist-09ceb38a-f143-47f7-b255-c3eec819cd7bqpNRNmu47GiM9XVAh3NBQxxxxxxxx**

**å…¶ä»–æœªè¯´æ˜çš„é€‰é¡¹ï¼Œé»˜è®¤å³å¯ã€‚**

![image-20250520122042033](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/dbd06916b0c5da36d3a75f2fc8073db7-image-20250520122042033-f2e1e0.png)



![image-20250520122054605](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/ed20c69dceca2246e9ad0b22195b534c-image-20250520122054605-9b7e90.png)



å†æ¬¡æ‰“å¼€Alistä¸»é¡µå³å¯çœ‹åˆ°

![image-20250520122239776](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/cca0dac541c5e615130174f3d4d11d05-image-20250520122239776-17ebcb.png)

è¿™æ ·ï¼Œåœ¨æ‰“å¼€http://10.22.51.65:5244/æ—¶ï¼Œè€Œæœªç™»é™†çš„æƒ…å†µä¸‹ï¼Œåªèƒ½è®¿é—®ç™»é™†é¡µé¢ï¼Œè€Œéè®¿é—®5678ç«¯å£é‚£æ ·ï¼ˆ**å¦‚æœéœ€è¦å¤–ç½‘è®¿é—®ï¼Œæ˜¯éœ€è¦æ­¤æ­¥éª¤**ï¼‰

![image-20250520122312294](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/ffd774a3f592f058adf14132f982c69d-image-20250520122312294-2fb7e8.png)





#### 7.æ·»åŠ wabdavæƒé™

ç»™éœ€è¦è§‚å½±çš„è´¦å·æ·»åŠ wabdavæƒé™

![image-20250520125819203](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/8af85b3e8a12ae00155c1be0de076b01-image-20250520125819203-88d322.png)

8.å»ºç«‹ç´¢å¼•

Aliståå°â€”â€”æ‰¾åˆ°ã€ç´¢å¼•ã€‘â€”â€”æœç´¢ç´¢å¼•é€‰æ‹©ã€æ•°æ®åº“ã€‘â€”â€”ç‚¹å‡»ã€ä¿å­˜ã€‘â€”â€”å†ç‚¹å‡»ã€æ„å»ºç´¢å¼•ã€‘

![image-20250520131718167](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/59b33fddab34f89aaba5bcc267cf4326-image-20250520131718167-3e4ec1.png)

å®Œæˆåå¦‚ä¸‹ï¼š

![image-20250520131844010](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/3268b2ac15be17f8d8a388f068a978e1-image-20250520131844010-d5974b.png)

å†å›åˆ°Alisté¦–é¡µï¼Œå³ä¸Šè§’å‡ºç°äº†æœç´¢æ ï¼ˆå…¶ä»–å®¢æˆ·ç«¯ä¹Ÿå¯ä»¥æœç´¢ï¼‰

![image-20250520131955839](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/ca9da76fd8e871429697b1d7a7022dfb-image-20250520131955839-0c5cfa.png)



## ä¸ƒã€è§‚å½±é€”å¾„

### 1.ç½‘é¡µè§‚çœ‹

é€šè¿‡è®¿é—®ç½‘é¡µhttp://10.22.51.65:5244/ï¼Œç™»é™†åè¿›è¡Œè§‚çœ‹

![image-20250520130159605](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/a8ab37d892e89eb189b404497ecbb4cf-image-20250520130159605-6a9ea0.png)

### 2.PotPlayerå®¢æˆ·ç«¯

æ‰“å¼€`PotPlayer`å®¢æˆ·ç«¯ï¼Œç‚¹å‡»æ–°å»ºä¸“è¾‘

![image-20250520130351465](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/bc60261899323b7060fc769e2af969fd-image-20250520130351465-999a4f.png)



æ·»åŠ ä¸“è¾‘ä¿¡æ¯å¦‚ä¸‹ï¼š

ã€ä¸“è¾‘åç§°ã€‘ï¼š**`xiaoya`**

ã€å‹¾é€‰ã€‘ï¼š**`FTP/WebDAV/HTTP æœç´¢`**

ã€åè®®ã€‘ï¼š**`WebDav`**

ã€ä¸»æœº/è·¯å¾„ã€‘ï¼š**`10.22.51.65/dav/xiaoya`**   ï¼ˆè¿™é‡Œéœ€è¦æ³¨æ„ï¼Œå¦‚æœä½ åœ¨æ·»åŠ xiaoyaä½¿ç”¨çš„æ˜¯æ ¹ç›®å½•/ï¼Œé‚£ä¹ˆä½¿ç”¨**10.22.51.65/dav**å³å¯ï¼‰

ã€ç«¯å£ã€‘ï¼š**`5244`**

ã€ç”¨æˆ·åã€‘ï¼š**`admin  `**ï¼ˆå¯ä»¥ç”¨éadminè´¦å·ï¼Œæ·»åŠ WebDAVæƒé™å³å¯ï¼‰

ã€å¯†ç ã€‘ï¼š**`xxx`**

![image-20250520130618542](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/b4b98573942bde0ce1c3690ade70b667-image-20250520130618542-0e71ef.png)

æ·»åŠ åå³å¯çœ‹åˆ°è§‚å½±åˆ—è¡¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![image-20250520130934771](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/c1883139baca150aa78ca9d015eb9e78-image-20250520130934771-1a9722.png)





### 3.æ·»åŠ ç‚¹å‡»ç½‘é¡µPotPlayer

#### 1.ä¿®æ”¹æ³¨å†Œè¡¨

æ‰“å¼€PotPlayerå®‰è£…ç›®å½•ï¼Œåˆ›å»º`potplayer.reg`æ–‡ä»¶ï¼Œæ·»åŠ ä¿®æ”¹æ³¨å†Œè¡¨çš„ä»£ç ï¼š

```
Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\potplayer]
@="URL:PotPlayer Protocol"
"URL Protocol"=""

[HKEY_CLASSES_ROOT\potplayer\shell]

[HKEY_CLASSES_ROOT\potplayer\shell\open]

[HKEY_CLASSES_ROOT\potplayer\shell\open\command]
@="\"C:\\Software\\PotPlayer64\\PotPlayer64\\PotPlayerMini64.exe\" \"%1\""

```

å…¶ä¸­ï¼Œè·¯å¾„éœ€è¦æ”¹ä¸ºä½ çš„PotPlayerå®‰è£…è·¯å¾„

```
@="\"C:\\Software\\PotPlayer64\\PotPlayer64\\PotPlayerMini64.exe\" \"%1\""
```

åˆ›å»ºå®Œæˆï¼ŒåŒå‡»potplayer.regï¼Œæ‰§è¡Œä¿®æ”¹æ³¨å†Œè¡¨ï¼š

![image-20250520132847790](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/8f92fa8f8deb31eea73e62374abcc325-image-20250520132847790-94f802.png)

#### 2.æ‰§è¡Œæ³¨å†Œè¡¨è„šæœ¬

ç„¶åï¼Œæ‰¾ä¸€ä¸ªè§†é¢‘è¿›è¡Œæµ‹è¯•ï¼Œæ‰“å¼€è¿è¡Œï¼Œè¾“å…¥è§†é¢‘é“¾æ¥ï¼Œå¦‚ä¸‹è¿›è¡Œæµ‹è¯•ï¼š

```
potplayer://http://10.22.51.65:5244/xiaoya/%E7%94%B5%E5%BD%B1/%E4%B8%AD%E5%9B%BD/%E4%B8%80%E4%BB%A3%E5%AE%97%E5%B8%88/The.Grandmaster.2013.mkv
```





#### 3.æ·»åŠ å¯åŠ¨PotPlayerè„šæœ¬

æ‰“å¼€**PotPlayerå®‰è£…ç›®å½•**ï¼Œåœ¨ç›®å½•åˆ›å»º**`open-potplayer.bat`**ï¼Œæ·»åŠ ä»£ç å¦‚ä¸‹ï¼ˆ**éœ€è¦ä¿®æ”¹PotPlayerè·¯å¾„**ï¼‰ï¼š

```
@echo off
set URL=%1
start "" ""C:\Software\PotPlayer64\PotPlayer64\PotPlayerMini64.exe"" "%URL%"
```



#### 4.æ‰“å¼€Alistç½‘é¡µï¼Œæ’­æ”¾è§†é¢‘

ç‚¹å‡»PotPlayer

![image-20250520134540434](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/d1e38dbed5be3e9c3da5c243df57d210-image-20250520134540434-41a2d4.png)

åˆ™ä¼šå¼¹å‡ºæ‰“å¼€æç¤ºï¼š

![image-20250520134619792](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/66c387483aa3c644c9c9518453c440a9-image-20250520134619792-b89b24.png)

å‡ºç°æŠ¥é”™ï¼š

![image-20250520134631370](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/22d8f5bbb7224fb760ada45e07c76590-image-20250520134631370-0b6505.png)



### 4.ç½‘æ˜“äº‘çˆ†ç±³èŠ±APP

ä¸‹è½½ã€ç½‘æ˜“äº‘çˆ†ç±³èŠ±APPã€‘ï¼Œå®‰è£…åæ‰“å¼€APPï¼Œå…ˆç‚¹å‡»ã€èµ„æºåº“ã€‘ï¼Œå†ç‚¹å‡»å³ä¸Šè§’ã€+ã€‘

<img src="https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/fe298671a1d11106a0929a49a5d15641-image-20250520142258268-7b6acb.png" alt="image-20250520142258268" style="zoom:67%;" />

é€‰æ‹©ç½‘ç»œå­˜å‚¨çš„ã€WebDAVã€‘åè®®

![image-20250520142209184](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/3a1c56d2dae2d8d6c6f03f39d8d61387-image-20250520142209184-dee723.png)

å¡«å†™**`å°é›…`æœåŠ¡å™¨ä¿¡æ¯**

åè®®ï¼š**`HTTP`**

åœ°å€ï¼š**`10.22.51.65`**

ç«¯å£ï¼š**`5244`**

ç”¨æˆ·åï¼š**`admin`**

å¯†ç ï¼š**`xxx`**

![image-20250520142127063](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/4ed96be801382ee83939b587e102e3ec-image-20250520142127063-ecd5ef.png)

å†ç‚¹å‡»ã€ä¿å­˜ã€‘

ç­‰åŠ è½½èµ„æºåï¼Œåœ¨é¦–é¡µå³å¯çœ‹åˆ°

![image-20250520142608768](https://raw.githubusercontent.com/joshzhong66/Pibced/main/blog-images/2025/05/20/cda655a1b447244e105d1bdba74d16f8-image-20250520142608768-52554b.png)



### 5.dockeréƒ¨ç½²emby

#### 1.åˆ›å»ºdocker-compose.yml

```
version: '3.8'

networks:
  emby:
    driver: bridge

services:   
  emby:
    image: ghcr.io/monlor/xiaoya-embyserver:latest
    container_name: xiaoya_emby
    env_file:
      - /data/xiaoya/env
    depends_on:
      - metadata
      - alist
    volumes:
      - /data/xiaoya/media:/media
    ports:
      - "6908:6908"
    restart: unless-stopped
    networks:
      - emby

```

#### 2.è®¿é—®emby

ç”¨æµè§ˆå™¨è®¿é—®ï¼šhttp://192.168.1.10:8096ï¼Œå¦‚æœæ˜¯é¦–æ¬¡ä½¿ç”¨ï¼Œé¡µé¢ä¼šå¼•å¯¼ä½ åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·å’Œå¯†ç ï¼ŒæŒ‰æç¤ºæ“ä½œã€‚

#### 3.æ·»åŠ Embyåª’ä½“åº“

è¿›å…¥ç®¡ç†åå°åï¼Œç‚¹å‡»å·¦ä¾§èœå•çš„â€œåª’ä½“åº“â€ï¼ˆLibraryï¼‰ã€‚

ç‚¹å‡»â€œæ·»åŠ åª’ä½“åº“â€æŒ‰é’®ã€‚

é€‰æ‹©åª’ä½“ç±»å‹ï¼ˆç”µå½±ã€ç”µè§†ã€éŸ³ä¹ç­‰ï¼‰ã€‚

è·¯å¾„ï¼ˆFolderï¼‰é€‰ä½ çš„æŒ‚è½½è·¯å¾„ï¼š`/mnt/media` ï¼ˆå®¹å™¨å†…è·¯å¾„ï¼Œå¯¹åº”å®¿ä¸»æœº `/data/xiaoya/media`ï¼‰ã€‚

ç¡®è®¤ä¿å­˜ã€‚
