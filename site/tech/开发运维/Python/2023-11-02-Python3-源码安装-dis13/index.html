
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/">
      
      
        <link rel="next" href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS 订阅" href="../../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="已更新内容的 RSS 订阅" href="../../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.33">
    
    
      
        <title>Python3 源码安装 - Josh's Blog</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../css/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../../.." title="Josh&#39;s Blog" class="md-header__button md-logo" aria-label="Josh's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Josh's Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Python3 源码安装
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="pink"  aria-label="切换到暗色模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换到暗色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="切换到亮色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换到亮色模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  主页

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
  技术

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Josh&#39;s Blog" class="md-nav__button md-logo" aria-label="Josh's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>

    </a>
    Josh's Blog
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    主页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    技术
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            技术
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    技术文档
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    生物信息
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            生物信息
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    生物信息
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    编程技术
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            编程技术
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    编程技术
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Python
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    开发运维
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            开发运维
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    静态网站
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2024-04-28-mamba-%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%88%86%E6%94%AF-miniforge-%E5%92%8C-mambaforge-dis71/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    虚拟环境
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2024-03-08-RockyLinux-9-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8-dis60/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    服务器配置使用
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    开发运维
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../Windows/2024-01-09-%E8%8B%B9%E6%9E%9C%E5%AD%97%E4%BD%93-PingFang-SC-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-dis49/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Windows
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_6" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4_6" id="__nav_2_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4_6">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2023-12-01-Python3-%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-with-openssl-%E6%97%A0%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98-dis27/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python3 编译安装 --with-openssl 无效的问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 中 tkinter 源码安装使用与中文乱码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Python3 源码安装
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Python3 源码安装
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      安装环境
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      解决依赖
    </span>
  </a>
  
    <nav class="md-nav" aria-label="解决依赖">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_sqlite3" class="md-nav__link">
    <span class="md-ellipsis">
      _sqlite3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite3" class="md-nav__link">
    <span class="md-ellipsis">
      系统已安装 sqlite3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite3_1" class="md-nav__link">
    <span class="md-ellipsis">
      手动安装 sqlite3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite3_2" class="md-nav__link">
    <span class="md-ellipsis">
      配置 sqlite3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_ssl" class="md-nav__link">
    <span class="md-ellipsis">
      _ssl
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_tkinter" class="md-nav__link">
    <span class="md-ellipsis">
      _tkinter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="_tkinter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_dbm" class="md-nav__link">
    <span class="md-ellipsis">
      _dbm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_lzma" class="md-nav__link">
    <span class="md-ellipsis">
      _lzma
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_ctypes" class="md-nav__link">
    <span class="md-ellipsis">
      _ctypes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pygraphviz" class="md-nav__link">
    <span class="md-ellipsis">
      pygraphviz
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      编译安装
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      其他工具
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      其他异常与解决
    </span>
  </a>
  
    <nav class="md-nav" aria-label="其他异常与解决">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_bz2" class="md-nav__link">
    <span class="md-ellipsis">
      _bz2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      参考资料
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    数据库
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            数据库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据库
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    可视化
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            可视化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8F%AF%E8%A7%86%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    可视化
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      安装环境
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      解决依赖
    </span>
  </a>
  
    <nav class="md-nav" aria-label="解决依赖">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_sqlite3" class="md-nav__link">
    <span class="md-ellipsis">
      _sqlite3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite3" class="md-nav__link">
    <span class="md-ellipsis">
      系统已安装 sqlite3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite3_1" class="md-nav__link">
    <span class="md-ellipsis">
      手动安装 sqlite3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlite3_2" class="md-nav__link">
    <span class="md-ellipsis">
      配置 sqlite3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_ssl" class="md-nav__link">
    <span class="md-ellipsis">
      _ssl
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_tkinter" class="md-nav__link">
    <span class="md-ellipsis">
      _tkinter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="_tkinter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_dbm" class="md-nav__link">
    <span class="md-ellipsis">
      _dbm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_lzma" class="md-nav__link">
    <span class="md-ellipsis">
      _lzma
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_ctypes" class="md-nav__link">
    <span class="md-ellipsis">
      _ctypes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pygraphviz" class="md-nav__link">
    <span class="md-ellipsis">
      pygraphviz
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      编译安装
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      其他工具
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      其他异常与解决
    </span>
  </a>
  
    <nav class="md-nav" aria-label="其他异常与解决">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_bz2" class="md-nav__link">
    <span class="md-ellipsis">
      _bz2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      参考资料
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Python3 源码安装</h1>

<p>编程，作为生物信息学的一个基础性技能，是任何一个生信工程师都无法绕开话题。也许有些人还在纠结 Perl 和 Python 到底应该学习哪一个，但作为目前最火最流行的编程语言 Python 还是非常值得尝试的。它不但可以进行文本处理，在统计、网站、游戏、爬虫、数据可视化等方面也有非常强大的应用，比起曾经的 Perl 真的强大和全面很多，且比 Perl 更容易入手。不管从长远发展，还是短期需要，学会 Python，看懂 Perl (或者先学   Python，后学 Perl) 应该是每一个生信工程必备的基础技能之一。</p>
<p>工欲善其事，必先利其器。关于 Python 安装教程在网上一搜一大把，但总感觉不够全面，尤其对于中间出现的一些问题的解决方法不尽如人意。鉴于此，本文基于  CentOS/RHEL Linux 对 Python 的源码编译安装进行了一下简单的总结，记录如下。</p>
<h2 id="_1">安装环境<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>Red Hat 6.5 + GCC 4.4.7（GCC-7.3.0 - 此版本 gcc 为手动安装）。</p>
<p>GCC 高级版本手动或者 <code>yum</code> 安装参考以下文章：
- <a href="https://www.yuque.com/shenweiyan/cookbook/scl-devtoolset-note">SCL+Devtoolset 安装与使用笔记 · 语雀</a>
- <a href="https://www.yuque.com/shenweiyan/cookbook/linux-gcc-install">非 root 用户手动编译安装 GCC · 语雀</a></p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><a href="#__codelineno-0-1"><span class="linenos" data-linenos=" 1 "></span></a>$<span class="w"> </span>lsb_release<span class="w"> </span>-a
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><a href="#__codelineno-0-2"><span class="linenos" data-linenos=" 2 "></span></a>LSB<span class="w"> </span>Version:<span class="w">    </span>:base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><a href="#__codelineno-0-3"><span class="linenos" data-linenos=" 3 "></span></a>Distributor<span class="w"> </span>ID:<span class="w"> </span>RedHatEnterpriseServer
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><a href="#__codelineno-0-4"><span class="linenos" data-linenos=" 4 "></span></a>Description:<span class="w">    </span>Red<span class="w"> </span>Hat<span class="w"> </span>Enterprise<span class="w"> </span>Linux<span class="w"> </span>Server<span class="w"> </span>release<span class="w"> </span><span class="m">6</span>.5<span class="w"> </span><span class="o">(</span>Santiago<span class="o">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><a href="#__codelineno-0-5"><span class="linenos" data-linenos=" 5 "></span></a>Release:<span class="w">        </span><span class="m">6</span>.5
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><a href="#__codelineno-0-6"><span class="linenos" data-linenos=" 6 "></span></a>Codename:<span class="w">       </span>Santiago
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><a href="#__codelineno-0-7"><span class="linenos" data-linenos=" 7 "></span></a>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><a href="#__codelineno-0-8"><span class="linenos" data-linenos=" 8 "></span></a>$<span class="w"> </span>gcc<span class="w"> </span>--version
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><a href="#__codelineno-0-9"><span class="linenos" data-linenos=" 9 "></span></a>gcc<span class="w"> </span><span class="o">(</span>GCC<span class="o">)</span><span class="w"> </span><span class="m">4</span>.4.7<span class="w"> </span><span class="m">20120313</span><span class="w"> </span><span class="o">(</span>Red<span class="w"> </span>Hat<span class="w"> </span><span class="m">4</span>.4.7-4<span class="o">)</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><a href="#__codelineno-0-10"><span class="linenos" data-linenos="10 "></span></a>Copyright<span class="w"> </span><span class="o">(</span>C<span class="o">)</span><span class="w"> </span><span class="m">2010</span><span class="w"> </span>Free<span class="w"> </span>Software<span class="w"> </span>Foundation,<span class="w"> </span>Inc.
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><a href="#__codelineno-0-11"><span class="linenos" data-linenos="11 "></span></a>This<span class="w"> </span>is<span class="w"> </span>free<span class="w"> </span>software<span class="p">;</span><span class="w"> </span>see<span class="w"> </span>the<span class="w"> </span><span class="nb">source</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>copying<span class="w"> </span>conditions.<span class="w">  </span>There<span class="w"> </span>is<span class="w"> </span>NO
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><a href="#__codelineno-0-12"><span class="linenos" data-linenos="12 "></span></a>warranty<span class="p">;</span><span class="w"> </span>not<span class="w"> </span>even<span class="w"> </span><span class="k">for</span><span class="w"> </span>MERCHANTABILITY<span class="w"> </span>or<span class="w"> </span>FITNESS<span class="w"> </span>FOR<span class="w"> </span>A<span class="w"> </span>PARTICULAR<span class="w"> </span>PURPOSE.
</code></pre></div>
<h2 id="_2">解决依赖<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>如果您拥有 root 权限，请执以下依赖安装：</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><a href="#__codelineno-1-1"><span class="linenos" data-linenos="1 "></span></a>yum<span class="w"> </span>install<span class="w"> </span>zlib
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><a href="#__codelineno-1-2"><span class="linenos" data-linenos="2 "></span></a>yum<span class="w"> </span>install<span class="w"> </span>zlib-devel
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><a href="#__codelineno-1-3"><span class="linenos" data-linenos="3 "></span></a>yum<span class="w"> </span>install<span class="w"> </span>openssl
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><a href="#__codelineno-1-4"><span class="linenos" data-linenos="4 "></span></a>yum<span class="w"> </span>install<span class="w"> </span>openssl-devel
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><a href="#__codelineno-1-5"><span class="linenos" data-linenos="5 "></span></a>yum<span class="w"> </span>install<span class="w"> </span>libffi
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><a href="#__codelineno-1-6"><span class="linenos" data-linenos="6 "></span></a>yum<span class="w"> </span>install<span class="w"> </span>libffi-devel
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><a href="#__codelineno-1-7"><span class="linenos" data-linenos="7 "></span></a>yum<span class="w"> </span>install<span class="w"> </span>readline<span class="w"> </span>readline-devel<span class="w"> </span>sqlite<span class="w"> </span>sqlite-devel<span class="w"> </span>tk-devel
</code></pre></div>
<table>
<thead>
<tr>
<th>缺少库名称</th>
<th>安装命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>_uuid</td>
<td>yum install libuuid-devel</td>
</tr>
<tr>
<td>readline</td>
<td>yum install readline-devel</td>
</tr>
<tr>
<td>_tkinter</td>
<td>yum install tk-devel</td>
</tr>
<tr>
<td>_ffi</td>
<td>yum install libffi-devel</td>
</tr>
<tr>
<td>_curses</td>
<td>yum install ncurses-libs</td>
</tr>
<tr>
<td>_sqlite</td>
<td>yum install sqlite-devel</td>
</tr>
<tr>
<td>_bz2</td>
<td>yum isntall bzip2-devel</td>
</tr>
<tr>
<td>_ssl</td>
<td>yum install openssl-devel</td>
</tr>
<tr>
<td>_gdbm</td>
<td>yum install gdbm-devel</td>
</tr>
<tr>
<td>_dbi</td>
<td>yum install libdbi-devel</td>
</tr>
<tr>
<td>_zlib</td>
<td>yum install zlib-devel</td>
</tr>
<tr>
<td>lzma</td>
<td>yum install xz-develyum install python-backports-lzma</td>
</tr>
</tbody>
</table>
<p>如果您没有 root 权限，可以参考《<a href="https://www.yuque.com/shenweiyan/cookbook/install-latest-r-from-source">手把手教你在 Linux 源码安装最新版本的 R</a>》一文，手动一个个去解决以上的依赖。</p>
<h3 id="_sqlite3">_sqlite3<a class="headerlink" href="#_sqlite3" title="Permanent link">&para;</a></h3>
<p>执行 <strong>make</strong> 过程中提示 <strong>_sqlite3 not found</strong>，如下：</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><a href="#__codelineno-2-1"><span class="linenos" data-linenos=" 1 "></span></a>$<span class="w"> </span>make
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><a href="#__codelineno-2-2"><span class="linenos" data-linenos=" 2 "></span></a>......
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><a href="#__codelineno-2-3"><span class="linenos" data-linenos=" 3 "></span></a>Python<span class="w"> </span>build<span class="w"> </span>finished<span class="w"> </span>successfully!
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><a href="#__codelineno-2-4"><span class="linenos" data-linenos=" 4 "></span></a>The<span class="w"> </span>necessary<span class="w"> </span>bits<span class="w"> </span>to<span class="w"> </span>build<span class="w"> </span>these<span class="w"> </span>optional<span class="w"> </span>modules<span class="w"> </span>were<span class="w"> </span>not<span class="w"> </span>found:
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><a href="#__codelineno-2-5"><span class="linenos" data-linenos=" 5 "></span></a>_sqlite3<span class="w">              </span>_ssl
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><a href="#__codelineno-2-6"><span class="linenos" data-linenos=" 6 "></span></a>To<span class="w"> </span>find<span class="w"> </span>the<span class="w"> </span>necessary<span class="w"> </span>bits,<span class="w"> </span>look<span class="w"> </span><span class="k">in</span><span class="w"> </span>setup.py<span class="w"> </span><span class="k">in</span><span class="w"> </span>detect_modules<span class="o">()</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>module<span class="err">&#39;</span>s<span class="w"> </span>name.
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><a href="#__codelineno-2-7"><span class="linenos" data-linenos=" 7 "></span></a>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><a href="#__codelineno-2-8"><span class="linenos" data-linenos=" 8 "></span></a>The<span class="w"> </span>following<span class="w"> </span>modules<span class="w"> </span>found<span class="w"> </span>by<span class="w"> </span>detect_modules<span class="o">()</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>setup.py,<span class="w"> </span>have<span class="w"> </span>been
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><a href="#__codelineno-2-9"><span class="linenos" data-linenos=" 9 "></span></a>built<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>Makefile<span class="w"> </span>instead,<span class="w"> </span>as<span class="w"> </span>configured<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>Setup<span class="w"> </span>files:
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><a href="#__codelineno-2-10"><span class="linenos" data-linenos="10 "></span></a>_abc<span class="w">                  </span>atexit<span class="w">                </span><span class="nb">pwd</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><a href="#__codelineno-2-11"><span class="linenos" data-linenos="11 "></span></a><span class="nb">time</span>
</code></pre></div>
<h3 id="sqlite3">系统已安装 sqlite3<a class="headerlink" href="#sqlite3" title="Permanent link">&para;</a></h3>
<p>如果执行 <strong>rpm -qa|grep sqlite</strong> 看到 sqlite 和 sqlite-devel 都已经安装（libsqlite3.so 默认保存在 /usr/lib64 下； <code>sqlite3.h</code> 默认保存在 <code>/usr/include</code> 下）。</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><a href="#__codelineno-3-1"><span class="linenos" data-linenos="1 "></span></a>$<span class="w"> </span>sqlite3<span class="w"> </span>-version
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><a href="#__codelineno-3-2"><span class="linenos" data-linenos="2 "></span></a><span class="m">3</span>.6.20
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><a href="#__codelineno-3-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><a href="#__codelineno-3-4"><span class="linenos" data-linenos="4 "></span></a>$<span class="w"> </span>ll<span class="w"> </span>/usr/lib64/libsqlite3.so
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><a href="#__codelineno-3-5"><span class="linenos" data-linenos="5 "></span></a>lrwxrwxrwx<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">19</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">23</span><span class="w">  </span><span class="m">2015</span><span class="w"> </span>/usr/lib64/libsqlite3.so<span class="w"> </span>-&gt;<span class="w"> </span>libsqlite3.so.0.8.6
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><a href="#__codelineno-3-6"><span class="linenos" data-linenos="6 "></span></a>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><a href="#__codelineno-3-7"><span class="linenos" data-linenos="7 "></span></a>$<span class="w"> </span>ll<span class="w"> </span>/usr/include/sqlite3.h
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><a href="#__codelineno-3-8"><span class="linenos" data-linenos="8 "></span></a>-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span>263K<span class="w"> </span>Nov<span class="w"> </span><span class="m">25</span><span class="w">  </span><span class="m">2009</span><span class="w"> </span>/usr/include/sqlite3.h
</code></pre></div>
<p>但是，执行 <code>make</code> 依然出现以上报错，参考下面的方法《<a href="https://stackoverflow.com/questions/32779768/python-build-from-source-cannot-build-optional-module-sqlite3">python build from source: cannot build optional module sqlite3 - Stack Overflow</a>》。</p>
<h3 id="sqlite3_1">手动安装 sqlite3<a class="headerlink" href="#sqlite3_1" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><a href="#__codelineno-4-1"><span class="linenos" data-linenos="1 "></span></a>$<span class="w"> </span>wget<span class="w"> </span>https://www.sqlite.org/2021/sqlite-autoconf-3360000.tar.gz<span class="w"> </span>--no-check-certificate
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><a href="#__codelineno-4-2"><span class="linenos" data-linenos="2 "></span></a>$<span class="w"> </span>tar<span class="w"> </span>zvxf<span class="w"> </span>sqlite-autoconf-3360000.tar.gz
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><a href="#__codelineno-4-3"><span class="linenos" data-linenos="3 "></span></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>sqlite-autoconf-3360000
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><a href="#__codelineno-4-4"><span class="linenos" data-linenos="4 "></span></a>$<span class="w"> </span>./configure<span class="w"> </span>--prefix<span class="o">=</span>/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><a href="#__codelineno-4-5"><span class="linenos" data-linenos="5 "></span></a>$<span class="w"> </span>make
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><a href="#__codelineno-4-6"><span class="linenos" data-linenos="6 "></span></a>$<span class="w"> </span>make<span class="w"> </span>install
</code></pre></div>
<h3 id="sqlite3_2">配置 sqlite3<a class="headerlink" href="#sqlite3_2" title="Permanent link">&para;</a></h3>
<h4 id="1">1. 配置环境<a class="headerlink" href="#1" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><a href="#__codelineno-5-1"><span class="linenos" data-linenos="1 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib:<span class="nv">$LD_LIBRARY_PATH</span>
</code></pre></div>
<h4 id="2">2. 调整源码或编译<a class="headerlink" href="#2" title="Permanent link">&para;</a></h4>
<p>对于 3.11.x 以上版本的 Python 可以在 <code>configure</code> 指定自定义安装的 sqlite3 路径解决 <code>_sqlite3</code> 依赖。
<div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><a href="#__codelineno-6-1"><span class="linenos" data-linenos="1 "></span></a>./configure ... \
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><a href="#__codelineno-6-2"><span class="linenos" data-linenos="2 "></span></a>    LDFLAGS=&quot;-L/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib&quot; \
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><a href="#__codelineno-6-3"><span class="linenos" data-linenos="3 "></span></a>    CPPFLAGS=&quot;-I/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/include&quot; 
</code></pre></div></p>
<p>有些低版本的 Python (如 3.7) 可能需要再源码文件中加入 <code>sqlite3.h</code> 的文件路径。</p>
<ol>
<li>找到 <strong>sqlite3.h</strong> 文件的保存目录。</li>
<li>修改 <strong>setup.py</strong> 文件，在 sqlite_inc_paths 中加上 sqlite3.h 的文件路径。</li>
</ol>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><a href="#__codelineno-7-1"><span class="linenos" data-linenos="1 "></span></a><span class="nv">sqlite_inc_paths</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s1">&#39;/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/include&#39;</span>,
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><a href="#__codelineno-7-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">                     </span><span class="s1">&#39;/usr/include&#39;</span>,
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><a href="#__codelineno-7-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">                     </span><span class="s1">&#39;/usr/include/sqlite&#39;</span>,
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><a href="#__codelineno-7-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">                     </span><span class="s1">&#39;/usr/include/sqlite3&#39;</span>,
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><a href="#__codelineno-7-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">                     </span><span class="s1">&#39;/usr/local/include&#39;</span>,
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><a href="#__codelineno-7-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">                     </span><span class="s1">&#39;/usr/local/include/sqlite&#39;</span>,
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><a href="#__codelineno-7-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">                     </span><span class="s1">&#39;/usr/local/include/sqlite3&#39;</span>,
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><a href="#__codelineno-7-8"><span class="linenos" data-linenos="8 "></span></a><span class="w">                   </span><span class="o">]</span>
</code></pre></div>
<h3 id="_ssl">_ssl<a class="headerlink" href="#_ssl" title="Permanent link">&para;</a></h3>
<p>Python3 需要引用 <code>openssl</code>  模块，但是 python3.7+ 在 CentOS 中要求的 openssl 版本最低为 1.0.2，而 CentOS 默认的为 1.0.1（CentOS-6.x 通过 <code>yum</code>  源安装的 openssl 的最高版本是 1.0.1），所以需要手动更新 openssl。</p>
<p>对于 openssl 版本的选择，建议至少选择 1.1.1+ 版本：</p>
<ol>
<li>urllib3 v2.0 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'OpenSSL 1.0.2k-fips  26 Jan 2017'. See: <a href="https://github.com/urllib3/urllib3/issues/2168">https://github.com/urllib3/urllib3/issues/2168</a></li>
<li><strong>Python requires an OpenSSL 1.0.2 or 1.1 compatible libssl with X509_VERIFY_PARAM_set1_host().</strong></li>
</ol>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><a href="#__codelineno-8-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="c1"># 下载</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><a href="#__codelineno-8-2"><span class="linenos" data-linenos=" 2 "></span></a>wget<span class="w"> </span>http://www.openssl.org/source/openssl-1.1.1.tar.gz
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><a href="#__codelineno-8-3"><span class="linenos" data-linenos=" 3 "></span></a>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><a href="#__codelineno-8-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="c1"># 解压缩</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><a href="#__codelineno-8-5"><span class="linenos" data-linenos=" 5 "></span></a>tar<span class="w"> </span>-zxvf<span class="w"> </span>openssl-1.1.1.tar.gz
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><a href="#__codelineno-8-6"><span class="linenos" data-linenos=" 6 "></span></a>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><a href="#__codelineno-8-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="c1"># 进入目录安装</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><a href="#__codelineno-8-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="nb">cd</span><span class="w"> </span>openssl-1.1.1
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><a href="#__codelineno-8-9"><span class="linenos" data-linenos=" 9 "></span></a>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><a href="#__codelineno-8-10"><span class="linenos" data-linenos="10 "></span></a><span class="c1"># 进行配置下，自定义</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><a href="#__codelineno-8-11"><span class="linenos" data-linenos="11 "></span></a>./config<span class="w"> </span>--prefix<span class="o">=</span>/Bioinfo/Pipeline/SoftWare/openssl-1.1.1<span class="w"> </span>shared<span class="w"> </span>zlib
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><a href="#__codelineno-8-12"><span class="linenos" data-linenos="12 "></span></a>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><a href="#__codelineno-8-13"><span class="linenos" data-linenos="13 "></span></a><span class="c1"># 编译并安装</span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><a href="#__codelineno-8-14"><span class="linenos" data-linenos="14 "></span></a>make<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>install
<a id="__codelineno-8-15" name="__codelineno-8-15"></a><a href="#__codelineno-8-15"><span class="linenos" data-linenos="15 "></span></a>
<a id="__codelineno-8-16" name="__codelineno-8-16"></a><a href="#__codelineno-8-16"><span class="linenos" data-linenos="16 "></span></a><span class="c1"># 配置到用户环境变量，随处使用</span>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a><a href="#__codelineno-8-17"><span class="linenos" data-linenos="17 "></span></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib:</span><span class="nv">$LD_LIBRARY_PATH</span><span class="s2">&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span><span class="nv">$HOME</span>/.bashrc
<a id="__codelineno-8-18" name="__codelineno-8-18"></a><a href="#__codelineno-8-18"><span class="linenos" data-linenos="18 "></span></a>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a><a href="#__codelineno-8-19"><span class="linenos" data-linenos="19 "></span></a><span class="c1"># 是环境变量配置生效</span>
<a id="__codelineno-8-20" name="__codelineno-8-20"></a><a href="#__codelineno-8-20"><span class="linenos" data-linenos="20 "></span></a><span class="nb">source</span><span class="w"> </span><span class="nv">$HOME</span>/.bashrc
</code></pre></div>
<p><strong>请注意：</strong></p>
<ol>
<li><strong>openssl</strong> 编译（config）的时候 <strong>必须要加上 shared  参数</strong>，否者源码安装 Python 即使添加了 <code>--with-openssl</code> 的自定义路径，依然会导致 <code>Could not build the ssl module!</code> 报错！</li>
<li>从 <a href="https://www.openssl.org/source/">https://www.openssl.org/source/</a> 下载的源码 openssl-1.0.2s、openssl-1.0.2m，包括  CentOS-7.5 使用 <code>yum</code> 安装的最高版本的 openssl-1.0.2k 目前发现依然会导致 <code>Could not build the ssl module</code> ，建议从 <a href="https://www.openssl.org/source/old/">https://www.openssl.org/source/old/</a> 下载 1.1.1 的源码编译安装。</li>
</ol>
<p>最后，在 Python 执行 <code>configure</code> 的时候指定 openssl 的相关参数：
<div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><a href="#__codelineno-9-1"><span class="linenos" data-linenos="1 "></span></a>./configure ... \
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><a href="#__codelineno-9-2"><span class="linenos" data-linenos="2 "></span></a>    --with-openssl=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1 \
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><a href="#__codelineno-9-3"><span class="linenos" data-linenos="3 "></span></a>    --with-openssl-rpath=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib \
</code></pre></div></p>
<h2 id="_tkinter">_tkinter<a class="headerlink" href="#_tkinter" title="Permanent link">&para;</a></h2>
<p>Tkinter 模块缺失是一个比较棘手的问题，为此专门写了一篇文章来介绍这个问题。</p>
<p>具体请参考：<a href="https://github.com/shenweiyan/Knowledge-Garden/discussions/12">Python 中 tkinter 源码安装使用与中文乱码 - Knowledge-Garden#12</a></p>
<h3 id="_dbm">_dbm<a class="headerlink" href="#_dbm" title="Permanent link">&para;</a></h3>
<p><code>_dbm</code> 和 <code>_gdbm</code> 的模块缺失可以通过下面手动的方法解决。</p>
<div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><a href="#__codelineno-10-1"><span class="linenos" data-linenos="1 "></span></a>wget https://ftp.gnu.org/gnu/gdbm/gdbm-1.23.tar.gz
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><a href="#__codelineno-10-2"><span class="linenos" data-linenos="2 "></span></a>tar -zxvf gdbm-1.23.tar.gz
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><a href="#__codelineno-10-3"><span class="linenos" data-linenos="3 "></span></a>./configure --prefix=/Bioinfo/Pipeline/SoftWare/gdbm-1.23 --enable-libgdbm-compat  --enable-debug
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><a href="#__codelineno-10-4"><span class="linenos" data-linenos="4 "></span></a>make &amp;&amp; make install
</code></pre></div>
<p>最后，增加环境变量，并调整 Python 执行 <code>configure</code> 时的参数：
<div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><a href="#__codelineno-11-1"><span class="linenos" data-linenos="1 "></span></a>export PATH=/Bioinfo/Pipeline/SoftWare/gdbm-1.23/bin:$PATH
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><a href="#__codelineno-11-2"><span class="linenos" data-linenos="2 "></span></a>export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib:$LD_LIBRARY_PATH
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><a href="#__codelineno-11-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><a href="#__codelineno-11-4"><span class="linenos" data-linenos="4 "></span></a>./configure ... \
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><a href="#__codelineno-11-5"><span class="linenos" data-linenos="5 "></span></a>    LDFLAGS=&quot;-L/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib&quot; \
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><a href="#__codelineno-11-6"><span class="linenos" data-linenos="6 "></span></a>    CPPFLAGS=&quot;-I/Bioinfo/Pipeline/SoftWare/gdbm-1.23/include&quot;
</code></pre></div></p>
<h3 id="_lzma">_lzma<a class="headerlink" href="#_lzma" title="Permanent link">&para;</a></h3>
<p>正常情况下，下面的方法可以解决该问题（如果您有 root 权限的话）。</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><a href="#__codelineno-12-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1"># For ubuntu:</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><a href="#__codelineno-12-2"><span class="linenos" data-linenos="2 "></span></a>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>liblzma-dev
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><a href="#__codelineno-12-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><a href="#__codelineno-12-4"><span class="linenos" data-linenos="4 "></span></a><span class="c1"># For centos:</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><a href="#__codelineno-12-5"><span class="linenos" data-linenos="5 "></span></a>$<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>xz-devel
</code></pre></div>
<p>普通用户可以手动安装解决：</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><a href="#__codelineno-13-1"><span class="linenos" data-linenos="1 "></span></a>$<span class="w"> </span>wget<span class="w"> </span>https://tukaani.org/xz/xz-5.2.5.tar.gz<span class="w"> </span>--no-check-certificat
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><a href="#__codelineno-13-2"><span class="linenos" data-linenos="2 "></span></a>$<span class="w"> </span>tar<span class="w"> </span>zvxf<span class="w"> </span>xz-5.2.5.tar.gz
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><a href="#__codelineno-13-3"><span class="linenos" data-linenos="3 "></span></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>xz-5.2.5
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><a href="#__codelineno-13-4"><span class="linenos" data-linenos="4 "></span></a>$<span class="w"> </span>./configure<span class="w"> </span>--prefix<span class="o">=</span>/Bioinfo/Pipeline/SoftWare/xz-5.2.5
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><a href="#__codelineno-13-5"><span class="linenos" data-linenos="5 "></span></a>$<span class="w"> </span>make
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><a href="#__codelineno-13-6"><span class="linenos" data-linenos="6 "></span></a>$<span class="w"> </span>make<span class="w"> </span>install
</code></pre></div>
<p>最后，配置环境：</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><a href="#__codelineno-14-1"><span class="linenos" data-linenos="1 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/xz-5.2.5/lib:<span class="nv">$LD_LIBRARY_PATH</span>
</code></pre></div>
<h3 id="_ctypes">_ctypes<a class="headerlink" href="#_ctypes" title="Permanent link">&para;</a></h3>
<p>在 CentOS 6.x 安装 <code>libffi-devel</code>  的时候出现以下问题：</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><a href="#__codelineno-15-1"><span class="linenos" data-linenos="1 "></span></a>$<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>libffi-devel
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><a href="#__codelineno-15-2"><span class="linenos" data-linenos="2 "></span></a>Loaded<span class="w"> </span>plugins:<span class="w"> </span>product-id,<span class="w"> </span>refresh-packagekit,<span class="w"> </span>search-disabled-repos,<span class="w"> </span>security,<span class="w"> </span>subscription-manager
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><a href="#__codelineno-15-3"><span class="linenos" data-linenos="3 "></span></a>This<span class="w"> </span>system<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>registered<span class="w"> </span>to<span class="w"> </span>Red<span class="w"> </span>Hat<span class="w"> </span>Subscription<span class="w"> </span>Management.<span class="w"> </span>You<span class="w"> </span>can<span class="w"> </span>use<span class="w"> </span>subscription-manager<span class="w"> </span>to<span class="w"> </span>register.
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><a href="#__codelineno-15-4"><span class="linenos" data-linenos="4 "></span></a>Setting<span class="w"> </span>up<span class="w"> </span>Install<span class="w"> </span>Process
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><a href="#__codelineno-15-5"><span class="linenos" data-linenos="5 "></span></a>cdrom<span class="w">                                                                                                                                         </span><span class="p">|</span><span class="w"> </span><span class="m">4</span>.1<span class="w"> </span>kB<span class="w">     </span><span class="m">00</span>:00<span class="w"> </span>...
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><a href="#__codelineno-15-6"><span class="linenos" data-linenos="6 "></span></a>No<span class="w"> </span>package<span class="w"> </span>libffi-devel<span class="w"> </span>available.
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><a href="#__codelineno-15-7"><span class="linenos" data-linenos="7 "></span></a>Error:<span class="w"> </span>Nothing<span class="w"> </span>to<span class="w"> </span><span class="k">do</span>
</code></pre></div>
<p>可以使用下面的方法安装：
<div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><a href="#__codelineno-16-1"><span class="linenos" data-linenos="1 "></span></a><span class="o">[</span>root@log01<span class="w"> </span>~<span class="o">]</span><span class="c1"># rpm -ivh http://mirror.centos.org/centos/6/os/x86_64/Packages/libffi-devel-3.0.5-3.2.el6.x86_64.rpm</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><a href="#__codelineno-16-2"><span class="linenos" data-linenos="2 "></span></a>Retrieving<span class="w"> </span>http://mirror.centos.org/centos/6/os/x86_64/Packages/libffi-devel-3.0.5-3.2.el6.x86_64.rpm
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><a href="#__codelineno-16-3"><span class="linenos" data-linenos="3 "></span></a>warning:<span class="w"> </span>/var/tmp/rpm-tmp.V9ihbu:<span class="w"> </span>Header<span class="w"> </span>V3<span class="w"> </span>RSA/SHA256<span class="w"> </span>Signature,<span class="w"> </span>key<span class="w"> </span>ID<span class="w"> </span>c105b9de:<span class="w"> </span>NOKEY
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><a href="#__codelineno-16-4"><span class="linenos" data-linenos="4 "></span></a>Preparing...<span class="w">                </span><span class="c1">########################################### [100%]</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><a href="#__codelineno-16-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">   </span><span class="m">1</span>:libffi-devel<span class="w">           </span><span class="c1">########################################### [100%]</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><a href="#__codelineno-16-6"><span class="linenos" data-linenos="6 "></span></a><span class="o">[</span>root@log01<span class="w"> </span>~<span class="o">]</span><span class="c1"># rpm -qa|grep libffi</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><a href="#__codelineno-16-7"><span class="linenos" data-linenos="7 "></span></a>libffi-3.0.5-3.2.el6.x86_64
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><a href="#__codelineno-16-8"><span class="linenos" data-linenos="8 "></span></a>libffi-devel-3.0.5-3.2.el6.x86_64
</code></pre></div></p>
<p>手动的源码方法安装如下：
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><a href="#__codelineno-17-1"><span class="linenos" data-linenos="1 "></span></a>$<span class="w"> </span>wget<span class="w"> </span>ftp://sourceware.org/pub/libffi/libffi-3.2.1.tar.gz
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><a href="#__codelineno-17-2"><span class="linenos" data-linenos="2 "></span></a>$<span class="w"> </span>tar<span class="w"> </span>zvxf<span class="w"> </span>libffi-3.2.1.tar.gz
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><a href="#__codelineno-17-3"><span class="linenos" data-linenos="3 "></span></a>$<span class="w"> </span>./configure<span class="w"> </span>--prefix<span class="o">=</span>/Bioinfo/Pipeline/SoftWare/libffi-3.2.1
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><a href="#__codelineno-17-4"><span class="linenos" data-linenos="4 "></span></a>$<span class="w"> </span>make
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><a href="#__codelineno-17-5"><span class="linenos" data-linenos="5 "></span></a>$<span class="w"> </span>make<span class="w"> </span>install
</code></pre></div></p>
<h3 id="pygraphviz">pygraphviz<a class="headerlink" href="#pygraphviz" title="Permanent link">&para;</a></h3>
<p>如果你不需要使用 pygraphviz，可以不用管这个依赖。</p>
<blockquote>
<p>PyGraphviz is a Python interface to the Graphviz graph layout and visualization package. With PyGraphviz you can create, edit, read, write, and draw graphs using Python to access the Graphviz graph data structure and layout algorithms.</p>
<p>PyGraphviz 是 Graphviz 图形布局和可视化包的 Python 接口。 借助 PyGraphviz，您可以使用 Python 创建、编辑、读取、写入和绘制图形，以访问 Graphviz 图形数据结构和布局算法。</p>
</blockquote>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><a href="#__codelineno-18-1"><span class="linenos" data-linenos=" 1 "></span></a>$<span class="w"> </span>/Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/pip3<span class="w"> </span>install<span class="w"> </span>pygraphviz
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><a href="#__codelineno-18-2"><span class="linenos" data-linenos=" 2 "></span></a>Collecting<span class="w"> </span>pygraphviz
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><a href="#__codelineno-18-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">  </span>Using<span class="w"> </span>cached<span class="w"> </span>https://files.pythonhosted.org/packages/7e/b1/d6d849ddaf6f11036f9980d433f383d4c13d1ebcfc3cd09bc845bda7e433/pygraphviz-1.5.zip
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><a href="#__codelineno-18-4"><span class="linenos" data-linenos=" 4 "></span></a>Installing<span class="w"> </span>collected<span class="w"> </span>packages:<span class="w"> </span>pygraphviz
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><a href="#__codelineno-18-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">  </span>Running<span class="w"> </span>setup.py<span class="w"> </span>install<span class="w"> </span><span class="k">for</span><span class="w"> </span>pygraphviz<span class="w"> </span>...<span class="w"> </span>error
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><a href="#__codelineno-18-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span>Complete<span class="w"> </span>output<span class="w"> </span>from<span class="w"> </span><span class="nb">command</span><span class="w"> </span>/Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/python3.7<span class="w"> </span>-u<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import setuptools, tokenize;__file__=&#39;/tmp/pip-install-_zdjdg0j/pygraphviz/setup.py&#39;;f=getattr(tokenize, &#39;open&#39;, open)(__file__);code=f.read().replace(&#39;\r\n&#39;, &#39;\n&#39;);f.close();exec(compile(code, __file__, &#39;exec&#39;))&quot;</span><span class="w"> </span>install<span class="w"> </span>--record<span class="w"> </span>/tmp/pip-record-g0mz7lrq/install-record.txt<span class="w"> </span>--single-version-externally-managed<span class="w"> </span>--compile:
<a id="__codelineno-18-7" name="__codelineno-18-7"></a><a href="#__codelineno-18-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span>running<span class="w"> </span>install
<a id="__codelineno-18-8" name="__codelineno-18-8"></a><a href="#__codelineno-18-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">    </span>Trying<span class="w"> </span>dpkg
<a id="__codelineno-18-9" name="__codelineno-18-9"></a><a href="#__codelineno-18-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span>Failed<span class="w"> </span>to<span class="w"> </span>find<span class="w"> </span>dpkg
<a id="__codelineno-18-10" name="__codelineno-18-10"></a><a href="#__codelineno-18-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span>Trying<span class="w"> </span>pkg-config
<a id="__codelineno-18-11" name="__codelineno-18-11"></a><a href="#__codelineno-18-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">    </span>Package<span class="w"> </span>libcgraph<span class="w"> </span>was<span class="w"> </span>not<span class="w"> </span>found<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>pkg-config<span class="w"> </span>search<span class="w"> </span>path.
<a id="__codelineno-18-12" name="__codelineno-18-12"></a><a href="#__codelineno-18-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">    </span>Perhaps<span class="w"> </span>you<span class="w"> </span>should<span class="w"> </span>add<span class="w"> </span>the<span class="w"> </span>directory<span class="w"> </span>containing<span class="w"> </span><span class="sb">`</span>libcgraph.pc<span class="s1">&#39;</span>
<a id="__codelineno-18-13" name="__codelineno-18-13"></a><a href="#__codelineno-18-13"><span class="linenos" data-linenos="13 "></span></a><span class="s1">    to the PKG_CONFIG_PATH environment variable</span>
<a id="__codelineno-18-14" name="__codelineno-18-14"></a><a href="#__codelineno-18-14"><span class="linenos" data-linenos="14 "></span></a><span class="s1">    No package &#39;</span>libcgraph<span class="s1">&#39; found</span>
<a id="__codelineno-18-15" name="__codelineno-18-15"></a><a href="#__codelineno-18-15"><span class="linenos" data-linenos="15 "></span></a><span class="s1">    Traceback (most recent call last):</span>
<a id="__codelineno-18-16" name="__codelineno-18-16"></a><a href="#__codelineno-18-16"><span class="linenos" data-linenos="16 "></span></a><span class="s1">      File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;</span>
<a id="__codelineno-18-17" name="__codelineno-18-17"></a><a href="#__codelineno-18-17"><span class="linenos" data-linenos="17 "></span></a><span class="s1">      File &quot;/tmp/pip-install-_zdjdg0j/pygraphviz/setup.py&quot;, line 93, in &lt;module&gt;</span>
<a id="__codelineno-18-18" name="__codelineno-18-18"></a><a href="#__codelineno-18-18"><span class="linenos" data-linenos="18 "></span></a><span class="s1">        tests_require=[&#39;</span>nose&gt;<span class="o">=</span><span class="m">1</span>.3.7<span class="s1">&#39;, &#39;</span>doctest-ignore-unicode&gt;<span class="o">=</span><span class="m">0</span>.1.2<span class="s1">&#39;, &#39;</span>mock&gt;<span class="o">=</span><span class="m">2</span>.0.0<span class="s1">&#39;],</span>
<a id="__codelineno-18-19" name="__codelineno-18-19"></a><a href="#__codelineno-18-19"><span class="linenos" data-linenos="19 "></span></a><span class="s1">      File &quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/site-packages/setuptools/__init__.py&quot;, line 145, in setup</span>
<a id="__codelineno-18-20" name="__codelineno-18-20"></a><a href="#__codelineno-18-20"><span class="linenos" data-linenos="20 "></span></a><span class="s1">        return distutils.core.setup(**attrs)</span>
<a id="__codelineno-18-21" name="__codelineno-18-21"></a><a href="#__codelineno-18-21"><span class="linenos" data-linenos="21 "></span></a><span class="s1">      File &quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/distutils/core.py&quot;, line 148, in setup</span>
<a id="__codelineno-18-22" name="__codelineno-18-22"></a><a href="#__codelineno-18-22"><span class="linenos" data-linenos="22 "></span></a><span class="s1">        dist.run_commands()</span>
<a id="__codelineno-18-23" name="__codelineno-18-23"></a><a href="#__codelineno-18-23"><span class="linenos" data-linenos="23 "></span></a><span class="s1">      File &quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/distutils/dist.py&quot;, line 966, in run_commands</span>
<a id="__codelineno-18-24" name="__codelineno-18-24"></a><a href="#__codelineno-18-24"><span class="linenos" data-linenos="24 "></span></a><span class="s1">        self.run_command(cmd)</span>
<a id="__codelineno-18-25" name="__codelineno-18-25"></a><a href="#__codelineno-18-25"><span class="linenos" data-linenos="25 "></span></a><span class="s1">      File &quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/distutils/dist.py&quot;, line 985, in run_command</span>
<a id="__codelineno-18-26" name="__codelineno-18-26"></a><a href="#__codelineno-18-26"><span class="linenos" data-linenos="26 "></span></a><span class="s1">        cmd_obj.run()</span>
<a id="__codelineno-18-27" name="__codelineno-18-27"></a><a href="#__codelineno-18-27"><span class="linenos" data-linenos="27 "></span></a><span class="s1">      File &quot;/tmp/pip-install-_zdjdg0j/pygraphviz/setup_commands.py&quot;, line 44, in modified_run</span>
<a id="__codelineno-18-28" name="__codelineno-18-28"></a><a href="#__codelineno-18-28"><span class="linenos" data-linenos="28 "></span></a><span class="s1">        self.include_path, self.library_path = get_graphviz_dirs()</span>
<a id="__codelineno-18-29" name="__codelineno-18-29"></a><a href="#__codelineno-18-29"><span class="linenos" data-linenos="29 "></span></a><span class="s1">      File &quot;/tmp/pip-install-_zdjdg0j/pygraphviz/setup_extra.py&quot;, line 162, in get_graphviz_dirs</span>
<a id="__codelineno-18-30" name="__codelineno-18-30"></a><a href="#__codelineno-18-30"><span class="linenos" data-linenos="30 "></span></a><span class="s1">        include_dirs, library_dirs = _try_configure(include_dirs, library_dirs, _pkg_config)</span>
<a id="__codelineno-18-31" name="__codelineno-18-31"></a><a href="#__codelineno-18-31"><span class="linenos" data-linenos="31 "></span></a><span class="s1">      File &quot;/tmp/pip-install-_zdjdg0j/pygraphviz/setup_extra.py&quot;, line 117, in _try_configure</span>
<a id="__codelineno-18-32" name="__codelineno-18-32"></a><a href="#__codelineno-18-32"><span class="linenos" data-linenos="32 "></span></a><span class="s1">        i, l = try_function()</span>
<a id="__codelineno-18-33" name="__codelineno-18-33"></a><a href="#__codelineno-18-33"><span class="linenos" data-linenos="33 "></span></a><span class="s1">      File &quot;/tmp/pip-install-_zdjdg0j/pygraphviz/setup_extra.py&quot;, line 72, in _pkg_config</span>
<a id="__codelineno-18-34" name="__codelineno-18-34"></a><a href="#__codelineno-18-34"><span class="linenos" data-linenos="34 "></span></a><span class="s1">        output = S.check_output([&#39;</span>pkg-config<span class="s1">&#39;, &#39;</span>--libs-only-L<span class="s1">&#39;, &#39;</span>libcgraph<span class="s1">&#39;])</span>
<a id="__codelineno-18-35" name="__codelineno-18-35"></a><a href="#__codelineno-18-35"><span class="linenos" data-linenos="35 "></span></a><span class="s1">      File &quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/subprocess.py&quot;, line 395, in check_output</span>
<a id="__codelineno-18-36" name="__codelineno-18-36"></a><a href="#__codelineno-18-36"><span class="linenos" data-linenos="36 "></span></a><span class="s1">        **kwargs).stdout</span>
<a id="__codelineno-18-37" name="__codelineno-18-37"></a><a href="#__codelineno-18-37"><span class="linenos" data-linenos="37 "></span></a><span class="s1">      File &quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/subprocess.py&quot;, line 487, in run</span>
<a id="__codelineno-18-38" name="__codelineno-18-38"></a><a href="#__codelineno-18-38"><span class="linenos" data-linenos="38 "></span></a><span class="s1">        output=stdout, stderr=stderr)</span>
<a id="__codelineno-18-39" name="__codelineno-18-39"></a><a href="#__codelineno-18-39"><span class="linenos" data-linenos="39 "></span></a><span class="s1">    subprocess.CalledProcessError: Command &#39;</span><span class="o">[</span><span class="s1">&#39;pkg-config&#39;</span>,<span class="w"> </span><span class="s1">&#39;--libs-only-L&#39;</span>,<span class="w"> </span><span class="s1">&#39;libcgraph&#39;</span><span class="o">]</span><span class="s1">&#39; returned non-zero exit status 1.</span>
<a id="__codelineno-18-40" name="__codelineno-18-40"></a><a href="#__codelineno-18-40"><span class="linenos" data-linenos="40 "></span></a>
<a id="__codelineno-18-41" name="__codelineno-18-41"></a><a href="#__codelineno-18-41"><span class="linenos" data-linenos="41 "></span></a><span class="s1">    ----------------------------------------</span>
<a id="__codelineno-18-42" name="__codelineno-18-42"></a><a href="#__codelineno-18-42"><span class="linenos" data-linenos="42 "></span></a><span class="s1">Command &quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/python3.7 -u -c &quot;import setuptools, tokenize;__file__=&#39;</span>/tmp/pip-install-_zdjdg0j/pygraphviz/setup.py<span class="s1">&#39;;f=getattr(tokenize, &#39;</span>open<span class="s1">&#39;, open)(__file__);code=f.read().replace(&#39;</span><span class="se">\r\n</span><span class="s1">&#39;, &#39;</span><span class="se">\n</span><span class="s1">&#39;);f.close();exec(compile(code, __file__, &#39;</span>exec<span class="err">&#39;</span><span class="o">))</span><span class="s2">&quot; install --record /tmp/pip-record-g0mz7lrq/install-record.txt --single-version-externally-managed --compile&quot;</span><span class="w"> </span>failed<span class="w"> </span>with<span class="w"> </span>error<span class="w"> </span>code<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>/tmp/pip-install-_zdjdg0j/pygraphviz/
</code></pre></div>
<p>参考：《<a href="https://github.com/pygraphviz/pygraphviz/issues/11">Installation:fatal error: 'graphviz/cgraph.h' file not found</a>》</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><a href="#__codelineno-19-1"><span class="linenos" data-linenos="1 "></span></a>$<span class="w"> </span>wget<span class="w"> </span>https://graphviz.gitlab.io/pub/graphviz/stable/SOURCES/graphviz.tar.gz
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><a href="#__codelineno-19-2"><span class="linenos" data-linenos="2 "></span></a>$<span class="w"> </span>tar<span class="w"> </span>zvxf<span class="w"> </span>graphviz.tar.gz
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><a href="#__codelineno-19-3"><span class="linenos" data-linenos="3 "></span></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>graphviz-2.40.1
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><a href="#__codelineno-19-4"><span class="linenos" data-linenos="4 "></span></a>$<span class="w"> </span>./configure<span class="w"> </span>--prefix<span class="o">=</span>/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><a href="#__codelineno-19-5"><span class="linenos" data-linenos="5 "></span></a>$<span class="w"> </span>make<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>install
</code></pre></div>
<p>推荐把安装好的 graphviz 添加到环境变量，这样可以避免运行过程中出现：<strong>"pygraphviz/graphviz_wrap.c:2987:29: fatal error: graphviz/cgraph.h: No such file or directory"</strong> 无法找到头文件的异常。</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><a href="#__codelineno-20-1"><span class="linenos" data-linenos="1 "></span></a><span class="nb">export</span><span class="w"> </span><span class="nv">PKG_CONFIG_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib/pkgconfig:<span class="nv">$PKG_CONFIG_PATH</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><a href="#__codelineno-20-2"><span class="linenos" data-linenos="2 "></span></a><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib:<span class="nv">$LD_LIBRARY_PATH</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><a href="#__codelineno-20-3"><span class="linenos" data-linenos="3 "></span></a><span class="nb">export</span><span class="w"> </span><span class="nv">C_INCLUDE_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include:<span class="nv">$C_INCLUDE_PATH</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a><a href="#__codelineno-20-4"><span class="linenos" data-linenos="4 "></span></a><span class="nb">export</span><span class="w"> </span><span class="nv">CPLUS_INCLUDE_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include:<span class="nv">$CPLUS_INCLUDE_PATH</span>
</code></pre></div>
<p>如果 graphviz 添加到环境变量， <code>pygraphviz</code> 的 python 包可以参考下面的方法安装：</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><a href="#__codelineno-21-1"><span class="linenos" data-linenos="1 "></span></a>$<span class="w"> </span>/Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/pip3<span class="w"> </span>install<span class="w"> </span>--global-option<span class="o">=</span>build_ext<span class="w"> </span>--global-option<span class="o">=</span><span class="s2">&quot;-I/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include&quot;</span><span class="w"> </span>--global-option<span class="o">=</span><span class="s2">&quot;-L/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib&quot;</span><span class="w"> </span>pygraphviz
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><a href="#__codelineno-21-2"><span class="linenos" data-linenos="2 "></span></a>/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/site-packages/pip/_internal/commands/install.py:207:<span class="w"> </span>UserWarning:<span class="w"> </span>Disabling<span class="w"> </span>all<span class="w"> </span>use<span class="w"> </span>of<span class="w"> </span>wheels<span class="w"> </span>due<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>use<span class="w"> </span>of<span class="w"> </span>--build-options<span class="w"> </span>/<span class="w"> </span>--global-options<span class="w"> </span>/<span class="w"> </span>--install-options.
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><a href="#__codelineno-21-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">  </span>cmdoptions.check_install_build_global<span class="o">(</span>options<span class="o">)</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><a href="#__codelineno-21-4"><span class="linenos" data-linenos="4 "></span></a>Collecting<span class="w"> </span>pygraphviz
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><a href="#__codelineno-21-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">  </span>Using<span class="w"> </span>cached<span class="w"> </span>https://files.pythonhosted.org/packages/7e/b1/d6d849ddaf6f11036f9980d433f383d4c13d1ebcfc3cd09bc845bda7e433/pygraphviz-1.5.zip
<a id="__codelineno-21-6" name="__codelineno-21-6"></a><a href="#__codelineno-21-6"><span class="linenos" data-linenos="6 "></span></a>Installing<span class="w"> </span>collected<span class="w"> </span>packages:<span class="w"> </span>pygraphviz
<a id="__codelineno-21-7" name="__codelineno-21-7"></a><a href="#__codelineno-21-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">  </span>Running<span class="w"> </span>setup.py<span class="w"> </span>install<span class="w"> </span><span class="k">for</span><span class="w"> </span>pygraphviz<span class="w"> </span>...<span class="w"> </span><span class="k">done</span>
<a id="__codelineno-21-8" name="__codelineno-21-8"></a><a href="#__codelineno-21-8"><span class="linenos" data-linenos="8 "></span></a>Successfully<span class="w"> </span>installed<span class="w"> </span>pygraphviz-1.5
</code></pre></div>
<h2 id="_3">编译安装<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>这里的编译安装，以 Python-3.11.6 为示例。</p>
<p>第一，下载 Python 源码，解压。</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><a href="#__codelineno-22-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1"># 官网下载地址 https://www.python.org/downloads</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><a href="#__codelineno-22-2"><span class="linenos" data-linenos="2 "></span></a>wget<span class="w"> </span>https://www.python.org/ftp/python/3.11.6/Python-3.11.6.tgz
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><a href="#__codelineno-22-3"><span class="linenos" data-linenos="3 "></span></a>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><a href="#__codelineno-22-4"><span class="linenos" data-linenos="4 "></span></a><span class="c1"># 解压到指定目录</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><a href="#__codelineno-22-5"><span class="linenos" data-linenos="5 "></span></a>tar<span class="w"> </span>zvxf<span class="w"> </span>Python-3.11.6.tgz<span class="w"> </span>-C<span class="w"> </span>/usr/local/src
</code></pre></div>
<p>第二，进入解压的源码路径，编译 Python 源码。</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><a href="#__codelineno-23-1"><span class="linenos" data-linenos=" 1 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PKG_CONFIG_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib/pkgconfig:<span class="nv">$PKG_CONFIG_PATH</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><a href="#__codelineno-23-2"><span class="linenos" data-linenos=" 2 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PKG_CONFIG_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib/pkgconfig:<span class="nv">$PKG_CONFIG_PATH</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><a href="#__codelineno-23-3"><span class="linenos" data-linenos=" 3 "></span></a>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><a href="#__codelineno-23-4"><span class="linenos" data-linenos=" 4 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib64:<span class="nv">$LD_LIBRARY_PATH</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><a href="#__codelineno-23-5"><span class="linenos" data-linenos=" 5 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib:<span class="nv">$LD_LIBRARY_PATH</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><a href="#__codelineno-23-6"><span class="linenos" data-linenos=" 6 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib:<span class="nv">$LD_LIBRARY_PATH</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><a href="#__codelineno-23-7"><span class="linenos" data-linenos=" 7 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib:<span class="nv">$LD_LIBRARY_PATH</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><a href="#__codelineno-23-8"><span class="linenos" data-linenos=" 8 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib:<span class="nv">$LD_LIBRARY_PATH</span>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><a href="#__codelineno-23-9"><span class="linenos" data-linenos=" 9 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/lib:<span class="nv">$LD_LIBRARY_PATH</span>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><a href="#__codelineno-23-10"><span class="linenos" data-linenos="10 "></span></a>
<a id="__codelineno-23-11" name="__codelineno-23-11"></a><a href="#__codelineno-23-11"><span class="linenos" data-linenos="11 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">TCLTK_LIBS</span><span class="o">=</span><span class="s2">&quot;-L/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/lib -ltcl8.6 -ltk8.6&quot;</span>
<a id="__codelineno-23-12" name="__codelineno-23-12"></a><a href="#__codelineno-23-12"><span class="linenos" data-linenos="12 "></span></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">TCLTK_CFLAGS</span><span class="o">=</span><span class="s2">&quot;-I/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/include&quot;</span>
<a id="__codelineno-23-13" name="__codelineno-23-13"></a><a href="#__codelineno-23-13"><span class="linenos" data-linenos="13 "></span></a>
<a id="__codelineno-23-14" name="__codelineno-23-14"></a><a href="#__codelineno-23-14"><span class="linenos" data-linenos="14 "></span></a>$<span class="w"> </span>./configure<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-23-15" name="__codelineno-23-15"></a><a href="#__codelineno-23-15"><span class="linenos" data-linenos="15 "></span></a>--enable-optimizations<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-23-16" name="__codelineno-23-16"></a><a href="#__codelineno-23-16"><span class="linenos" data-linenos="16 "></span></a>--prefix<span class="o">=</span>/Bioinfo/Pipeline/SoftWare/Python-3.11.6<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-23-17" name="__codelineno-23-17"></a><a href="#__codelineno-23-17"><span class="linenos" data-linenos="17 "></span></a>--with-openssl<span class="o">=</span>/Bioinfo/Pipeline/SoftWare/openssl-1.1.1<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-23-18" name="__codelineno-23-18"></a><a href="#__codelineno-23-18"><span class="linenos" data-linenos="18 "></span></a>--with-openssl-rpath<span class="o">=</span>/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-23-19" name="__codelineno-23-19"></a><a href="#__codelineno-23-19"><span class="linenos" data-linenos="19 "></span></a><span class="nv">CC</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/gcc-7.3.0/bin/gcc<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-23-20" name="__codelineno-23-20"></a><a href="#__codelineno-23-20"><span class="linenos" data-linenos="20 "></span></a><span class="nv">CXX</span><span class="o">=</span>/Bioinfo/Pipeline/SoftWare/gcc-7.3.0/bin/c++<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-23-21" name="__codelineno-23-21"></a><a href="#__codelineno-23-21"><span class="linenos" data-linenos="21 "></span></a><span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;-L/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib64 \</span>
<a id="__codelineno-23-22" name="__codelineno-23-22"></a><a href="#__codelineno-23-22"><span class="linenos" data-linenos="22 "></span></a><span class="s2">         -L/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib \</span>
<a id="__codelineno-23-23" name="__codelineno-23-23"></a><a href="#__codelineno-23-23"><span class="linenos" data-linenos="23 "></span></a><span class="s2">         -L/RiboBio/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib \</span>
<a id="__codelineno-23-24" name="__codelineno-23-24"></a><a href="#__codelineno-23-24"><span class="linenos" data-linenos="24 "></span></a><span class="s2">         -L/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-23-25" name="__codelineno-23-25"></a><a href="#__codelineno-23-25"><span class="linenos" data-linenos="25 "></span></a><span class="nv">CPPFLAGS</span><span class="o">=</span><span class="s2">&quot;-I/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include \</span>
<a id="__codelineno-23-26" name="__codelineno-23-26"></a><a href="#__codelineno-23-26"><span class="linenos" data-linenos="26 "></span></a><span class="s2">          -I/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/include \</span>
<a id="__codelineno-23-27" name="__codelineno-23-27"></a><a href="#__codelineno-23-27"><span class="linenos" data-linenos="27 "></span></a><span class="s2">          -I/Bioinfo/Pipeline/SoftWare/gdbm-1.23/include&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-23-28" name="__codelineno-23-28"></a><a href="#__codelineno-23-28"><span class="linenos" data-linenos="28 "></span></a><span class="nv">PKG_CONFIG_PATH</span><span class="o">=</span><span class="s2">&quot;/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib/pkgconfig: \</span>
<a id="__codelineno-23-29" name="__codelineno-23-29"></a><a href="#__codelineno-23-29"><span class="linenos" data-linenos="29 "></span></a><span class="s2">                 /Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib/pkgconfig&quot;</span>
</code></pre></div>
<ul>
<li><code>--enable-optimizations</code>  是优化选项（LTO，PGO  等）加上这个  flag  编译后，性能有  10%  左右的优化，但是这会明显的增加编译时间。建议使用这个参数；</li>
<li><code>--prefix</code>  声明安装路径；</li>
<li>安装多个 python 的版本，如果不开启<code>--enable-shared</code>，指定不同路径即可。当开启<code>--enable-shared</code> 时，默认只有一个版本的 python。</li>
<li>Python 3 编译可以在 configure 或者环境变量中指定 OpenSSL 安装路径进行编译的方式解决 OpenSSL 依赖，否则 <code>make</code>  过程可能出错。</li>
</ul>
<div class="language-shell highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><a href="#__codelineno-24-1"><span class="linenos" data-linenos=" 1 "></span></a>$<span class="w"> </span>make
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><a href="#__codelineno-24-2"><span class="linenos" data-linenos=" 2 "></span></a>......
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><a href="#__codelineno-24-3"><span class="linenos" data-linenos=" 3 "></span></a>The<span class="w"> </span>following<span class="w"> </span>modules<span class="w"> </span>found<span class="w"> </span>by<span class="w"> </span>detect_modules<span class="o">()</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>setup.py,<span class="w"> </span>have<span class="w"> </span>been
<a id="__codelineno-24-4" name="__codelineno-24-4"></a><a href="#__codelineno-24-4"><span class="linenos" data-linenos=" 4 "></span></a>built<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>Makefile<span class="w"> </span>instead,<span class="w"> </span>as<span class="w"> </span>configured<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>Setup<span class="w"> </span>files:
<a id="__codelineno-24-5" name="__codelineno-24-5"></a><a href="#__codelineno-24-5"><span class="linenos" data-linenos=" 5 "></span></a>_abc<span class="w">                  </span>atexit<span class="w">                </span><span class="nb">pwd</span>
<a id="__codelineno-24-6" name="__codelineno-24-6"></a><a href="#__codelineno-24-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="nb">time</span>
<a id="__codelineno-24-7" name="__codelineno-24-7"></a><a href="#__codelineno-24-7"><span class="linenos" data-linenos=" 7 "></span></a>
<a id="__codelineno-24-8" name="__codelineno-24-8"></a><a href="#__codelineno-24-8"><span class="linenos" data-linenos=" 8 "></span></a>
<a id="__codelineno-24-9" name="__codelineno-24-9"></a><a href="#__codelineno-24-9"><span class="linenos" data-linenos=" 9 "></span></a>Failed<span class="w"> </span>to<span class="w"> </span>build<span class="w"> </span>these<span class="w"> </span>modules:
<a id="__codelineno-24-10" name="__codelineno-24-10"></a><a href="#__codelineno-24-10"><span class="linenos" data-linenos="10 "></span></a>_ctypes<span class="w">               </span>_hashlib<span class="w">              </span>_ssl
<a id="__codelineno-24-11" name="__codelineno-24-11"></a><a href="#__codelineno-24-11"><span class="linenos" data-linenos="11 "></span></a>
<a id="__codelineno-24-12" name="__codelineno-24-12"></a><a href="#__codelineno-24-12"><span class="linenos" data-linenos="12 "></span></a>
<a id="__codelineno-24-13" name="__codelineno-24-13"></a><a href="#__codelineno-24-13"><span class="linenos" data-linenos="13 "></span></a>Could<span class="w"> </span>not<span class="w"> </span>build<span class="w"> </span>the<span class="w"> </span>ssl<span class="w"> </span>module!
<a id="__codelineno-24-14" name="__codelineno-24-14"></a><a href="#__codelineno-24-14"><span class="linenos" data-linenos="14 "></span></a>Python<span class="w"> </span>requires<span class="w"> </span>an<span class="w"> </span>OpenSSL<span class="w"> </span><span class="m">1</span>.0.2<span class="w"> </span>or<span class="w"> </span><span class="m">1</span>.1<span class="w"> </span>compatible<span class="w"> </span>libssl<span class="w"> </span>with<span class="w"> </span>X509_VERIFY_PARAM_set1_host<span class="o">()</span>.
<a id="__codelineno-24-15" name="__codelineno-24-15"></a><a href="#__codelineno-24-15"><span class="linenos" data-linenos="15 "></span></a>LibreSSL<span class="w"> </span><span class="m">2</span>.6.4<span class="w"> </span>and<span class="w"> </span>earlier<span class="w"> </span><span class="k">do</span><span class="w"> </span>not<span class="w"> </span>provide<span class="w"> </span>the<span class="w"> </span>necessary<span class="w"> </span>APIs,<span class="w"> </span>https://github.com/libressl-portable/portable/issues/381
<a id="__codelineno-24-16" name="__codelineno-24-16"></a><a href="#__codelineno-24-16"><span class="linenos" data-linenos="16 "></span></a>
<a id="__codelineno-24-17" name="__codelineno-24-17"></a><a href="#__codelineno-24-17"><span class="linenos" data-linenos="17 "></span></a>......
</code></pre></div>
<ul>
<li><code>make</code> 过程如果出现 <code>ModuleNotFoundError: No module named '_ctypes'</code> 或者 <code>INFO: Could not locate ffi libs and/or headers</code> 参考：<a href="https://groups.google.com/forum/#!topic/comp.lang.python/npv-wzmytzo">https://groups.google.com/forum/#!topic/comp.lang.python/npv-wzmytzo</a></li>
</ul>
<p><a class="glightbox" href="https://shub.weiyan.tech/yuque/elog-cookbook-img/FmK7bCeEeGjfbl1UVdvHyw3Jg8Zj.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image.png" src="https://shub.weiyan.tech/yuque/elog-cookbook-img/FmK7bCeEeGjfbl1UVdvHyw3Jg8Zj.png" /></a></p>
<ul>
<li>对于低版本的 Python 如果指定 <code>--with-openssl=DIR</code> 依然无法解决 ssl 模块的问题，可以参考修改 Modules/Setup.dist 文件（默认这块是注释的，放开注释即可。这块功能是开启 SSL 模块，不然会出现安装完毕后，提示找不到 ssl 模块的错误）再执行 configure，修改内容如下：</li>
</ul>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><a href="#__codelineno-25-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1"># Socket module helper for SSL support; you must comment out the other</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><a href="#__codelineno-25-2"><span class="linenos" data-linenos="2 "></span></a><span class="c1"># socket line above, and possibly edit the SSL variable:</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><a href="#__codelineno-25-3"><span class="linenos" data-linenos="3 "></span></a><span class="nv">SSL</span><span class="o">=</span>/usr/local/ssl
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><a href="#__codelineno-25-4"><span class="linenos" data-linenos="4 "></span></a>_ssl<span class="w"> </span>_ssl.c<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a><a href="#__codelineno-25-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">    </span>-DUSE_SSL<span class="w"> </span>-I<span class="k">$(</span>SSL<span class="k">)</span>/include<span class="w"> </span>-I<span class="k">$(</span>SSL<span class="k">)</span>/include/openssl<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-25-6" name="__codelineno-25-6"></a><a href="#__codelineno-25-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">    </span>-L<span class="k">$(</span>SSL<span class="k">)</span>/lib<span class="w"> </span>-lssl<span class="w"> </span>-lcrypto
</code></pre></div>
<p>第三，Makefile 生后依次在当前路径执行编译和安装命令。</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><a href="#__codelineno-26-1"><span class="linenos" data-linenos="1 "></span></a>make<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>install
</code></pre></div>
<p>第四，安装完成。以上命令执行完毕，且无报错的情况下，我们将默认 python 换将切换至 3.11.6（一般不建议替换，个人建议把自定义安装的 Python bin 路径添加到 PATH 环境变量即可）：</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><a href="#__codelineno-27-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1"># 替换系统自带的 python（不建议）</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><a href="#__codelineno-27-2"><span class="linenos" data-linenos="2 "></span></a>mv<span class="w"> </span>/usr/bin/python<span class="w"> </span>/usr/bin/python2
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><a href="#__codelineno-27-3"><span class="linenos" data-linenos="3 "></span></a>ln<span class="w"> </span>-s<span class="w"> </span>/Bioinfo/Pipeline/SoftWare/Python-3.11.6/bin/python3<span class="w"> </span>/usr/bin/python3
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><a href="#__codelineno-27-4"><span class="linenos" data-linenos="4 "></span></a>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><a href="#__codelineno-27-5"><span class="linenos" data-linenos="5 "></span></a><span class="c1"># 添加新 Python 到 PATH 环境变量（建议）</span>
<a id="__codelineno-27-6" name="__codelineno-27-6"></a><a href="#__codelineno-27-6"><span class="linenos" data-linenos="6 "></span></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;export PATH=/Bioinfo/Pipeline/SoftWare/Python-3.11.6/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span><span class="w"> </span>&gt;&gt;~/.bashrc
<a id="__codelineno-27-7" name="__codelineno-27-7"></a><a href="#__codelineno-27-7"><span class="linenos" data-linenos="7 "></span></a><span class="nb">source</span><span class="w"> </span>~/.bashrc
</code></pre></div>
<p>运行命令 <code>python -V</code> ，查看是否出现 3.11.6  的版本，出现即为安装成功。</p>
<h2 id="_4">其他工具<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p>Python &gt;= 3.10 在安装时候，默认会同时安装 <strong>pip3</strong>！如果你的 python &lt; 3.10，可以参考下面的方法安装 pip。</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><a href="#__codelineno-28-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1"># 下载 setuptools 和 pip 安装程序</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><a href="#__codelineno-28-2"><span class="linenos" data-linenos="2 "></span></a>curl<span class="w"> </span>https://bootstrap.pypa.io/get-pip.py<span class="w"> </span>-o<span class="w"> </span>get-pip.py
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><a href="#__codelineno-28-3"><span class="linenos" data-linenos="3 "></span></a>python3<span class="w"> </span>get-pip.py
</code></pre></div>
<p>至此，CentOS Linux release 6.5 下的 python-3.11.6  全部安装完成。如果在安装过程中出现其他的报错，建议把 error 关键信息直接复制到 Google 进行检索，参考其他人的解决方法。</p>
<h2 id="_5">其他异常与解决<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<h3 id="_bz2">_bz2<a class="headerlink" href="#_bz2" title="Permanent link">&para;</a></h3>
<ul>
<li>系统：CentOS Linux release 7.7.1908 (Core)</li>
<li>GCC：gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-39)</li>
</ul>
<p>在 CentOS 7 中安装 Python-3.6.9 中发现 make 过程中一直提示："<strong>ModuleNotFoundError: No module named '_bz2'</strong>"，尽管 <code>sudo yum install bzip2 bzip2-devel</code>  已经安装了 bzip2 的依赖，问题还是不得其解。最后参考 stackoverflow 上的《Correctly building local python3, with bz2 support》，终于解决问题，下面记录一下。
<a href="https://stackoverflow.com/questions/51149227/correctly-building-local-python3-with-bz2-support">Correctly building local python3, with bz2 support</a></p>
<p><strong>手动安装 bzip2：</strong></p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><a href="#__codelineno-29-1"><span class="linenos" data-linenos="1 "></span></a>wget<span class="w"> </span>https://nchc.dl.sourceforge.net/project/bzip2/bzip2-1.0.6.tar.gz
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><a href="#__codelineno-29-2"><span class="linenos" data-linenos="2 "></span></a>tar<span class="w"> </span>zvxf<span class="w"> </span>bzip2-1.0.6.tar.gz
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><a href="#__codelineno-29-3"><span class="linenos" data-linenos="3 "></span></a><span class="nb">cd</span><span class="w"> </span>bzip2-1.0.6
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><a href="#__codelineno-29-4"><span class="linenos" data-linenos="4 "></span></a>make<span class="w"> </span>-f<span class="w"> </span>Makefile_libbz2_so<span class="w">  </span><span class="c1"># 这一步是生成 libbz2.so.1.0.6 的动态库文件</span>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><a href="#__codelineno-29-5"><span class="linenos" data-linenos="5 "></span></a>make
<a id="__codelineno-29-6" name="__codelineno-29-6"></a><a href="#__codelineno-29-6"><span class="linenos" data-linenos="6 "></span></a>make<span class="w"> </span>install<span class="w"> </span><span class="nv">PREFIX</span><span class="o">=</span>/usr/local/software/bzip2-1.0.6
<a id="__codelineno-29-7" name="__codelineno-29-7"></a><a href="#__codelineno-29-7"><span class="linenos" data-linenos="7 "></span></a>cp<span class="w"> </span>libbz2.so.1.0.6<span class="w"> </span>/usr/local/software/bzip2-1.0.6/lib/
</code></pre></div>
<p><strong>几点说明：</strong></p>
<ul>
<li>bzip2 的官网  <a href="http://www.bzip.org/">http://www.bzip.org/</a>  已经把 bzip2 的源码下载链接放到了  SourceForge，网络上一些从  <a href="http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz">http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz</a>  下载的做法已经失效。</li>
<li><a href="https://sourceforge.net/projects/bzip2/files/">SourceForge</a> 上 bzip2 的最新版本还是 1.0.6（Last modified 2018-11-3），更高级版本的 bzip2 我也不知道是否存在，也不知道能不能用。</li>
</ul>
<p><a class="glightbox" href="https://shub.weiyan.tech/yuque/elog-cookbook-img/FvgxGWlVJSxOCvgXFo9BPOa3ODm5.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image.png" src="https://shub.weiyan.tech/yuque/elog-cookbook-img/FvgxGWlVJSxOCvgXFo9BPOa3ODm5.png" /></a></p>
<p><strong>编译安装 Python-3.6.9：</strong></p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><a href="#__codelineno-30-1"><span class="linenos" data-linenos="1 "></span></a>$<span class="w"> </span>wget<span class="w"> </span>https://www.python.org/ftp/python/3.6.9/Python-3.6.9.tgz
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><a href="#__codelineno-30-2"><span class="linenos" data-linenos="2 "></span></a>$<span class="w"> </span>tar<span class="w"> </span>zvxf<span class="w"> </span>Python-3.6.9.tgz
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><a href="#__codelineno-30-3"><span class="linenos" data-linenos="3 "></span></a>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>Python-3.6.9
<a id="__codelineno-30-4" name="__codelineno-30-4"></a><a href="#__codelineno-30-4"><span class="linenos" data-linenos="4 "></span></a>$<span class="w"> </span>./configure<span class="w"> </span>--enable-optimizations<span class="w"> </span>--prefix<span class="o">=</span>/usr/local/software/python-3.6<span class="w"> </span><span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">&quot;-I/usr/local/software/bzip2-1.0.6/include&quot;</span><span class="w"> </span><span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;-L/usr/local/software/bzip2-1.0.6/lib&quot;</span>
<a id="__codelineno-30-5" name="__codelineno-30-5"></a><a href="#__codelineno-30-5"><span class="linenos" data-linenos="5 "></span></a>$<span class="w"> </span>make
<a id="__codelineno-30-6" name="__codelineno-30-6"></a><a href="#__codelineno-30-6"><span class="linenos" data-linenos="6 "></span></a>$<span class="w"> </span>make<span class="w"> </span>install
</code></pre></div>
<ul>
<li>Python-3.6.9 中的 <code>./configure --help</code> 中没有 <code>--with-openssl</code> 参数！有点神奇，我也不知道原因。</li>
<li>安装完成可以用 <code>from _bz2 import BZ2Compressor, BZ2Decompressor</code> 测试一下 <code>_bz2</code>  是否可用。</li>
</ul>
<h2 id="_6">参考资料<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<ol>
<li>行者无疆-ITer,《<a href="https://www.cnblogs.com/ITer-jack/p/8305912.html">python2.7 源码编译安装</a>》, 博客园</li>
<li>Scott Frazer,《<a href="https://stackoverflow.com/questions/23548188/how-do-i-compile-python-3-4-with-custom-openssl">How do I compile Python 3.4 with custom OpenSSL?</a>》, Stack Overflow</li>
</ol>
<script src="https://giscus.app/client.js"
    data-repo="shenweiyan/Knowledge-Garden"
    data-repo-id="R_kgDOKgxWlg"
    data-mapping="number"
    data-term="13"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="light"
    data-lang="zh-CN"
    crossorigin="anonymous"
    async>
</script>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-09-01</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/" class="md-footer__link md-footer__link--prev" aria-label="上一页: Python 中 tkinter 源码安装使用与中文乱码">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Python 中 tkinter 源码安装使用与中文乱码
              </div>
            </div>
          </a>
        
        
          
          <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/" class="md-footer__link md-footer__link--next" aria-label="下一页: 数据库">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                数据库
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 <a href="http://joshzhong.top">赣ICP备2023014948号</a> 
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.tracking", "navigation.sections", "navigation.expand", "navigation.prune", "toc.follow", "navigation.top", "search.suggest", "search.highlight", "search.share", "navigation.footer", "content.code.copy"], "search": "../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.af256bd8.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>