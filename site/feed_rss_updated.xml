<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    
    <title>Josh&#39;s Blog</title>
    
    
    

    
    
    
    <language>zh</language>

    
    <pubDate>Sat, 31 Aug 2024 16:27:03 -0000</pubDate>
    <lastBuildDate>Sat, 31 Aug 2024 16:27:03 -0000</lastBuildDate>
    <ttl>1440</ttl>

    
    <generator>MkDocs RSS plugin - v1.15.0</generator>

    
    
    <image>
      <url>https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/Feed-icon.svg/128px-Feed-icon.svg.png</url>
      <title>Josh's Blog</title>
      
    </image>
    

    
    
    <item>
      <title>CentOS7 配置NTP</title>
      
      
      
      
      <description>&lt;h1 id=&#34;centos7-ntp&#34;&gt;CentOS7 配置NTP&lt;a class=&#34;headerlink&#34; href=&#34;#centos7-ntp&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;h2 id=&#34;ntp&#34;&gt;一、NTP概念&lt;a class=&#34;headerlink&#34; href=&#34;#ntp&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;网络时间协议（NTP, Network Time Protocol）是一种用于在计算机网络中同步时间的协议。NTP 允许计算机和其他网络设备保持一致的时间，即使在不同的地理位置和不同的网络环境中也能做到时间同步。NTP 主要用于确保分布式系统中的所有设备和服务都有统一的时间，以便于日志记录、事件排序、定时任务等。&lt;/p&gt;
&lt;h2 id=&#34;ntp_1&#34;&gt;二、NTP服务工具&lt;a class=&#34;headerlink&#34; href=&#34;#ntp_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ntpdate&lt;/code&gt;、&lt;code&gt;ntp&lt;/code&gt; 和 &lt;code&gt;chrony&lt;/code&gt; 是三个用于时间同步的工具和服务，每个工具都有其特定的用途和特点。以下是对这三种工具的详细比较和说明：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;ntpdate&lt;/code&gt;：&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：&lt;code&gt;ntpdate&lt;/code&gt; 是一个用于手动同步系统时间的工具。它会向指定的 NTP 服务器发送时间请求，并根据返回的时间更新系统时钟。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;特点&lt;/strong&gt;：&lt;ul&gt;
&lt;li&gt;一次性同步：&lt;code&gt;ntpdate&lt;/code&gt; 仅执行一次时间同步操作，并不会持续运行。它适用于需要临时更新系统时间的场景。&lt;/li&gt;
&lt;li&gt;不适合持续同步：不适合需要持续时间同步的环境，因为它不会持续运行并监控时间偏差。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：&lt;code&gt;ntpdate&lt;/code&gt; 已被认为是过时的工具，现代系统通常推荐使用 &lt;code&gt;chrony&lt;/code&gt; 或 &lt;code&gt;ntpd&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ntp&lt;/code&gt;：&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：&lt;code&gt;ntp&lt;/code&gt; 是一个守护进程 (&lt;code&gt;ntpd&lt;/code&gt;)，负责持续地同步系统时间。它会定期与 NTP 服务器通信，自动调整系统时间，以保持准确性。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;特点&lt;/strong&gt;：&lt;ul&gt;
&lt;li&gt;持续运行：&lt;code&gt;ntpd&lt;/code&gt; 是一个守护进程，持续运行并维护系统时间同步。&lt;/li&gt;
&lt;li&gt;复杂配置：配置较为复杂，支持多种同步模式和高级特性。&lt;/li&gt;
&lt;li&gt;自动调整：会根据网络延迟等因素自动调整时间，以提高同步精度。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：&lt;code&gt;ntpd&lt;/code&gt; 的时间同步速度较慢，但稳定性和精度较高，适合长期运行的服务器。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;chrony&lt;/code&gt;：&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：&lt;code&gt;chrony&lt;/code&gt; 是一个现代的时间同步工具，旨在取代传统的 NTP 工具。它包括两个主要组件：&lt;code&gt;chronyd&lt;/code&gt;（服务守护进程）和 &lt;code&gt;chronyc&lt;/code&gt;（命令行客户端）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;特点&lt;/strong&gt;：&lt;ul&gt;
&lt;li&gt;快速同步：&lt;code&gt;chrony&lt;/code&gt; 提供更快的时间同步速度，尤其在虚拟环境和不稳定的网络条件下表现优越。&lt;/li&gt;
&lt;li&gt;高效：适合经常处于变化的网络环境或频繁重启的系统。&lt;/li&gt;
&lt;li&gt;精度高：提供更精确的时间同步服务，支持更广泛的环境和应用场景。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：&lt;code&gt;chrony&lt;/code&gt; 提供的功能更加现代化和高效，是许多系统管理员推荐的时间同步解决方案。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;下面分别介绍三种工具的安装和使用。&lt;/p&gt;
&lt;h2 id=&#34;ntp_2&#34;&gt;三、常用的NTP服务器&lt;a class=&#34;headerlink&#34; href=&#34;#ntp_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Google NTP 服务器&lt;/strong&gt;：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;time.google.com&lt;/code&gt;；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Google 提供的 NTP 服务，具有较高的可靠性和全球分布的服务器。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;NTP Pool Project 服务器&lt;/strong&gt;：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;pool.ntp.org&lt;/code&gt;；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;这个项目提供了全球分布的 NTP 服务器集群，按地域可细分，如 &lt;code&gt;cn.pool.ntp.org&lt;/code&gt; 专用于中国地区。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;阿里云 NTP 服务器&lt;/strong&gt;：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ntp.aliyun.com&lt;/code&gt;；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ntp1.aliyun.com&lt;/code&gt;；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;阿里云提供的 NTP 服务，在中国境内延迟较低，适合国内用户使用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;华为云 NTP 服务器&lt;/strong&gt;：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ntp1.cloud.huawei.com&lt;/code&gt;；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ntp2.cloud.huawei.com&lt;/code&gt;；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ntp3.cloud.huawei.com&lt;/code&gt;；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;华为云提供的 NTP 服务，具有高可靠性。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;国家授时中心 NTP 服务器&lt;/strong&gt;：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ntp.ntsc.ac.cn&lt;/code&gt;；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;中国科学院国家授时中心提供的 NTP 服务，专门为中国境内用户提供高精度的时间同步。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;腾讯云 NTP 服务器&lt;/strong&gt;：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ntp.tencent.com&lt;/code&gt;；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;腾讯云提供的 NTP 服务，适用于国内用户。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Microsoft NTP 服务器&lt;/strong&gt;：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;time.windows.com&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Microsoft 提供的 NTP 服务，适合 Windows 用户。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ntpdate&#34;&gt;四、安装并使用ntpdate工具&lt;a class=&#34;headerlink&#34; href=&#34;#ntpdate&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&#34;1&#34;&gt;1.修改系统时间&lt;a class=&#34;headerlink&#34; href=&#34;#1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;这里我们先修改系统时间，使用 &lt;code&gt;data&lt;/code&gt; 命令随便修改为一个时间：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 查看当前时间&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-2&#34; name=&#34;__codelineno-0-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date
&lt;a id=&#34;__codelineno-0-3&#34; name=&#34;__codelineno-0-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 显示当前时间&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-4&#34; name=&#34;__codelineno-0-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Mon&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Aug&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;22&lt;/span&gt;:01:01&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;CST&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2024&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-5&#34; name=&#34;__codelineno-0-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-0-6&#34; name=&#34;__codelineno-0-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 修改当前时间为2024年8月18日15:30&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-7&#34; name=&#34;__codelineno-0-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-s&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;2024-08-18 15:30:00&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-8&#34; name=&#34;__codelineno-0-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 再次查看当前时间&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-9&#34; name=&#34;__codelineno-0-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date
&lt;a id=&#34;__codelineno-0-10&#34; name=&#34;__codelineno-0-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 显示当前时间&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-11&#34; name=&#34;__codelineno-0-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Sun&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Aug&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;15&lt;/span&gt;:30:03&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;CST&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2024&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;也可以使用时间戳来修改：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 查看当前时间戳&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;+%s
&lt;a id=&#34;__codelineno-1-3&#34; name=&#34;__codelineno-1-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 显示当前时间戳&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-4&#34; name=&#34;__codelineno-1-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;m&#34;&gt;1724075698&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-5&#34; name=&#34;__codelineno-1-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-1-6&#34; name=&#34;__codelineno-1-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 修改当前时间戳&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-7&#34; name=&#34;__codelineno-1-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;112523092020&lt;/span&gt;.18
&lt;a id=&#34;__codelineno-1-8&#34; name=&#34;__codelineno-1-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 再次查看当前时间&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-9&#34; name=&#34;__codelineno-1-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date
&lt;a id=&#34;__codelineno-1-10&#34; name=&#34;__codelineno-1-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 显示当前时间&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-11&#34; name=&#34;__codelineno-1-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;2020年&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;11月&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;25日&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;星期三&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;23&lt;/span&gt;:09:18&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;CST
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;2ntpdate&#34;&gt;2.安装ntpdate工具&lt;a class=&#34;headerlink&#34; href=&#34;#2ntpdate&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;使用 &lt;code&gt;yum&lt;/code&gt; 命令进行安装：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-y&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntpdate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;3ntpdate&#34;&gt;3.使用ntpdate工具&lt;a class=&#34;headerlink&#34; href=&#34;#3ntpdate&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;使用 &lt;code&gt;ntpdate&lt;/code&gt; 命令更新系统时间：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;ntpdate&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntp.aliyun.com
&lt;a id=&#34;__codelineno-3-2&#34; name=&#34;__codelineno-3-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 显示信息&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-3&#34; name=&#34;__codelineno-3-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;m&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Aug&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;22&lt;/span&gt;:05:44&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntpdate&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8026&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;step&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;server&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;203&lt;/span&gt;.107.6.88&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;offset&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;109868&lt;/span&gt;.479535&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sec
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;这里使用的是阿里云的 NTP 服务器，在中国境内延迟较低，适合国内用户使用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;再次通过 &lt;code&gt;date&lt;/code&gt; 命令查看当前时间，发现已正常：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date
&lt;a id=&#34;__codelineno-4-2&#34; name=&#34;__codelineno-4-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 显示当前时间&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-3&#34; name=&#34;__codelineno-4-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Mon&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Aug&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;22&lt;/span&gt;:06:10&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;CST&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2024&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;使用 &lt;code&gt;hwclock&lt;/code&gt; 命令显示系统硬件时钟的当前时间：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hwclock&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--show
&lt;a id=&#34;__codelineno-5-2&#34; name=&#34;__codelineno-5-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 或者更简洁的版本&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-3&#34; name=&#34;__codelineno-5-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hwclock&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-r
&lt;a id=&#34;__codelineno-5-4&#34; name=&#34;__codelineno-5-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-5-5&#34; name=&#34;__codelineno-5-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 显示信息&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-6&#34; name=&#34;__codelineno-5-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Mon&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Aug&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2024&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;:08:08&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;PM&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;CST&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-0.428151&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;seconds
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;-0.428151 seconds&lt;/code&gt;：表示硬件时钟与系统时钟之间的时间差，单位为秒，这里表示硬件时钟比系统时钟慢约 &lt;code&gt;0.428&lt;/code&gt; 秒。&lt;/p&gt;
&lt;p&gt;可以使用以下命令将系统时钟的时间同步到硬件时钟：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-6-1&#34; name=&#34;__codelineno-6-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hwclock&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--systohc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;或者将硬件时钟的时间同步到系统时钟：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-7-1&#34; name=&#34;__codelineno-7-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hwclock&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--hctosys
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;可以使用 &lt;code&gt;timedatectl&lt;/code&gt; 命令设置时区，比如设置为中国标准时间（CST，Asia/Shanghai 时区）：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-8-1&#34; name=&#34;__codelineno-8-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;timedatectl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;set-timezone&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Asia/Shanghai
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以设置定时任务，每天在中午12点自动运行 &lt;code&gt;ntpdate&lt;/code&gt; 命令，并从 &lt;code&gt;ntp.aliyun.com&lt;/code&gt; 服务器同步系统时间：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-9-1&#34; name=&#34;__codelineno-9-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 配置定时任务&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-2&#34; name=&#34;__codelineno-9-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;crontab&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-e
&lt;a id=&#34;__codelineno-9-3&#34; name=&#34;__codelineno-9-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 添加以下内容&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-4&#34; name=&#34;__codelineno-9-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;*&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;*&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;*&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/sbin/ntpdate&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntp.aliyun.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;ntp_3&#34;&gt;五、安装并使用ntp工具&lt;a class=&#34;headerlink&#34; href=&#34;#ntp_3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&#34;1ntp&#34;&gt;1.配置ntp服务端&lt;a class=&#34;headerlink&#34; href=&#34;#1ntp&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&#34;11-ntp&#34;&gt;1.1 安装ntp工具&lt;a class=&#34;headerlink&#34; href=&#34;#11-ntp&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;使用 &lt;code&gt;yum&lt;/code&gt; 命令进行安装：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-10-1&#34; name=&#34;__codelineno-10-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-y&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;12-ntp&#34;&gt;1.2 修改ntp配置文件&lt;a class=&#34;headerlink&#34; href=&#34;#12-ntp&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;编辑 &lt;code&gt;ntp&lt;/code&gt;的配置文件 &lt;code&gt;/etc/ntp.conf&lt;/code&gt;，配置以下内容：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-11-1&#34; name=&#34;__codelineno-11-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 配置 NTP 服务器的上游时间源&lt;/span&gt;
&lt;a id=&#34;__codelineno-11-2&#34; name=&#34;__codelineno-11-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;server&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntp.aliyun.com&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;iburst
&lt;a id=&#34;__codelineno-11-3&#34; name=&#34;__codelineno-11-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;server&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntp1.aliyun.com&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;iburst
&lt;a id=&#34;__codelineno-11-4&#34; name=&#34;__codelineno-11-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 允许特定 IP 范围的客户端访问&lt;/span&gt;
&lt;a id=&#34;__codelineno-11-5&#34; name=&#34;__codelineno-11-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;restrict&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;.22.51.0&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;mask&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;255&lt;/span&gt;.255.255.0&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;nomodify&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;notrap
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;命令参数解释说明：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;iburst&lt;/code&gt;：用于加速 NTP 客户端与服务器之间的时间同步过程，特别是在初始同步时。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;restrict&lt;/code&gt; ：该指令用于配置 NTP 服务器的访问控制策略，以控制哪些客户端可以与 NTP 服务器进行通信，以及可以执行的操作。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;nomodify&lt;/code&gt;：这个选项禁止客户端修改 NTP 服务器的配置，客户端不能对 NTP 服务器进行配置更改。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;notrap&lt;/code&gt;：这个选项禁止客户端使用 NTP 服务器的 “trap” 功能，NTP 服务器不会为这个客户端提供对特定事件的通知。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;13-ntpd&#34;&gt;1.3 启动ntpd服务&lt;a class=&#34;headerlink&#34; href=&#34;#13-ntpd&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-12-1&#34; name=&#34;__codelineno-12-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 启动ntpd服务&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-2&#34; name=&#34;__codelineno-12-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;start&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntpd
&lt;a id=&#34;__codelineno-12-3&#34; name=&#34;__codelineno-12-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 查看服务状态&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-4&#34; name=&#34;__codelineno-12-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;status&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntpd
&lt;a id=&#34;__codelineno-12-5&#34; name=&#34;__codelineno-12-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 设置服务开机自启&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-6&#34; name=&#34;__codelineno-12-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;14&#34;&gt;1.4 检查时间同步状态&lt;a class=&#34;headerlink&#34; href=&#34;#14&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;执行以下命令查看时间源列表：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-13-1&#34; name=&#34;__codelineno-13-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;ntpq&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-p
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;显示信息如下：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-14-1&#34; name=&#34;__codelineno-14-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;remote&lt;span class=&#34;w&#34;&gt;           &lt;/span&gt;refid&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;st&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;t&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;when&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;poll&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;reach&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;delay&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;offset&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jitter&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-2&#34; name=&#34;__codelineno-14-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;==============================================================================&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-3&#34; name=&#34;__codelineno-14-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;*203.107.6.88&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;.107.25.114&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;u&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;377&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;48&lt;/span&gt;.779&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;-8.512&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;.644
&lt;a id=&#34;__codelineno-14-4&#34; name=&#34;__codelineno-14-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;+120.25.115.20&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;.137.53.7&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;u&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;71&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;.127&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-11.582&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;7&lt;/span&gt;.182
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;2ntp&#34;&gt;2.配置ntp客户端&lt;a class=&#34;headerlink&#34; href=&#34;#2ntp&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&#34;21-ntp&#34;&gt;2.1 安装ntp工具&lt;a class=&#34;headerlink&#34; href=&#34;#21-ntp&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;使用 &lt;code&gt;yum&lt;/code&gt; 命令进行安装：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-15-1&#34; name=&#34;__codelineno-15-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-y&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;22-ntp&#34;&gt;2.2 修改ntp配置文件&lt;a class=&#34;headerlink&#34; href=&#34;#22-ntp&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;编辑 &lt;code&gt;ntp&lt;/code&gt;的配置文件 &lt;code&gt;/etc/ntp.conf&lt;/code&gt;，配置以下内容：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-16-1&#34; name=&#34;__codelineno-16-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 设置 NTP 服务器的地址&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-2&#34; name=&#34;__codelineno-16-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;server&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;.22.51.49&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;iburst
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;23-ntpd&#34;&gt;2.3 启动ntpd服务&lt;a class=&#34;headerlink&#34; href=&#34;#23-ntpd&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-17-1&#34; name=&#34;__codelineno-17-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 启动ntpd服务&lt;/span&gt;
&lt;a id=&#34;__codelineno-17-2&#34; name=&#34;__codelineno-17-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;start&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntpd
&lt;a id=&#34;__codelineno-17-3&#34; name=&#34;__codelineno-17-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 查看服务状态&lt;/span&gt;
&lt;a id=&#34;__codelineno-17-4&#34; name=&#34;__codelineno-17-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;status&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntpd
&lt;a id=&#34;__codelineno-17-5&#34; name=&#34;__codelineno-17-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 设置服务开机自启&lt;/span&gt;
&lt;a id=&#34;__codelineno-17-6&#34; name=&#34;__codelineno-17-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;3&#34;&gt;3.验证配置&lt;a class=&#34;headerlink&#34; href=&#34;#3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在客户端上，使用以下命令来检查 NTP 服务状态和同步情况：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-18-1&#34; name=&#34;__codelineno-18-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;ntpq&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-p
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;执行后显示的信息如下：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-19-1&#34; name=&#34;__codelineno-19-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;remote&lt;span class=&#34;w&#34;&gt;           &lt;/span&gt;refid&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;st&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;t&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;when&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;poll&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;reach&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;delay&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;offset&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jitter&lt;/span&gt;
&lt;a id=&#34;__codelineno-19-2&#34; name=&#34;__codelineno-19-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;==============================================================================&lt;/span&gt;
&lt;a id=&#34;__codelineno-19-3&#34; name=&#34;__codelineno-19-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;*10.22.51.49&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;203&lt;/span&gt;.107.6.88&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;u&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;64&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;.542&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;.073&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;.077
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;显示 &lt;code&gt;*&lt;/code&gt; 号，说明已经同步成功。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;输出字段解释：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;remote&lt;/code&gt;：显示当前 NTP 客户端正在使用的主服务器的地址，前面的 &lt;code&gt;*&lt;/code&gt; 表示这是被选为主时间源的服务器。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;refid&lt;/code&gt;：远程服务器的参考 ID，指示它从哪个服务器或时间源获得时间。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;st&lt;/code&gt;：显示服务器的层级，层级越小表示距离准确时间源越近。例如，&lt;code&gt;1&lt;/code&gt; 表示直接与外部时间源同步，&lt;code&gt;2&lt;/code&gt; 表示与一个层级为 &lt;code&gt;1&lt;/code&gt; 的服务器同步。这里 &lt;code&gt;3&lt;/code&gt; 表示这是第三层服务器（即它是与第二层服务器同步的）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;t&lt;/code&gt;：表示时间同步的类型，常见的有 &lt;code&gt;u&lt;/code&gt;（UDP）或 &lt;code&gt;l&lt;/code&gt;（本地）等。这里是 &lt;code&gt;u&lt;/code&gt;（UDP），通常指使用 UDP 协议进行同步。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;when&lt;/code&gt;：显示上次与远程服务器进行通信的时间，单位是秒。这里表示上次与这个服务器进行通信的时间为 17 秒前。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;poll&lt;/code&gt;：显示客户端与服务器之间的请求间隔，单位是秒，表示客户端多久会发送一个请求。这里表示请求间隔为 64 秒。这个间隔是动态调整的，用于平衡时间同步的频率和网络负载。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;reach&lt;/code&gt;：显示到达服务器的响应状态，通常是一个八位的八进制数，每一位表示一个请求是否成功接收到响应。这里 &lt;code&gt;1&lt;/code&gt; 表示最近的一次请求成功得到了响应。&lt;code&gt;377&lt;/code&gt; 代表之前有多个请求的响应状态，&lt;code&gt;1&lt;/code&gt; 表示最后一次请求成功，其他七位都是 &lt;code&gt;1&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;delay&lt;/code&gt;：显示客户端与服务器之间的往返延迟时间，单位是毫秒。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;offset&lt;/code&gt;：显示客户端与服务器之间的时间偏差，单位是毫秒。这个值表明客户端时间与服务器时间之间的差异。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jitter&lt;/code&gt;：显示时间同步的抖动，即时间偏差的波动，单位是毫秒。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;总结&lt;/strong&gt;：从这个输出结果来看， NTP 客户端与主服务器 &lt;code&gt;10.22.51.49&lt;/code&gt; 正在正常同步，且主服务器的时间源被选中作为同步源。延迟和偏差都很小，说明同步状态良好。&lt;code&gt;reach&lt;/code&gt; 为 &lt;code&gt;1&lt;/code&gt; 表示最近的请求成功得到了响应，这表明连接稳定。&lt;/p&gt;
&lt;h3 id=&#34;4&#34;&gt;4.测试客户端与服务端的时间同步情况&lt;a class=&#34;headerlink&#34; href=&#34;#4&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&#34;41&#34;&gt;4.1 临时修改服务端时间&lt;a class=&#34;headerlink&#34; href=&#34;#41&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;使用 &lt;code&gt;date&lt;/code&gt; 命令临时修改服务端的系统时间：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-20-1&#34; name=&#34;__codelineno-20-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-s&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;2024-08-19 12:00:00&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;确认时间已被修改：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-21-1&#34; name=&#34;__codelineno-21-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;42&#34;&gt;4.2 验证时间同步情况&lt;a class=&#34;headerlink&#34; href=&#34;#42&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;在客户端上重启ntpd服务：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-22-1&#34; name=&#34;__codelineno-22-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;restart&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;再次查看客户端的系统时间，发现时间已成功同步：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-23-1&#34; name=&#34;__codelineno-23-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;chrony&#34;&gt;六、安装并使用chrony工具&lt;a class=&#34;headerlink&#34; href=&#34;#chrony&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&#34;1chrony&#34;&gt;1.配置chrony服务端&lt;a class=&#34;headerlink&#34; href=&#34;#1chrony&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&#34;11-chrony&#34;&gt;1.1 安装chrony工具&lt;a class=&#34;headerlink&#34; href=&#34;#11-chrony&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;使用 &lt;code&gt;yum&lt;/code&gt; 命令进行安装：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-24-1&#34; name=&#34;__codelineno-24-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-y&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;chrony
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;12-chrony&#34;&gt;1.2 修改chrony配置文件&lt;a class=&#34;headerlink&#34; href=&#34;#12-chrony&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;编辑 &lt;code&gt;chrony&lt;/code&gt;的配置文件 &lt;code&gt;/etc/chrony.conf&lt;/code&gt;，配置以下内容：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-25-1&#34; name=&#34;__codelineno-25-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 配置 NTP 服务器的上游时间源&lt;/span&gt;
&lt;a id=&#34;__codelineno-25-2&#34; name=&#34;__codelineno-25-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;server&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntp.aliyun.com&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;iburst
&lt;a id=&#34;__codelineno-25-3&#34; name=&#34;__codelineno-25-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;server&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ntp1.aliyun.com&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;iburst
&lt;a id=&#34;__codelineno-25-4&#34; name=&#34;__codelineno-25-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 允许特定 IP 范围的客户端访问&lt;/span&gt;
&lt;a id=&#34;__codelineno-25-5&#34; name=&#34;__codelineno-25-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;allow&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;.22.51.0/24
&lt;a id=&#34;__codelineno-25-6&#34; name=&#34;__codelineno-25-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 开启手动校准时间功能，指定本地时钟作为时间源&lt;/span&gt;
&lt;a id=&#34;__codelineno-25-7&#34; name=&#34;__codelineno-25-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;stratum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;命令参数解释说明：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;local stratum 10&lt;/code&gt;：是在 NTP 配置中用于设置本地时间源的层级（stratum）的一条命令。它通常用于指定本地时钟的层级，&lt;code&gt;stratum&lt;/code&gt; 表示时间源的层级或距离主时间源的距离。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;local&lt;/code&gt;：表示使用本地计算机的时钟作为时间源。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;stratum 10&lt;/code&gt;：设置本地时钟的 &lt;code&gt;stratum&lt;/code&gt; 层级为 10。这个值通常设置为较高的层级，表示本地时钟是一个备用时间源，而不是主要时间源。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;13-chronyd&#34;&gt;1.3 启动chronyd服务&lt;a class=&#34;headerlink&#34; href=&#34;#13-chronyd&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-26-1&#34; name=&#34;__codelineno-26-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 启动chronyd服务&lt;/span&gt;
&lt;a id=&#34;__codelineno-26-2&#34; name=&#34;__codelineno-26-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;start&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;chronyd
&lt;a id=&#34;__codelineno-26-3&#34; name=&#34;__codelineno-26-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 查看服务状态&lt;/span&gt;
&lt;a id=&#34;__codelineno-26-4&#34; name=&#34;__codelineno-26-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;status&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;chronyd
&lt;a id=&#34;__codelineno-26-5&#34; name=&#34;__codelineno-26-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 设置服务开机自启&lt;/span&gt;
&lt;a id=&#34;__codelineno-26-6&#34; name=&#34;__codelineno-26-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;chronyd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;14_1&#34;&gt;1.4 检查时间同步状态&lt;a class=&#34;headerlink&#34; href=&#34;#14_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;执行以下命令查看时间源列表：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-27-1&#34; name=&#34;__codelineno-27-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;chronyc&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sources
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;显示信息如下：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-28-1&#34; name=&#34;__codelineno-28-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;MS&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Name/IP&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;address&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;Stratum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Poll&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Reach&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;LastRx&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Last&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sample&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;               &lt;/span&gt;
&lt;a id=&#34;__codelineno-28-2&#34; name=&#34;__codelineno-28-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;===============================================================================&lt;/span&gt;
&lt;a id=&#34;__codelineno-28-3&#34; name=&#34;__codelineno-28-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;^-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;203&lt;/span&gt;.107.6.88&lt;span class=&#34;w&#34;&gt;                  &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;77&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-1920us&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-2251us&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;+/-&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;31ms
&lt;a id=&#34;__codelineno-28-4&#34; name=&#34;__codelineno-28-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;^*&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;120&lt;/span&gt;.25.115.20&lt;span class=&#34;w&#34;&gt;                 &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;157&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;-104us&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-439us&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;+/-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;4163us
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;2chrony&#34;&gt;2.配置chrony客户端&lt;a class=&#34;headerlink&#34; href=&#34;#2chrony&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&#34;21-chrony&#34;&gt;2.1 安装chrony工具&lt;a class=&#34;headerlink&#34; href=&#34;#21-chrony&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;使用 &lt;code&gt;yum&lt;/code&gt; 命令进行安装：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-29-1&#34; name=&#34;__codelineno-29-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-y&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;chrony
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;22-chrony&#34;&gt;2.2 修改chrony配置文件&lt;a class=&#34;headerlink&#34; href=&#34;#22-chrony&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;编辑 &lt;code&gt;chrony&lt;/code&gt;的配置文件 &lt;code&gt;/etc/chrony.conf&lt;/code&gt;，配置以下内容：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-30-1&#34; name=&#34;__codelineno-30-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-30-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 设置 NTP 服务器的地址&lt;/span&gt;
&lt;a id=&#34;__codelineno-30-2&#34; name=&#34;__codelineno-30-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-30-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;server&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;.22.51.63&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;iburst
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;23-chronyd&#34;&gt;2.3 启动chronyd服务&lt;a class=&#34;headerlink&#34; href=&#34;#23-chronyd&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-31-1&#34; name=&#34;__codelineno-31-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-31-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 启动chronyd服务&lt;/span&gt;
&lt;a id=&#34;__codelineno-31-2&#34; name=&#34;__codelineno-31-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-31-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;start&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;chronyd
&lt;a id=&#34;__codelineno-31-3&#34; name=&#34;__codelineno-31-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-31-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 查看服务状态&lt;/span&gt;
&lt;a id=&#34;__codelineno-31-4&#34; name=&#34;__codelineno-31-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-31-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;status&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;chronyd
&lt;a id=&#34;__codelineno-31-5&#34; name=&#34;__codelineno-31-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-31-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 设置服务开机自启&lt;/span&gt;
&lt;a id=&#34;__codelineno-31-6&#34; name=&#34;__codelineno-31-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-31-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;chronyd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;3_1&#34;&gt;3.验证配置&lt;a class=&#34;headerlink&#34; href=&#34;#3_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在客户端上，使用以下命令来检查 Chrony 服务状态和同步情况：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-32-1&#34; name=&#34;__codelineno-32-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-32-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;chronyc&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sources
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;执行后显示的信息如下：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-33-1&#34; name=&#34;__codelineno-33-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-33-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;m&#34;&gt;210&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Number&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;of&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sources&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;a id=&#34;__codelineno-33-2&#34; name=&#34;__codelineno-33-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-33-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;MS&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Name/IP&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;address&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;Stratum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Poll&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Reach&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;LastRx&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Last&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sample&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;               &lt;/span&gt;
&lt;a id=&#34;__codelineno-33-3&#34; name=&#34;__codelineno-33-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-33-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;===============================================================================&lt;/span&gt;
&lt;a id=&#34;__codelineno-33-4&#34; name=&#34;__codelineno-33-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-33-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;^*&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;.22.51.63&lt;span class=&#34;w&#34;&gt;                   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;37&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;54&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;+371ns&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;+1304us&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;+/-&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;31ms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;显示 &lt;code&gt;*&lt;/code&gt; 号，说明已经同步成功。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;输出字段解释：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;^\*&lt;/code&gt;：&lt;code&gt;^*&lt;/code&gt; 表示当前被选择的主要时间源。&lt;code&gt;*&lt;/code&gt; 表示这是当前使用的主要时间源，&lt;code&gt;^&lt;/code&gt; 表示它被选中，但 &lt;code&gt;chrony&lt;/code&gt; 可能正在评估其他时间源。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt;：表示当前同步的源。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+&lt;/code&gt;：表示可选的时间源。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-&lt;/code&gt;：表示被组合算法排除的时间源。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt;：表示连接已丢失或数据包未通过测试的时间源。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;x&lt;/code&gt;：表示虚假的时钟源，即它的时间与大多数其他源不一致。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~&lt;/code&gt;：表示该时间源有太多可变性的来源。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;10.22.51.63&lt;/code&gt;：时间源的 IP 地址。当前的主要时间源是 &lt;code&gt;10.22.51.63&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;3&lt;/code&gt;：时间源的 &lt;code&gt;stratum&lt;/code&gt; 层级。层级为 3 表示它是从 &lt;code&gt;stratum 2&lt;/code&gt; 时间源获取时间的。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;6&lt;/code&gt;：轮询间隔（单位是秒），&lt;code&gt;6&lt;/code&gt; 表示 &lt;code&gt;chrony&lt;/code&gt; 每隔 6 秒向该时间源请求数据。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;37&lt;/code&gt;：&lt;code&gt;reach&lt;/code&gt; 值，以八进制表示。&lt;code&gt;37&lt;/code&gt; 表示 &lt;code&gt;chrony&lt;/code&gt; 已经成功地与时间源进行了 37 次通信。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;54&lt;/code&gt;：&lt;code&gt;LastRx&lt;/code&gt;，上次接收数据的时间间隔（单位是秒），&lt;code&gt;54&lt;/code&gt; 表示 54 秒前接收到数据。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+371ns[+1304us]&lt;/code&gt;：&lt;code&gt;Last sample&lt;/code&gt; 部分显示了上次接收到数据时的偏差和抖动：&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+371ns&lt;/code&gt; 表示从时间源的时间偏差为 +371 纳秒。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[+1304us]&lt;/code&gt; 表示时间源的时间与客户端时间之间的偏差为 +1304 微秒。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+/- 31ms&lt;/code&gt;：&lt;code&gt;jitter&lt;/code&gt;，表示测量的抖动或波动，&lt;code&gt;31ms&lt;/code&gt; 表示时间测量过程中出现的抖动范围为 ±31 毫秒。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;4_1&#34;&gt;4.测试客户端与服务端的时间同步情况&lt;a class=&#34;headerlink&#34; href=&#34;#4_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&#34;41_1&#34;&gt;4.1 临时修改服务端时间&lt;a class=&#34;headerlink&#34; href=&#34;#41_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;使用 &lt;code&gt;date&lt;/code&gt; 命令临时修改服务端的系统时间：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-34-1&#34; name=&#34;__codelineno-34-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-34-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-s&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;2024-08-19 12:00:00&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;确认时间已被修改：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-35-1&#34; name=&#34;__codelineno-35-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-35-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;42_1&#34;&gt;4.2 验证时间同步情况&lt;a class=&#34;headerlink&#34; href=&#34;#42_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;在客户端上重启chronyd服务：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-36-1&#34; name=&#34;__codelineno-36-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-36-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;restart&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;chronyd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;再次查看客户端的系统时间，发现时间已成功同步：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-37-1&#34; name=&#34;__codelineno-37-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-37-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;date
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;此时查看时间同步状态：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-38-1&#34; name=&#34;__codelineno-38-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-38-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;chronyc&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sources
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;显示信息如下：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-39-1&#34; name=&#34;__codelineno-39-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-39-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;m&#34;&gt;210&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Number&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;of&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sources&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;a id=&#34;__codelineno-39-2&#34; name=&#34;__codelineno-39-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-39-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;MS&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Name/IP&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;address&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;Stratum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Poll&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Reach&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;LastRx&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Last&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sample&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;               &lt;/span&gt;
&lt;a id=&#34;__codelineno-39-3&#34; name=&#34;__codelineno-39-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-39-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;===============================================================================&lt;/span&gt;
&lt;a id=&#34;__codelineno-39-4&#34; name=&#34;__codelineno-39-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-39-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;^*&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;.22.51.63&lt;span class=&#34;w&#34;&gt;                  &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;36&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-4183ns&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-26us&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;+/-&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;76us
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可发现该服务器的层数显示为第 &lt;code&gt;10&lt;/code&gt; 层，表示时间源不可靠，即手动授予时间。&lt;/p&gt;
&lt;p&gt;执行以下命令，在服务端上可查看哪些客户端正在同步时间：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-40-1&#34; name=&#34;__codelineno-40-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-40-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;chronyc&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;clients
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;显示信息如下：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-41-1&#34; name=&#34;__codelineno-41-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-41-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Hostname&lt;span class=&#34;w&#34;&gt;                      &lt;/span&gt;NTP&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;Drop&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Int&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;IntL&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Last&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;Cmd&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;Drop&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Int&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;Last&lt;/span&gt;
&lt;a id=&#34;__codelineno-41-2&#34; name=&#34;__codelineno-41-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-41-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;===============================================================================&lt;/span&gt;
&lt;a id=&#34;__codelineno-41-3&#34; name=&#34;__codelineno-41-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-41-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;.22.51.65&lt;span class=&#34;w&#34;&gt;                    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;-
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;_1&#34;&gt;七、总结&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;建议只需要在一台服务器上配置ntp或chrony工具，然后其他服务器使用ntpdate工具手动去指向该服务器来同步时间即可。&lt;/p&gt;</description>
      
      <pubDate>Sat, 31 Aug 2024 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>Centos7 配置阿里云的 YUM 源</title>
      
      
      
      
      <description>&lt;h2 id=&#34;centos7yum&#34;&gt;Centos7配置阿里云的yum源&lt;a class=&#34;headerlink&#34; href=&#34;#centos7yum&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;1.安装wget&lt;/p&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum install -y wget
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2.备份服务器原有的yum源文件&lt;/p&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3.下载阿里云镜像文件&lt;/p&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;4.清理缓存&lt;/p&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum clean all
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;5.生成缓存&lt;/p&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum makecache
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;6.更新最新源设置&lt;/p&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum update -y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      
      <pubDate>Sat, 31 Aug 2024 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>使用 Python 的 argparse 构建命令行界面</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;blockquote&gt;
&lt;p&gt;原文：&lt;a href=&#34;https://realpython.com/command-line-interfaces-python-argparse/&#34;&gt;Build Command-Line Interfaces With Python&#39;s argparse&lt;/a&gt;     &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;命令行应用在普通用户空间中可能并不常见，但它们存在于开发、数据科学、系统管理和许多其他操作中。每个命令行应用都需要一个用户友好的命令行界面 （CLI），以便你可以与应用本身进行交互。在 Python 中，您可以使用标准库中的 &lt;code&gt;argparse&lt;/code&gt; 模块创建功能齐全的 CLI。&lt;/p&gt;
&lt;!-- more --&gt;

&lt;p&gt;在本文中，你将了解如何：    &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;命令行界面入门；&lt;/li&gt;
&lt;li&gt;在 Python 中组织和布局命令行应用项目；&lt;/li&gt;
&lt;li&gt;使用 Python &lt;code&gt;argparse&lt;/code&gt; 创建命令行界面（command-line interfaces）；&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;argparse&lt;/code&gt; 一些强大的功能深度自定义您的 CLI；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;若要充分利用本教程，应熟悉 Python 编程，包括面向对象编程、脚本开发和执行以及 Python 包和模块等概念。如果您熟悉与使用命令行或终端相关的一般概念和主题，这也将很有帮助。&lt;/p&gt;
&lt;h2 id=&#34;_1&#34;&gt;了解命令行界面&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;自从计算机发明以来，人类一直需要并找到与这些机器交互和共享信息的方法。信息交换在人、计算机软件和硬件组件之间流动。其中任意两个元素之间的共享边界通常称为接口(&lt;a href=&#34;https://en.wikipedia.org/wiki/Interface_(computing)&#34;&gt;interface&lt;/a&gt;)。&lt;/p&gt;
&lt;p&gt;在软件开发中，接口是给定软件的特殊部分，它允许计算机系统组件之间的交互。当涉及到人机交互和软件交互时，这个重要的组件被称为用户界面（&lt;a href=&#34;https://en.wikipedia.org/wiki/User_interface&#34;&gt;user interface&lt;/a&gt;）。&lt;/p&gt;
&lt;p&gt;您会在编程中找到不同类型的用户界面。图形用户界面 （GUI） 可能是当今最常见的。但是，您还可以找到为其用户提供命令行界面 （CLI） 的应用和程序。在本教程中，你将了解 CLI 以及如何在 Python 中创建它们。&lt;/p&gt;
&lt;h2 id=&#34;cli&#34;&gt;命令行界面 （CLI）&lt;a class=&#34;headerlink&#34; href=&#34;#cli&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;命令行界面允许您通过操作系统命令行、终端或控制台与应用程序或程序进行交互。&lt;/p&gt;
&lt;p&gt;要了解命令行界面及其工作原理，请考虑此实际示例。假设您有一个名为 sample 包含三个示例文件的目录。如果您使用的是类 Unix 操作系统，例如 Linux 或 macOS，请继续在父目录中打开命令行窗口或终端，然后执行以下命令：  &lt;br /&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sample/
&lt;a id=&#34;__codelineno-0-2&#34; name=&#34;__codelineno-0-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hello.txt&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;lorem.md&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;realpython.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Unix 的 &lt;code&gt;ls&lt;/code&gt; 命令列出目标目录中包含的文件和子目录，该目录默认为当前工作目录。上面的命令调用没有显示有关 的内容 sample 的太多信息。它只在屏幕上显示文件名。&lt;/p&gt;
&lt;p&gt;假设你想要获取有关目录及其内容的更丰富信息，那么你不需要寻找其他程序，因为 ls 命令有一个功能齐全的命令行界面，并且提供了一组有用的选项，可以用来定制命令的行为。&lt;/p&gt;
&lt;p&gt;例如，继续执行带有 &lt;code&gt;-l&lt;/code&gt; 选项的 &lt;code&gt;ls&lt;/code&gt; 命令：  &lt;br /&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-l&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sample/
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;total&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;24&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-3&#34; name=&#34;__codelineno-1-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;-rw-r--r--@&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;user&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;staff&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;83&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Aug&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;22&lt;/span&gt;:15&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;hello.txt
&lt;a id=&#34;__codelineno-1-4&#34; name=&#34;__codelineno-1-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;-rw-r--r--@&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;user&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;staff&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2609&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Aug&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;22&lt;/span&gt;:15&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;lorem.md
&lt;a id=&#34;__codelineno-1-5&#34; name=&#34;__codelineno-1-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;-rw-r--r--@&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;user&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;staff&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;428&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Aug&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;22&lt;/span&gt;:15&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;realpython.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;现在，&lt;code&gt;ls&lt;/code&gt; 命令的输出完全不同了。该命令显示了有关 sample 目录中文件的更多信息，包括权限、所有者、组、日期和大小。它还显示了这些文件在你计算机磁盘上使用的总空间。&lt;/p&gt;
&lt;p&gt;这种更丰富的输出结果是由于使用了 &lt;code&gt;-l&lt;/code&gt; 选项，这是 Unix &lt;code&gt;ls&lt;/code&gt; 命令行界面的一部分，它启用了详细的输出格式。&lt;/p&gt;
&lt;h2 id=&#34;_2&#34;&gt;命令、参数、选项、参数和子命令&lt;a class=&#34;headerlink&#34; href=&#34;#_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在本教程中，您将深入了解&lt;strong&gt;命令&lt;/strong&gt;(commands)及其&lt;strong&gt;子命令&lt;/strong&gt;(subcommands)，同时还会学习到&lt;strong&gt;命令行参数&lt;/strong&gt;(command-line arguments)、&lt;strong&gt;选项&lt;/strong&gt;(options)和&lt;strong&gt;参数&lt;/strong&gt;(parameters)的相关知识。因此，建议您将这些术语纳入您的技术词汇库中。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;命令(Command)&lt;/strong&gt;：在命令行或终端窗口中运行的程序或例程。通常，您可以通过其背后的程序(underlying program)或例程(routine)的名称来识别一个命令。     &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;参数(Argument)&lt;/strong&gt;：命令在执行其预期操作时所需或可选的信息片段。命令通常接受一个或多个参数，您可以在命令行中以空格分隔或逗号分隔的列表形式提供这些参数。     &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;选项(Option)&lt;/strong&gt;，也称为 &lt;strong&gt;flag&lt;/strong&gt; 或 &lt;strong&gt;switch&lt;/strong&gt;：一种可选的参数，用于修改命令的行为。选项通过特定的名称（如前一个示例中的 &lt;code&gt;-l&lt;/code&gt;）传递给命令。     &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;参数(Parameter)&lt;/strong&gt;：一个选项用于执行其预期操作或动作时所使用的参数。     &lt;/li&gt;
&lt;li&gt;子命令(Subcommand)**：一个预定义的名称，可以传递给应用程序来执行特定的操作。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;参考上一节中的示例命令结构：
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-l&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sample/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;在这个例子中，您组合了命令行界面（CLI）的以下组件：    &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ls&lt;/strong&gt;：命令的名称或应用的名称；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-l&lt;/strong&gt;：启用详细输出的选项(option)、开关(switch)或标志(flag)；    &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;sample&lt;/strong&gt;：为命令执行提供附加信息的参数(argument)；    &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;现在，让我们来看下面的命令结构，它展示了 Python 包管理器 &lt;code&gt;pip&lt;/code&gt; 的命令行界面（CLI）：  &lt;br /&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pip&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-r&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;requirements.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;这是一个常见的 &lt;code&gt;pip&lt;/code&gt; 命令结构，您可能之前已经见过。它允许您使用 &lt;code&gt;requirements.txt&lt;/code&gt; 文件来给指定的 Python 项目安装依赖项。在这个例子中，您使用了以下命令行界面（CLI）组件：   &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;pip&lt;/strong&gt;：命令的名称；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;install&lt;/strong&gt;：&lt;code&gt;pip&lt;/code&gt; 的子命令(subcommand)名称；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-r&lt;/strong&gt;：&lt;code&gt;install&lt;/code&gt; 子命令的选项(option)；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;requirements.txt&lt;/strong&gt;：一个参数，特别是 &lt;code&gt;-r&lt;/code&gt; 选项的参数。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;现在您已经了解了命令行界面（CLI）是什么以及其主要部分或组件有哪些。接下来，是时候学习如何在 Python 中创建自己的 CLI 了。&lt;/p&gt;
&lt;h2 id=&#34;python-cli&#34;&gt;Python 中的 CLI 入门&lt;a class=&#34;headerlink&#34; href=&#34;#python-cli&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Python 附带了一些工具，这些工具可帮助您为程序和应用程序编写命令行界面（CLI）。若您需要快速为小型程序构建一个简洁的 CLI，那么可以利用 &lt;a href=&#34;https://docs.python.org/3/library/sys.html#module-sys&#34;&gt;&lt;code&gt;sys&lt;/code&gt;&lt;/a&gt; 模块中的 &lt;a href=&#34;https://docs.python.org/3/library/sys.html#sys.argv&#34;&gt;&lt;code&gt;argv&lt;/code&gt;&lt;/a&gt; 属性。这个属性会自动存储您在命令行中传递给特定程序的参数。&lt;/p&gt;
&lt;h3 id=&#34;sysargv-cli&#34;&gt;使用 &lt;code&gt;sys.argv&lt;/code&gt; 构建最小的 CLI&lt;a class=&#34;headerlink&#34; href=&#34;#sysargv-cli&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;以使用 &lt;code&gt;argv&lt;/code&gt; 创建最小命令行界面（CLI）为例，假设您需要编写一个小程序，该程序类似于 &lt;code&gt;ls&lt;/code&gt; 命令，能够列出给定目录下的所有文件。在这种情况下，您可以编写如下代码：  &lt;br /&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ls_argv.py&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-2&#34; name=&#34;__codelineno-4-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-4-3&#34; name=&#34;__codelineno-4-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;sys&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-4&#34; name=&#34;__codelineno-4-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pathlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-5&#34; name=&#34;__codelineno-4-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-4-6&#34; name=&#34;__codelineno-4-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args_count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-7&#34; name=&#34;__codelineno-4-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;One argument expected, got &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args_count&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-8&#34; name=&#34;__codelineno-4-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;raise&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;SystemExit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-9&#34; name=&#34;__codelineno-4-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args_count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-10&#34; name=&#34;__codelineno-4-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;You must specify the target directory&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-11&#34; name=&#34;__codelineno-4-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;raise&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;SystemExit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-12&#34; name=&#34;__codelineno-4-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-4-13&#34; name=&#34;__codelineno-4-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-14&#34; name=&#34;__codelineno-4-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-4-15&#34; name=&#34;__codelineno-4-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;not&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;is_dir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-16&#34; name=&#34;__codelineno-4-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;The target directory doesn&amp;#39;t exist&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-17&#34; name=&#34;__codelineno-4-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;raise&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;SystemExit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-18&#34; name=&#34;__codelineno-4-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-4-19&#34; name=&#34;__codelineno-4-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iterdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-20&#34; name=&#34;__codelineno-4-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;该程序通过手动处理命令行提供的参数来实现了一个简单的命令行界面（CLI），这些参数会自动存储在 &lt;code&gt;sys.argv&lt;/code&gt; 中。&lt;code&gt;sys.argv&lt;/code&gt; 的第一个元素始终是程序名称，第二个元素则是目标目录。由于应用程序不应接受超过一个目标目录，因此 &lt;code&gt;args_count&lt;/code&gt; 不得超过 2。&lt;/p&gt;
&lt;p&gt;在检查 &lt;code&gt;sys.argv&lt;/code&gt; 的内容后，您创建一个&lt;code&gt;pathlib.Path&lt;/code&gt;对象来存储目标目录的路径。如果该目录不存在，您将通知用户并退出程序。接下来的&lt;code&gt;for&lt;/code&gt;循环将列出目录内容，每行一个条目。&lt;/p&gt;
&lt;p&gt;如果从命令行运行该脚本，您将得到以下结果：  &lt;br /&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls_argv.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sample/
&lt;a id=&#34;__codelineno-5-2&#34; name=&#34;__codelineno-5-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hello.txt
&lt;a id=&#34;__codelineno-5-3&#34; name=&#34;__codelineno-5-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;lorem.md
&lt;a id=&#34;__codelineno-5-4&#34; name=&#34;__codelineno-5-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;realpython.md
&lt;a id=&#34;__codelineno-5-5&#34; name=&#34;__codelineno-5-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-5-6&#34; name=&#34;__codelineno-5-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls_argv.py
&lt;a id=&#34;__codelineno-5-7&#34; name=&#34;__codelineno-5-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;You&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;must&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;specify&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;target&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory
&lt;a id=&#34;__codelineno-5-8&#34; name=&#34;__codelineno-5-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-5-9&#34; name=&#34;__codelineno-5-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls_argv.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sample/&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;other_dir/
&lt;a id=&#34;__codelineno-5-10&#34; name=&#34;__codelineno-5-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;One&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;argument&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;expected,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;got&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-11&#34; name=&#34;__codelineno-5-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-5-12&#34; name=&#34;__codelineno-5-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls_argv.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;non_existing/
&lt;a id=&#34;__codelineno-5-13&#34; name=&#34;__codelineno-5-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;The&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;target&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;doesn&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;t&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;exist
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;您的程序接受一个目录作为参数，并列出其内容。如果您运行命令时没有提供参数，您将收到一个错误消息。如果您运行命令时指定了超过一个目标目录，您同样会收到一个错误消息。如果尝试运行命令并指定一个不存在的目录，程序将输出另一个错误消息。&lt;/p&gt;
&lt;p&gt;虽然您的程序运行正常，但对于更复杂的 CLI 应用程序来说，使用&lt;code&gt;sys.argv&lt;/code&gt;属性手动解析命令行参数并不是一个可扩展的解决方案。如果您的应用需要接受更多的参数和选项，那么解析&lt;code&gt;sys.argv&lt;/code&gt;将变得复杂且容易出错。您需要一个更好的解决方案，这就是 Python 中的&lt;code&gt;argparse&lt;/code&gt;模块所提供的。&lt;/p&gt;
&lt;h3 id=&#34;argparse-cli&#34;&gt;使用 &lt;code&gt;argparse&lt;/code&gt; 创建 CLI&lt;a class=&#34;headerlink&#34; href=&#34;#argparse-cli&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在 Python 中创建 CLI 应用程序的更便捷方法是使用标准库中的 &lt;a href=&#34;https://docs.python.org/3/library/argparse.html?highlight=argparse#module-argparse&#34;&gt;&lt;code&gt;argparse&lt;/code&gt;&lt;/a&gt; 模块。该模块首次在 Python 3.2 中随 &lt;a href=&#34;https://www.python.org/dev/peps/pep-0389/&#34;&gt;PEP-389&lt;/a&gt; 一同发布，是快速创建 Python CLI 应用程序的利器，无需安装如 Typer 或 Click 这样的第三方库。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;argparse&lt;/code&gt; 模块是作为较旧的 &lt;a href=&#34;https://docs.python.org/3/library/getopt.html&#34;&gt;&lt;code&gt;getopt&lt;/code&gt;&lt;/a&gt; 和 &lt;a href=&#34;https://docs.python.org/3/library/optparse.html&#34;&gt;&lt;code&gt;optparse&lt;/code&gt;&lt;/a&gt; 模块的替代品而发布的，因为它们缺乏一些重要的功能。&lt;/p&gt;
&lt;p&gt;Python 的 &lt;code&gt;argparse&lt;/code&gt; 模块允许您：     &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;解析命令行&lt;strong&gt;参数&lt;/strong&gt;(arguments)和&lt;strong&gt;选项&lt;/strong&gt;(options)；&lt;/li&gt;
&lt;li&gt;在一个单一选项中接受&lt;strong&gt;可变数量的参数&lt;/strong&gt;(variable number of parameters)；&lt;/li&gt;
&lt;li&gt;在 CLI 中提供子命令(subcommands)。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些特性使 &lt;code&gt;argparse&lt;/code&gt; 成为了一个强大的 CLI 框架，您在创建 CLI 应用程序时可以放心地依赖它。要使用 Python 的 &lt;code&gt;argparse&lt;/code&gt;，您需要遵循以下四个简单的步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;导入 &lt;code&gt;argparse&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;通过实例化 &lt;a href=&#34;https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser&#34;&gt;&lt;code&gt;ArgumentParser&lt;/code&gt;&lt;/a&gt; 创建&lt;strong&gt;参数解析器&lt;/strong&gt;(argument parser)；&lt;/li&gt;
&lt;li&gt;使用 &lt;a href=&#34;https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser.add_argument&#34;&gt;&lt;code&gt;.add_argument()&lt;/code&gt;&lt;/a&gt; 方法向解析器添加&lt;strong&gt;参数&lt;/strong&gt;(arguments)和&lt;strong&gt;选项&lt;/strong&gt;(options)；&lt;/li&gt;
&lt;li&gt;在解析器上调用 &lt;a href=&#34;https://docs.python.org/3/library/argparse.html?highlight=argparse#argparse.ArgumentParser.parse_args&#34;&gt;&lt;code&gt;.parse_args()&lt;/code&gt;&lt;/a&gt; 以获取参数 &lt;a href=&#34;https://docs.python.org/3/library/argparse.html#namespace&#34;&gt;&lt;code&gt;Namespace&lt;/code&gt;&lt;/a&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;例如，您可以使用 &lt;code&gt;argparse&lt;/code&gt; 来改进您的 &lt;code&gt;ls_argv.py&lt;/code&gt; 脚本。现在，您可以创建一个名为 &lt;code&gt;ls.py&lt;/code&gt; 的脚本，并编写以下代码：
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-6-1&#34; name=&#34;__codelineno-6-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ls.py v1&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-2&#34; name=&#34;__codelineno-6-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-6-3&#34; name=&#34;__codelineno-6-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;argparse&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-4&#34; name=&#34;__codelineno-6-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pathlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-5&#34; name=&#34;__codelineno-6-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-6-6&#34; name=&#34;__codelineno-6-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argparse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-7&#34; name=&#34;__codelineno-6-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-6-8&#34; name=&#34;__codelineno-6-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;path&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-9&#34; name=&#34;__codelineno-6-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-6-10&#34; name=&#34;__codelineno-6-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse_args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-11&#34; name=&#34;__codelineno-6-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-6-12&#34; name=&#34;__codelineno-6-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-13&#34; name=&#34;__codelineno-6-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-6-14&#34; name=&#34;__codelineno-6-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;not&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exists&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-15&#34; name=&#34;__codelineno-6-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;The target directory doesn&amp;#39;t exist&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-16&#34; name=&#34;__codelineno-6-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;raise&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;SystemExit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-17&#34; name=&#34;__codelineno-6-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-6-18&#34; name=&#34;__codelineno-6-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iterdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-19&#34; name=&#34;__codelineno-6-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;随着 &lt;code&gt;argparse&lt;/code&gt; 的引入，您的代码发生了显著的变化。与之前的版本相比，最明显的不同是，用于检查用户提供的参数的条件语句已经消失了。这是因为 &lt;code&gt;argparse&lt;/code&gt; 会自动为您检查参数的存在性。&lt;/p&gt;
&lt;p&gt;在这个新的实现中，您首先导入 &lt;code&gt;argparse&lt;/code&gt; 并创建一个参数解析器。要创建解析器，您可以使用 &lt;code&gt;ArgumentParser&lt;/code&gt; 类。接下来，您定义一个名为 &lt;code&gt;path&lt;/code&gt; 的参数，用于获取用户的目标目录。&lt;/p&gt;
&lt;p&gt;接下来，您需要调用 &lt;code&gt;.parse_args()&lt;/code&gt; 方法来解析输入参数，并获取一个包含所有用户参数的 &lt;code&gt;Namespace&lt;/code&gt; 对象。请注意，现在 &lt;code&gt;args&lt;/code&gt; 变量保存了一个 &lt;code&gt;Namespace&lt;/code&gt; 对象，该对象具有从命令行收集的每个参数所对应的属性。&lt;/p&gt;
&lt;p&gt;在这个例子中，您只有一个参数，名为 &lt;code&gt;path&lt;/code&gt;。&lt;code&gt;Namespace&lt;/code&gt; 对象允许您使用点表示法通过 &lt;code&gt;args&lt;/code&gt; 来访问 &lt;code&gt;path&lt;/code&gt;。其余的代码与第一个实现相同。&lt;/p&gt;
&lt;p&gt;现在继续从命令行运行这个新脚本：
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-7-1&#34; name=&#34;__codelineno-7-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sample/
&lt;a id=&#34;__codelineno-7-2&#34; name=&#34;__codelineno-7-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;lorem.md
&lt;a id=&#34;__codelineno-7-3&#34; name=&#34;__codelineno-7-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;realpython.md
&lt;a id=&#34;__codelineno-7-4&#34; name=&#34;__codelineno-7-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hello.txt
&lt;a id=&#34;__codelineno-7-5&#34; name=&#34;__codelineno-7-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-7-6&#34; name=&#34;__codelineno-7-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py
&lt;a id=&#34;__codelineno-7-7&#34; name=&#34;__codelineno-7-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;usage:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-h&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;path
&lt;a id=&#34;__codelineno-7-8&#34; name=&#34;__codelineno-7-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;ls.py:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;error:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;following&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;arguments&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;are&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;required:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;path
&lt;a id=&#34;__codelineno-7-9&#34; name=&#34;__codelineno-7-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-7-10&#34; name=&#34;__codelineno-7-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sample/&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;other_dir/
&lt;a id=&#34;__codelineno-7-11&#34; name=&#34;__codelineno-7-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;usage:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-h&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;path
&lt;a id=&#34;__codelineno-7-12&#34; name=&#34;__codelineno-7-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;ls.py:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;error:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;unrecognized&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;arguments:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;other_dir/
&lt;a id=&#34;__codelineno-7-13&#34; name=&#34;__codelineno-7-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-7-14&#34; name=&#34;__codelineno-7-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;non_existing/
&lt;a id=&#34;__codelineno-7-15&#34; name=&#34;__codelineno-7-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;The&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;target&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;doesn&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;t&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;exist
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;第一个命令的输出与您的原始脚本 &lt;code&gt;ls_argv.py&lt;/code&gt; 相同。而第二个命令的输出则与 &lt;code&gt;ls_argv.py&lt;/code&gt; 中的输出大不相同。程序现在会显示一个使用说明消息，并发出错误提示，告诉您必须提供 &lt;code&gt;path&lt;/code&gt; 参数。&lt;/p&gt;
&lt;p&gt;在第三个命令中，您传递了两个目标目录，但应用程序并未为此做好准备。因此，它再次显示使用说明消息，并抛出一个错误，告知您潜在的问题。&lt;/p&gt;
&lt;p&gt;最后，如果您运行脚本时传递了一个不存在的目录作为参数，那么您会收到一个错误，告知您目标目录不存在，因此程序无法执行其工作。&lt;/p&gt;
&lt;p&gt;现在，您可以使用一个新的隐式特性。现在，您的程序接受一个可选的 &lt;code&gt;-h&lt;/code&gt; 标志。不妨尝试一下：
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-8-1&#34; name=&#34;__codelineno-8-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-h
&lt;a id=&#34;__codelineno-8-2&#34; name=&#34;__codelineno-8-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;usage:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-h&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;path
&lt;a id=&#34;__codelineno-8-3&#34; name=&#34;__codelineno-8-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-8-4&#34; name=&#34;__codelineno-8-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;positional&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;arguments:
&lt;a id=&#34;__codelineno-8-5&#34; name=&#34;__codelineno-8-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;path
&lt;a id=&#34;__codelineno-8-6&#34; name=&#34;__codelineno-8-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-8-7&#34; name=&#34;__codelineno-8-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;options:
&lt;a id=&#34;__codelineno-8-8&#34; name=&#34;__codelineno-8-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-h,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--help&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;show&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;this&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;help&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;message&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;and&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;太棒了，现在您的程序会自动响应 &lt;code&gt;-h&lt;/code&gt; 或 &lt;code&gt;--help&lt;/code&gt; 标志，并为您显示带有使用说明的帮助消息。这真是一个很棒的特性，而且您只需在代码中引入 &lt;code&gt;argparse&lt;/code&gt; 就能轻松获得！&lt;/p&gt;
&lt;p&gt;经过这个快速介绍如何在 Python 中创建 CLI 应用后，您现在就可以深入研究 &lt;code&gt;argparse&lt;/code&gt; 模块及其所有炫酷特性了。&lt;/p&gt;
&lt;h2 id=&#34;python-argparse-cli&#34;&gt;使用 Python 的 argparse 创建 CLI&lt;a class=&#34;headerlink&#34; href=&#34;#python-argparse-cli&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;您可以使用 &lt;code&gt;argparse&lt;/code&gt; 模块为您的应用程序和项目编写用户友好的命令行界面。该模块允许您定义应用程序所需的参数和选项。然后，&lt;code&gt;argparse&lt;/code&gt; 将负责为您解析 &lt;code&gt;sys.argv&lt;/code&gt; 的参数和选项。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;argparse&lt;/code&gt; 的另一个酷炫特性是它可以自动为您的 CLI 应用程序生成使用说明和帮助消息。该模块还会在参数无效时发出错误提示，并具备更多功能。&lt;/p&gt;
&lt;p&gt;在深入研究 &lt;code&gt;argparse&lt;/code&gt; 之前，您需要知道该模块的文档可识别两种不同类型的命令行参数：     &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;位置参数&lt;/strong&gt;(Positional arguments)，您称为参数(arguments)；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;可选参数&lt;/strong&gt;(Optional arguments)，即选项(options)、标志(flags)或开关(switches)。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在 &lt;code&gt;ls.py&lt;/code&gt; 的示例中，&lt;code&gt;path&lt;/code&gt; 是一个&lt;strong&gt;位置参数&lt;/strong&gt;(positional argument)。这样的参数之所以被称为位置参数，是因为它在命令构造中的相对位置定义了其作用。&lt;/p&gt;
&lt;p&gt;与位置参数不同，&lt;strong&gt;可选参数&lt;/strong&gt;(Optional arguments)并不是必需的。它们允许你修改命令的行为。以 Unix 命令 &lt;code&gt;ls&lt;/code&gt; 为例，&lt;code&gt;-l&lt;/code&gt; 标志就是一个可选参数，它使得命令以详细模式显示输出。&lt;/p&gt;
&lt;p&gt;在明确了这些概念之后，你就可以着手使用 Python 和 &lt;code&gt;argparse&lt;/code&gt; 库来构建自己的命令行界面（CLI）应用程序了。&lt;/p&gt;
&lt;h3 id=&#34;_3&#34;&gt;创建命令行参数解析器&lt;a class=&#34;headerlink&#34; href=&#34;#_3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;命令行参数解析器是任何使用 &lt;code&gt;argparse&lt;/code&gt; 的命令行界面（CLI）中最为关键的部分。你在命令行上提供的所有参数和选项都会经过这个解析器的处理，它会为你完成繁重的解析工作。&lt;/p&gt;
&lt;p&gt;要使用 &lt;code&gt;argparse&lt;/code&gt; 创建命令行参数解析器，您需要实例化 &lt;a href=&#34;https://docs.python.org/3/library/argparse.html#argumentparser-objects&#34;&gt;&lt;code&gt;ArgumentParser&lt;/code&gt;&lt;/a&gt; 类：  &lt;br /&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-9-1&#34; name=&#34;__codelineno-9-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;argparse&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-2&#34; name=&#34;__codelineno-9-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-9-3&#34; name=&#34;__codelineno-9-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-4&#34; name=&#34;__codelineno-9-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-5&#34; name=&#34;__codelineno-9-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-6&#34; name=&#34;__codelineno-9-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;prog&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-7&#34; name=&#34;__codelineno-9-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;usage&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-8&#34; name=&#34;__codelineno-9-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-9&#34; name=&#34;__codelineno-9-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;formatter_class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&amp;lt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;argparse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;HelpFormatter&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-10&#34; name=&#34;__codelineno-9-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;conflict_handler&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-11&#34; name=&#34;__codelineno-9-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;add_help&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-12&#34; name=&#34;__codelineno-9-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ArgumentParser&lt;/code&gt; 的构造函数接受多种不同的参数，你可以利用这些参数来微调你的 CLI 的多个特性。由于所有这些参数都是可选的，因此你可以通过不传入任何参数直接实例化 &lt;code&gt;ArgumentParser&lt;/code&gt; 来创建一个最基本的解析器。&lt;/p&gt;
&lt;p&gt;在本教程中，你将会更深入地了解 &lt;code&gt;ArgumentParser&lt;/code&gt; 构造函数的参数，特别是在定制你的参数解析器的部分。目前，你可以开始使用 &lt;code&gt;argparse&lt;/code&gt; 创建 CLI 的下一步了。这一步就是通过解析器对象来添加参数和选项。&lt;/p&gt;
&lt;h3 id=&#34;_4&#34;&gt;添加参数和选项&lt;a class=&#34;headerlink&#34; href=&#34;#_4&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;要为 &lt;code&gt;argparse&lt;/code&gt; 的 CLI 添加参数和选项，你将使用 &lt;code&gt;ArgumentParser&lt;/code&gt; 实例的 &lt;a href=&#34;https://docs.python.org/3/library/argparse.html#the-add-argument-method&#34;&gt;&lt;code&gt;.add_argument()&lt;/code&gt;&lt;/a&gt; 方法。请注意，这个方法对参数和选项都是通用的。在 &lt;code&gt;argparse&lt;/code&gt; 的术语中，参数被称为&lt;strong&gt;位置参数&lt;/strong&gt;(positional arguments)，而选项被称为&lt;strong&gt;可选参数&lt;/strong&gt;(optional arguments)。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.add_argument()&lt;/code&gt; 方法的第一个参数决定了参数和选项之间的区别。这个参数被标识为&lt;a href=&#34;https://docs.python.org/3/library/argparse.html?highlight=argparse#name-or-flags&#34;&gt;名称（name）或标志（flag）&lt;/a&gt;。因此，如果你提供一个 name，那么你将定义一个参数(argument)。相反，如果你使用一个 flag，那么你将添加一个选项(option)。&lt;/p&gt;
&lt;p&gt;你已经在使用 &lt;code&gt;argparse&lt;/code&gt; 时处理过命令行参数了。现在，考虑以下你自定义的 &lt;code&gt;ls&lt;/code&gt; 命令的增强版本，它向 CLI 添加了一个 &lt;code&gt;-l&lt;/code&gt; 选项：   &lt;br /&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-10-1&#34; name=&#34;__codelineno-10-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ls.py v2&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-2&#34; name=&#34;__codelineno-10-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-10-3&#34; name=&#34;__codelineno-10-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;argparse&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-4&#34; name=&#34;__codelineno-10-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;datetime&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-5&#34; name=&#34;__codelineno-10-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pathlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-6&#34; name=&#34;__codelineno-10-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-10-7&#34; name=&#34;__codelineno-10-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argparse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-8&#34; name=&#34;__codelineno-10-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-10-9&#34; name=&#34;__codelineno-10-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;path&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-10&#34; name=&#34;__codelineno-10-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-10-11&#34; name=&#34;__codelineno-10-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;-l&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;--long&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;action&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-12&#34; name=&#34;__codelineno-10-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-10-13&#34; name=&#34;__codelineno-10-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse_args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-14&#34; name=&#34;__codelineno-10-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-10-15&#34; name=&#34;__codelineno-10-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-16&#34; name=&#34;__codelineno-10-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-10-17&#34; name=&#34;__codelineno-10-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;not&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exists&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-18&#34; name=&#34;__codelineno-10-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;The target directory doesn&amp;#39;t exist&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-19&#34; name=&#34;__codelineno-10-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;raise&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;SystemExit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-20&#34; name=&#34;__codelineno-10-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-10-21&#34; name=&#34;__codelineno-10-21&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-21&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;21 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;build_output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-22&#34; name=&#34;__codelineno-10-22&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-22&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;22 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-23&#34; name=&#34;__codelineno-10-23&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-23&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;23 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;st_size&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-24&#34; name=&#34;__codelineno-10-24&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-24&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;24 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;n&#34;&gt;date&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;datetime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;datetime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fromtimestamp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-25&#34; name=&#34;__codelineno-10-25&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-25&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;25 &#34;&gt;&lt;/span&gt;&lt;/a&gt;            &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;st_mtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strftime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-26&#34; name=&#34;__codelineno-10-26&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-26&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;26 &#34;&gt;&lt;/span&gt;&lt;/a&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;quot;%b &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%d&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; %H:%M:%S&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-27&#34; name=&#34;__codelineno-10-27&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-27&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;27 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-28&#34; name=&#34;__codelineno-10-28&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-28&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;28 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;gt;6d&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;date&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-29&#34; name=&#34;__codelineno-10-29&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-29&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;29 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-30&#34; name=&#34;__codelineno-10-30&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-30&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;30 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-10-31&#34; name=&#34;__codelineno-10-31&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-31&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;31 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iterdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;a id=&#34;__codelineno-10-32&#34; name=&#34;__codelineno-10-32&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-32&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;32 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;build_output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;在这个例子中，第 11 行代码创建了一个带有 &lt;code&gt;-l&lt;/code&gt; 和 &lt;code&gt;--long&lt;/code&gt; 标志的选项。参数(arguments)和选项(options)在语法上的区别在于，选项名称以短横线 &lt;code&gt;-&lt;/code&gt; 开头表示简写标志，以双短横线 &lt;code&gt;--&lt;/code&gt; 开头表示完整标志。&lt;/p&gt;
&lt;p&gt;请注意，在这个特定例子中，与 &lt;code&gt;-l&lt;/code&gt; 或 &lt;code&gt;--long&lt;/code&gt; 选项一同设置了一个 &lt;code&gt;action&lt;/code&gt; 参数为 &lt;code&gt;&#34;store_true&#34;&lt;/code&gt;，这意味着这个选项将存储一个布尔值。如果你在命令行上提供了这个选项，那么它的值将为 &lt;code&gt;True&lt;/code&gt;。如果你省略了这个选项，那么它的值将为 &lt;code&gt;False&lt;/code&gt;。在 &#34;设置 Option 背后的 Action&#34; 部分内容中，你将了解更多关于 &lt;code&gt;.add_argument()&lt;/code&gt; 中的 &lt;code&gt;action&lt;/code&gt; 参数的信息。&lt;/p&gt;
&lt;p&gt;在第 21 行的 &lt;code&gt;build_output()&lt;/code&gt; 函数中，当 &lt;code&gt;long&lt;/code&gt; 为 &lt;code&gt;True&lt;/code&gt; 时，它会返回一个详细的输出，否则返回一个简短的输出。详细的输出将包含目标目录中所有条目的大小、修改日期和名称。它使用了诸如 &lt;code&gt;Path.stat()&lt;/code&gt; 这样的工具，以及带有自定义字符串格式的 &lt;code&gt;datetime.datetime&lt;/code&gt; 对象。&lt;/p&gt;
&lt;p&gt;继续在 &lt;code&gt;sample&lt;/code&gt; 上执行您的程序，以检查 &lt;code&gt;-l&lt;/code&gt; 选项如何工作：  &lt;br /&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-11-1&#34; name=&#34;__codelineno-11-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-l&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sample/
&lt;a id=&#34;__codelineno-11-2&#34; name=&#34;__codelineno-11-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2609&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Oct&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;28&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:07:04&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;lorem.md
&lt;a id=&#34;__codelineno-11-3&#34; name=&#34;__codelineno-11-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;428&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Oct&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;28&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:07:04&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;realpython.md
&lt;a id=&#34;__codelineno-11-4&#34; name=&#34;__codelineno-11-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;83&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Oct&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;28&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:07:04&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;hello.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;新增的 &lt;code&gt;-l&lt;/code&gt; 选项允许你生成并显示关于目标目录内容的更详细输出。&lt;/p&gt;
&lt;p&gt;既然你已经知道了如何向 CLI 添加命令行参数和选项，接下来就是深入解析这些参数和选项的时候了。这将是你在接下来部分要探索的内容。&lt;/p&gt;
&lt;h3 id=&#34;_5&#34;&gt;解析命令行参数和选项&lt;a class=&#34;headerlink&#34; href=&#34;#_5&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;解析命令行参数是基于 &lt;code&gt;argparse&lt;/code&gt; 的任何 CLI 应用中的另一个重要步骤。一旦你解析了参数，你就可以根据它们的值来执行相应的操作。在你自定义的 &lt;code&gt;ls&lt;/code&gt; 命令示例中，参数解析发生在包含 &lt;code&gt;args = parser.parse_args()&lt;/code&gt; 语句的行上。&lt;/p&gt;
&lt;p&gt;这个语句调用了 &lt;a href=&#34;https://docs.python.org/3/library/argparse.html#the-parse-args-method&#34;&gt;&lt;code&gt;.parse_args()&lt;/code&gt;&lt;/a&gt; 方法，并将其返回值赋给 &lt;code&gt;args&lt;/code&gt; 变量。&lt;code&gt;.parse_args()&lt;/code&gt; 的返回值是一个 &lt;a href=&#34;https://docs.python.org/3/library/argparse.html#the-namespace-object&#34;&gt;&lt;code&gt;Namespace&lt;/code&gt;&lt;/a&gt; 对象，其中包含了在命令行上提供的所有参数和选项以及它们对应的值。&lt;/p&gt;
&lt;p&gt;考虑以下简单的示例：    &lt;br /&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-12-1&#34; name=&#34;__codelineno-12-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;argparse&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-2&#34; name=&#34;__codelineno-12-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-12-3&#34; name=&#34;__codelineno-12-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-4&#34; name=&#34;__codelineno-12-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-12-5&#34; name=&#34;__codelineno-12-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;site&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-6&#34; name=&#34;__codelineno-12-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;_StoreAction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-7&#34; name=&#34;__codelineno-12-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-12-8&#34; name=&#34;__codelineno-12-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;-c&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;--connect&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;action&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-9&#34; name=&#34;__codelineno-12-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;_StoreTrueAction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-10&#34; name=&#34;__codelineno-12-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-12-11&#34; name=&#34;__codelineno-12-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse_args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Real Python&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;-c&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-12&#34; name=&#34;__codelineno-12-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-13&#34; name=&#34;__codelineno-12-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;Namespace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;site&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Real Python&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;connect&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-14&#34; name=&#34;__codelineno-12-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-12-15&#34; name=&#34;__codelineno-12-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;site&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-16&#34; name=&#34;__codelineno-12-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Real Python&amp;#39;&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-17&#34; name=&#34;__codelineno-12-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;connect&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-18&#34; name=&#34;__codelineno-12-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;通过在命令行参数解析器上调用 &lt;code&gt;.parse_args()&lt;/code&gt; 方法得到的 &lt;code&gt;Namespace&lt;/code&gt; 对象，你可以使用&lt;strong&gt;点表示法&lt;/strong&gt;(dot notation)访问所有输入参数、选项以及它们对应的值。这样，你就可以检查输入参数和选项的列表，并根据用户在命令行上的选择来执行相应的操作。&lt;/p&gt;
&lt;p&gt;你将在应用程序的主代码中使用这个 &lt;code&gt;Namespace&lt;/code&gt; 对象。这与你在自定义 &lt;code&gt;ls&lt;/code&gt; 命令示例中的 &lt;code&gt;for&lt;/code&gt; 循环下所做的类似。&lt;/p&gt;
&lt;p&gt;到目前为止，你已经了解了创建基于 &lt;code&gt;argparse&lt;/code&gt; 的 CLI 的主要步骤。现在，你可以花些时间学习如何在 Python 中组织和构建 CLI 应用程序的基础知识了。&lt;/p&gt;
&lt;h3 id=&#34;cli_1&#34;&gt;设置 CLI 应用程序的布局和构建系统&lt;a class=&#34;headerlink&#34; href=&#34;#cli_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在继续你的 &lt;code&gt;argparse&lt;/code&gt; 学习之旅之前，你应该暂停一下，思考如何组织你的代码和规划一个 CLI 项目。首先，你应该考虑以下几点：    &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;你可以创建模块和包来组织代码。&lt;/li&gt;
&lt;li&gt;你可以将 Python 应用的核心包命名为应用本身的名字。&lt;/li&gt;
&lt;li&gt;你会根据每个 Python 模块的具体内容或功能来命名它们。&lt;/li&gt;
&lt;li&gt;如果你希望某个包可以直接执行，你可以在该 Python 包中添加一个 &lt;code&gt;__main__.py&lt;/code&gt; 模块。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;将这些想法铭记于心，并考虑到模型-视图-控制器（MVC）模式是一种有效组织应用程序结构的方法，你在规划 CLI 项目时可以采用以下目录结构：  &lt;br /&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-13-1&#34; name=&#34;__codelineno-13-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hello_cli/
&lt;a id=&#34;__codelineno-13-2&#34; name=&#34;__codelineno-13-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;│
&lt;a id=&#34;__codelineno-13-3&#34; name=&#34;__codelineno-13-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;├── hello_cli/
&lt;a id=&#34;__codelineno-13-4&#34; name=&#34;__codelineno-13-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;│   ├── __init__.py
&lt;a id=&#34;__codelineno-13-5&#34; name=&#34;__codelineno-13-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;│   ├── __main__.py
&lt;a id=&#34;__codelineno-13-6&#34; name=&#34;__codelineno-13-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;│   ├── cli.py
&lt;a id=&#34;__codelineno-13-7&#34; name=&#34;__codelineno-13-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;│   └── model.py
&lt;a id=&#34;__codelineno-13-8&#34; name=&#34;__codelineno-13-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;│
&lt;a id=&#34;__codelineno-13-9&#34; name=&#34;__codelineno-13-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;├── tests/
&lt;a id=&#34;__codelineno-13-10&#34; name=&#34;__codelineno-13-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;│   ├── __init__.py
&lt;a id=&#34;__codelineno-13-11&#34; name=&#34;__codelineno-13-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;│   ├── test_cli.py
&lt;a id=&#34;__codelineno-13-12&#34; name=&#34;__codelineno-13-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;│   └── test_model.py
&lt;a id=&#34;__codelineno-13-13&#34; name=&#34;__codelineno-13-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;│
&lt;a id=&#34;__codelineno-13-14&#34; name=&#34;__codelineno-13-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;├── pyproject.toml
&lt;a id=&#34;__codelineno-13-15&#34; name=&#34;__codelineno-13-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;├── README.md
&lt;a id=&#34;__codelineno-13-16&#34; name=&#34;__codelineno-13-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;└── requirements.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hello_cli/&lt;/code&gt; 目录是项目的根目录。在那里，您将放置以下文件：    &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pyproject.toml 是一个 TOML 文件，用于指定项目的构建系统(build system)和其他配置(configurations)。&lt;/li&gt;
&lt;li&gt;README.md 文件提供了项目的描述以及安装和运行应用程序的说明。为你的项目添加一个描述性且详细的 README.md 文件是编程中的最佳实践，特别是如果你打算将项目作为开源解决方案发布的话。&lt;/li&gt;
&lt;li&gt;requirements.txt 是一个常规文件，列出了项目的外部依赖项(external dependencies)。你将使用这个文件，结合 &lt;code&gt;pip&lt;/code&gt; 的 &lt;code&gt;-r&lt;/code&gt; 选项，来自动安装这些依赖项。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;接下来是 &lt;code&gt;hello_cli/&lt;/code&gt; 目录，它包含了应用的核心包，该包包含以下模块：    &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;__init__.py&lt;/code&gt; 文件使得 &lt;code&gt;hello_cli/&lt;/code&gt; 可以作为一个 Python 包被识别。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;__main__.py&lt;/code&gt; 文件提供了应用程序的&lt;strong&gt;入口点脚本&lt;/strong&gt;(entry-point script)或可执行文件，这是启动程序的主要入口。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cli.py&lt;/code&gt; 文件为应用提供了命令行界面。在此文件中的代码将扮演基于 MVC 架构中的视图-控制器角色。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;model.py&lt;/code&gt; 文件包含了支持应用主要功能的代码。这部分代码将在你的 MVC 布局中扮演模型角色。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;你还需要一个 &lt;code&gt;tests/&lt;/code&gt; 包，其中包含针对应用程序组件的单元测试文件。在这个具体的项目布局示例中，你有 &lt;code&gt;test_cli.py&lt;/code&gt; 用于检查 CLI 功能的单元测试，以及 &lt;code&gt;test_model.py&lt;/code&gt; 用于检查你的模型代码的单元测试。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pyproject.toml&lt;/code&gt; 文件允许你定义应用程序的构建系统以及许多其他常规配置。以下是一个如何为你的示例 hello_cli 项目填写此文件的简单示例：  &lt;br /&gt;
&lt;div class=&#34;language-toml highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;TOML&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-14-1&#34; name=&#34;__codelineno-14-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# pyproject.toml&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-2&#34; name=&#34;__codelineno-14-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-14-3&#34; name=&#34;__codelineno-14-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;[build-system]&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-4&#34; name=&#34;__codelineno-14-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;requires&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;setuptools&amp;gt;=64.0.0&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;wheel&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-5&#34; name=&#34;__codelineno-14-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;build-backend&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;setuptools.build_meta&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-6&#34; name=&#34;__codelineno-14-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-14-7&#34; name=&#34;__codelineno-14-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;[project]&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-8&#34; name=&#34;__codelineno-14-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;hello_cli&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-9&#34; name=&#34;__codelineno-14-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;0.0.1&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-10&#34; name=&#34;__codelineno-14-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;My awesome Hello CLI application&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-11&#34; name=&#34;__codelineno-14-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;readme&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;README.md&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-12&#34; name=&#34;__codelineno-14-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;authors&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Real Python&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;email&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;info@realpython.com&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}]&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-13&#34; name=&#34;__codelineno-14-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-14-14&#34; name=&#34;__codelineno-14-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;[project.scripts]&lt;/span&gt;
&lt;a id=&#34;__codelineno-14-15&#34; name=&#34;__codelineno-14-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;hello_cli&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;hello_cli.__main__:main&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;[build-system]&lt;/code&gt; 表头将 &lt;code&gt;setuptools&lt;/code&gt; 设置为应用程序的构建系统，并指定 Python 需要安装哪些依赖项来构建应用程序。&lt;code&gt;[project]&lt;/code&gt; 表头为你的应用提供了通用元数据。这些元数据在你想要将应用发布到 Python 包索引（PyPI）时非常有用。最后， &lt;code&gt;[project.scripts]&lt;/code&gt; 表头定义了你的应用程序的入口点。&lt;/p&gt;
&lt;p&gt;经过这次对 CLI 项目布局和构建的快速探索，你已经准备好继续学习 &lt;code&gt;argparse&lt;/code&gt; 了，特别是如何自定义你的命令行参数解析器。&lt;/p&gt;
&lt;h2 id=&#34;_6&#34;&gt;自定义你的命令行参数解析器&lt;a class=&#34;headerlink&#34; href=&#34;#_6&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在前面的部分中，你已经学习了如何使用 Python 的 &lt;code&gt;argparse&lt;/code&gt; 模块为你的程序或应用实现命令行接口的基础知识。同时，你也了解了如何按照 MVC 模式组织和规划 CLI 应用项目。&lt;/p&gt;
&lt;p&gt;在接下来的部分中，你将更深入地探索 &lt;code&gt;argparse&lt;/code&gt; 的许多其他强大功能。特别是，你将学习如何在 &lt;code&gt;ArgumentParser&lt;/code&gt; 构造函数中使用一些最有用的参数，这将使你能够自定义 CLI 应用的一般行为。&lt;/p&gt;
&lt;h3 id=&#34;help-usage&#34;&gt;调整程序的 Help 和 Usage 内容&lt;a class=&#34;headerlink&#34; href=&#34;#help-usage&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;向 CLI 应用程序的用户提供使用说明和帮助是一种最佳实践，可以通过出色的用户体验 (UX) 让用户更加愉快。在本节中，你将了解如何利用 &lt;code&gt;ArgumentParser&lt;/code&gt; 的一些参数来微调 CLI 应用程序向用户显示帮助和使用消息的方式。你将学习如何：  &lt;br /&gt;
- 设置程序名称
- 定义程序的描述和结束消息
- 对参数和选项进行分组显示帮助&lt;/p&gt;
&lt;p&gt;首先，你将开始设置你的程序名称，并指定该名称在帮助或使用说明消息中的显示方式。&lt;/p&gt;
&lt;h4 id=&#34;_7&#34;&gt;设置程序名称&lt;a class=&#34;headerlink&#34; href=&#34;#_7&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;默认情况下，&lt;code&gt;argparse&lt;/code&gt; 会使用 &lt;code&gt;sys.argv&lt;/code&gt; 中的第一个值来设置程序的名称。这个第一项包含你刚刚执行的 Python 文件的名称。这个文件名在使用说明消息中看起来会有些奇怪。&lt;/p&gt;
&lt;p&gt;例如，继续使用 &lt;code&gt;-h&lt;/code&gt; 选项运行自定义 &lt;code&gt;ls&lt;/code&gt; 命令：
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-15-1&#34; name=&#34;__codelineno-15-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-h
&lt;a id=&#34;__codelineno-15-2&#34; name=&#34;__codelineno-15-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;usage:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-h&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-l&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;path
&lt;a id=&#34;__codelineno-15-3&#34; name=&#34;__codelineno-15-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-15-4&#34; name=&#34;__codelineno-15-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;positional&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;arguments:
&lt;a id=&#34;__codelineno-15-5&#34; name=&#34;__codelineno-15-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;path
&lt;a id=&#34;__codelineno-15-6&#34; name=&#34;__codelineno-15-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-15-7&#34; name=&#34;__codelineno-15-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;options:
&lt;a id=&#34;__codelineno-15-8&#34; name=&#34;__codelineno-15-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-h,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--help&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;show&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;this&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;help&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;message&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;and&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;a id=&#34;__codelineno-15-9&#34; name=&#34;__codelineno-15-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-l,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--long
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;命令输出中的高亮行显示 &lt;code&gt;argparse&lt;/code&gt; 正在使用文件名 &lt;code&gt;ls.py&lt;/code&gt; 作为程序的名称。这看起来有些奇怪，因为在使用说明消息中，应用名称很少包含文件扩展名。&lt;/p&gt;
&lt;p&gt;幸运的是，你可以使用 &lt;code&gt;prog&lt;/code&gt; 参数来指定你的程序名称，就像下面的代码片段所示：   &lt;br /&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-16-1&#34; name=&#34;__codelineno-16-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ls.py v3&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-2&#34; name=&#34;__codelineno-16-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-16-3&#34; name=&#34;__codelineno-16-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;argparse&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-4&#34; name=&#34;__codelineno-16-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;datetime&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-5&#34; name=&#34;__codelineno-16-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pathlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-6&#34; name=&#34;__codelineno-16-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-16-7&#34; name=&#34;__codelineno-16-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argparse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prog&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;ls&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-8&#34; name=&#34;__codelineno-16-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-16-9&#34; name=&#34;__codelineno-16-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ...&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-10&#34; name=&#34;__codelineno-16-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-16-11&#34; name=&#34;__codelineno-16-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iterdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-12&#34; name=&#34;__codelineno-16-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;build_output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;使用 &lt;code&gt;prog&lt;/code&gt; 参数，你可以指定将在使用说明消息中使用的程序名称。在这个例子中，你使用了字符串 &#34;ls&#34;。现在，继续运行你的应用：   &lt;br /&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-17-1&#34; name=&#34;__codelineno-17-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-h
&lt;a id=&#34;__codelineno-17-2&#34; name=&#34;__codelineno-17-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;usage:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-h&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-l&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;path
&lt;a id=&#34;__codelineno-17-3&#34; name=&#34;__codelineno-17-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-17-4&#34; name=&#34;__codelineno-17-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;positional&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;arguments:
&lt;a id=&#34;__codelineno-17-5&#34; name=&#34;__codelineno-17-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;path
&lt;a id=&#34;__codelineno-17-6&#34; name=&#34;__codelineno-17-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-17-7&#34; name=&#34;__codelineno-17-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;options:
&lt;a id=&#34;__codelineno-17-8&#34; name=&#34;__codelineno-17-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-h,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--help&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;show&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;this&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;help&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;message&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;and&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;a id=&#34;__codelineno-17-9&#34; name=&#34;__codelineno-17-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-l,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--long
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;很好！这个输出的第一行中的使用说明消息显示程序名称为 &lt;code&gt;ls&lt;/code&gt;，而不是 &lt;code&gt;ls.py&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;除了设置程序名称外，&lt;code&gt;argparse&lt;/code&gt; 还允许你定义应用的描述和结尾信息。在接下来的部分中，你将学习如何进行这两方面的操作。&lt;/p&gt;
&lt;h4 id=&#34;_8&#34;&gt;定义程序的描述和结语消息&lt;a class=&#34;headerlink&#34; href=&#34;#_8&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;你还可以为你的应用定义一个通用的描述和一个结尾或结束语。为此，你将分别使用 &lt;code&gt;description&lt;/code&gt; 和 &lt;code&gt;epilog&lt;/code&gt; 参数。接下来，请更新 &lt;code&gt;ls.py&lt;/code&gt; 文件，在 &lt;code&gt;ArgumentParser&lt;/code&gt; 构造函数中添加以下内容：   &lt;br /&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-18-1&#34; name=&#34;__codelineno-18-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ls.py v4&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-2&#34; name=&#34;__codelineno-18-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-18-3&#34; name=&#34;__codelineno-18-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;argparse&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-4&#34; name=&#34;__codelineno-18-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;datetime&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-5&#34; name=&#34;__codelineno-18-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pathlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-6&#34; name=&#34;__codelineno-18-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-18-7&#34; name=&#34;__codelineno-18-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argparse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-8&#34; name=&#34;__codelineno-18-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;prog&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;ls&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-9&#34; name=&#34;__codelineno-18-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;List the content of a directory&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-10&#34; name=&#34;__codelineno-18-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;epilog&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Thanks for using &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(prog)s&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;! :)&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-11&#34; name=&#34;__codelineno-18-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-12&#34; name=&#34;__codelineno-18-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-18-13&#34; name=&#34;__codelineno-18-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ...&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-14&#34; name=&#34;__codelineno-18-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-18-15&#34; name=&#34;__codelineno-18-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iterdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-16&#34; name=&#34;__codelineno-18-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;build_output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;在这次更新中，&lt;code&gt;description&lt;/code&gt; 参数允许你为应用提供一个通用的描述。这个描述将显示在帮助消息的开头。&lt;code&gt;epilog&lt;/code&gt; 参数则允许你定义一些文本作为应用的结尾或结束语。请注意，你可以使用旧式的字符串格式化操作符(&lt;code&gt;%&lt;/code&gt;)将 &lt;code&gt;prog&lt;/code&gt; 参数插入到 &lt;code&gt;epilog&lt;/code&gt; 字符串中。    &lt;/p&gt;
&lt;p&gt;如果再次运行该应用程序，你将得到如下输出：   &lt;br /&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-19-1&#34; name=&#34;__codelineno-19-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-h
&lt;a id=&#34;__codelineno-19-2&#34; name=&#34;__codelineno-19-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;usage:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-h&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-l&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;path
&lt;a id=&#34;__codelineno-19-3&#34; name=&#34;__codelineno-19-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-19-4&#34; name=&#34;__codelineno-19-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;List&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;content&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;of&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;a&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory
&lt;a id=&#34;__codelineno-19-5&#34; name=&#34;__codelineno-19-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-19-6&#34; name=&#34;__codelineno-19-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;positional&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;arguments:
&lt;a id=&#34;__codelineno-19-7&#34; name=&#34;__codelineno-19-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;path
&lt;a id=&#34;__codelineno-19-8&#34; name=&#34;__codelineno-19-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-19-9&#34; name=&#34;__codelineno-19-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;options:
&lt;a id=&#34;__codelineno-19-10&#34; name=&#34;__codelineno-19-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-h,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--help&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;show&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;this&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;help&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;message&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;and&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;a id=&#34;__codelineno-19-11&#34; name=&#34;__codelineno-19-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-l,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--long
&lt;a id=&#34;__codelineno-19-12&#34; name=&#34;__codelineno-19-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-19-13&#34; name=&#34;__codelineno-19-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Thanks&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;using&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls!&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;:&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;现在，输出会在使用消息之后显示描述消息，并在帮助文本末尾显示结语消息。&lt;/p&gt;
&lt;h4 id=&#34;_9&#34;&gt;显示参数和选项的分组帮助&lt;a class=&#34;headerlink&#34; href=&#34;#_9&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;帮助分组&lt;/strong&gt;(Help groups)是 &lt;code&gt;argparse&lt;/code&gt; 的另一个有趣特性。它们允许你将相关的命令和参数进行分组，从而帮助你组织应用的帮助消息。要创建这些帮助分组，你将使用 &lt;code&gt;ArgumentParser&lt;/code&gt; 的 &lt;code&gt;.add_argument_group()&lt;/code&gt; 方法。&lt;/p&gt;
&lt;p&gt;作为一个例子，请考虑你自定义的 &lt;code&gt;ls&lt;/code&gt; 命令的以下更新版本：   &lt;br /&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-20-1&#34; name=&#34;__codelineno-20-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ls.py v5&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-2&#34; name=&#34;__codelineno-20-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ...&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-3&#34; name=&#34;__codelineno-20-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-20-4&#34; name=&#34;__codelineno-20-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argparse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-5&#34; name=&#34;__codelineno-20-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;prog&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;ls&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-6&#34; name=&#34;__codelineno-20-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;List the content of a directory&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-7&#34; name=&#34;__codelineno-20-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;epilog&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Thanks for using &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(prog)s&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;! :)&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-8&#34; name=&#34;__codelineno-20-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-9&#34; name=&#34;__codelineno-20-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-20-10&#34; name=&#34;__codelineno-20-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;general&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument_group&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;general output&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-11&#34; name=&#34;__codelineno-20-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;general&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;path&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-12&#34; name=&#34;__codelineno-20-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-20-13&#34; name=&#34;__codelineno-20-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;detailed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument_group&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;detailed output&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-14&#34; name=&#34;__codelineno-20-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;detailed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;-l&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;--long&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;action&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-15&#34; name=&#34;__codelineno-20-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-20-16&#34; name=&#34;__codelineno-20-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse_args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-17&#34; name=&#34;__codelineno-20-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-20-18&#34; name=&#34;__codelineno-20-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ...&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-19&#34; name=&#34;__codelineno-20-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-20-20&#34; name=&#34;__codelineno-20-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iterdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-21&#34; name=&#34;__codelineno-20-21&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-21&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;21 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;build_output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;在这次更新中，你为显示一般输出的参数和选项创建了一个帮助分组，并为显示详细输出的参数和选项创建了另一个分组。&lt;/p&gt;
&lt;p&gt;如果你在命令行中使用 &lt;code&gt;-h&lt;/code&gt; 选项运行应用程序，那么你将获得以下输出： &lt;br /&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-21-1&#34; name=&#34;__codelineno-21-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-h
&lt;a id=&#34;__codelineno-21-2&#34; name=&#34;__codelineno-21-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;usage:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-h&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-l&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;path
&lt;a id=&#34;__codelineno-21-3&#34; name=&#34;__codelineno-21-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-21-4&#34; name=&#34;__codelineno-21-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;List&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;content&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;of&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;a&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory
&lt;a id=&#34;__codelineno-21-5&#34; name=&#34;__codelineno-21-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-21-6&#34; name=&#34;__codelineno-21-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;options:
&lt;a id=&#34;__codelineno-21-7&#34; name=&#34;__codelineno-21-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-h,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--help&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;show&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;this&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;help&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;message&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;and&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;a id=&#34;__codelineno-21-8&#34; name=&#34;__codelineno-21-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-21-9&#34; name=&#34;__codelineno-21-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;general&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;output:
&lt;a id=&#34;__codelineno-21-10&#34; name=&#34;__codelineno-21-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;path
&lt;a id=&#34;__codelineno-21-11&#34; name=&#34;__codelineno-21-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-21-12&#34; name=&#34;__codelineno-21-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;detailed&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;output:
&lt;a id=&#34;__codelineno-21-13&#34; name=&#34;__codelineno-21-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;-l,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--long
&lt;a id=&#34;__codelineno-21-14&#34; name=&#34;__codelineno-21-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-21-15&#34; name=&#34;__codelineno-21-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Thanks&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;using&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls!&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;:&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;现在，你的应用的参数和选项在帮助消息中以描述性的标题进行了方便的分组。这个整洁的特性将帮助你为用户提供更多的上下文，并帮助他们更好地理解应用的工作原理。&lt;/p&gt;
&lt;h3 id=&#34;_10&#34;&gt;为参数和选项提供全局设置&lt;a class=&#34;headerlink&#34; href=&#34;#_10&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;除了自定义使用说明和帮助消息外，&lt;code&gt;ArgumentParser&lt;/code&gt; 还允许你对命令行界面（CLI）应用进行其他一些有趣的调整。这些调整包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;为参数和选项定义全局默认值&lt;/li&gt;
&lt;li&gt;从外部文件中加载参数和选项&lt;/li&gt;
&lt;li&gt;允许或禁止选项缩写&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;有时，你可能需要为你的应用的参数和选项指定一个全局默认值。你可以通过在调用 &lt;code&gt;ArgumentParser&lt;/code&gt; 构造函数时，将默认值传递给 &lt;code&gt;argument_default&lt;/code&gt; 参数来实现这一点（注意：实际上 &lt;code&gt;ArgumentParser&lt;/code&gt; 没有 &lt;code&gt;argument_default&lt;/code&gt; 这个参数，但这里是为了说明可以全局设置默认值的概念。在实际应用中，你可能需要为每个参数单独设置默认值）。&lt;/p&gt;
&lt;p&gt;这个特性可能并不常用，因为参数和选项通常具有不同的数据类型或意义，很难找到一个满足所有需求的值。&lt;/p&gt;
&lt;p&gt;然而，&lt;code&gt;argument_default&lt;/code&gt;(尽管 &lt;code&gt;ArgumentParser&lt;/code&gt; 并没有直接提供这个参数，但这里是为了说明概念）的一个常见用例是当你想要避免将参数和选项添加到 &lt;code&gt;Namespace&lt;/code&gt; 对象中。在这种情况下，你可以使用 &lt;code&gt;SUPPRESS&lt;/code&gt; 常量作为默认值。这个默认值将确保只有命令行中提供的参数和选项才会被存储在 &lt;code&gt;arguments&lt;/code&gt; 的 &lt;code&gt;Namespace&lt;/code&gt; 中。&lt;/p&gt;
&lt;p&gt;作为一个例子，请继续修改你的自定义 &lt;code&gt;ls&lt;/code&gt; 命令，如下面的代码片段所示：   &lt;br /&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-22-1&#34; name=&#34;__codelineno-22-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ls.py v6&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-2&#34; name=&#34;__codelineno-22-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-22-3&#34; name=&#34;__codelineno-22-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;argparse&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-4&#34; name=&#34;__codelineno-22-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;datetime&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-5&#34; name=&#34;__codelineno-22-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pathlib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Path&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-6&#34; name=&#34;__codelineno-22-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-22-7&#34; name=&#34;__codelineno-22-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argparse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-8&#34; name=&#34;__codelineno-22-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;prog&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;ls&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-9&#34; name=&#34;__codelineno-22-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;List the content of a directory&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-10&#34; name=&#34;__codelineno-22-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;epilog&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Thanks for using &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(prog)s&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;! :)&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-11&#34; name=&#34;__codelineno-22-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;argument_default&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argparse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SUPPRESS&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-12&#34; name=&#34;__codelineno-22-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-13&#34; name=&#34;__codelineno-22-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-22-14&#34; name=&#34;__codelineno-22-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# ...&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-15&#34; name=&#34;__codelineno-22-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-22-16&#34; name=&#34;__codelineno-22-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iterdir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-17&#34; name=&#34;__codelineno-22-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-18&#34; name=&#34;__codelineno-22-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;n&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-19&#34; name=&#34;__codelineno-22-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;except&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;AttributeError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-20&#34; name=&#34;__codelineno-22-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;n&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-21&#34; name=&#34;__codelineno-22-21&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-21&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;21 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;build_output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;通过将 &lt;code&gt;SUPPRESS&lt;/code&gt; 传递给 &lt;code&gt;ArgumentParser&lt;/code&gt; 构造函数，你可以防止未提供的参数被存储在 &lt;code&gt;argparse.Namespace&lt;/code&gt; 对象中。这就是为什么在调用 &lt;code&gt;build_output()&lt;/code&gt; 之前，你需要检查 &lt;code&gt;-l&lt;/code&gt; 或 &lt;code&gt;--long&lt;/code&gt; 选项是否实际被传递了。否则，你的代码会因为 &lt;code&gt;args&lt;/code&gt; 中不存在 &lt;code&gt;long&lt;/code&gt; 属性而引发 &lt;code&gt;AttributeError&lt;/code&gt; 错误。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ArgumentParser&lt;/code&gt; 的另一个酷炫功能是允许你从外部文件中加载参数值。当你有一个具有冗长或复杂的命令行结构的应用，并希望自动化加载参数值的过程时，这个功能就非常有用。&lt;/p&gt;
&lt;p&gt;在这种情况下，你可以将参数值存储在一个外部文件中，并让你的程序从该文件中加载它们。为了尝试这个功能，请继续创建一个简单的命令行界面（CLI）应用，如下所示：   &lt;br /&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-23-1&#34; name=&#34;__codelineno-23-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# fromfile.py&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-2&#34; name=&#34;__codelineno-23-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-23-3&#34; name=&#34;__codelineno-23-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;argparse&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-4&#34; name=&#34;__codelineno-23-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-23-5&#34; name=&#34;__codelineno-23-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argparse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fromfile_prefix_chars&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;@&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-6&#34; name=&#34;__codelineno-23-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-23-7&#34; name=&#34;__codelineno-23-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;one&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-8&#34; name=&#34;__codelineno-23-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;two&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-9&#34; name=&#34;__codelineno-23-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;three&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-10&#34; name=&#34;__codelineno-23-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-23-11&#34; name=&#34;__codelineno-23-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse_args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-12&#34; name=&#34;__codelineno-23-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-23-13&#34; name=&#34;__codelineno-23-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;在这里，你向 &lt;code&gt;ArgumentParser&lt;/code&gt; 的 &lt;code&gt;fromfile_prefix_chars&lt;/code&gt; 参数传递 &lt;code&gt;@&lt;/code&gt; 符号。然后，你创建了三个必须在命令行中提供的必需参数。&lt;/p&gt;
&lt;p&gt;现在，假设你经常使用此应用程序，并且总是使用相同的一组参数值。为了简化和优化你的工作流程，你可以创建一个文件，其中包含所有必需参数的适当值，每个参数占一行，就像下面的 &lt;code&gt;args.txt&lt;/code&gt; 文件一样： &lt;br /&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-24-1&#34; name=&#34;__codelineno-24-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;first
&lt;a id=&#34;__codelineno-24-2&#34; name=&#34;__codelineno-24-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;second
&lt;a id=&#34;__codelineno-24-3&#34; name=&#34;__codelineno-24-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;third
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;有了这个文件，您现在可以调用您的程序并指示它从 &lt;code&gt;args.txt&lt;/code&gt; 文件加载值，如以下命令运行所示：  &lt;br /&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-25-1&#34; name=&#34;__codelineno-25-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;fromfile.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;@args.txt
&lt;a id=&#34;__codelineno-25-2&#34; name=&#34;__codelineno-25-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Namespace&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;one&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;first&amp;#39;&lt;/span&gt;,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;two&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;second&amp;#39;&lt;/span&gt;,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;three&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;third&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;在此命令的输出中，你可以看到 &lt;code&gt;argparse&lt;/code&gt; 已经读取了 &lt;code&gt;args.txt&lt;/code&gt; 的内容，并顺序地将值分配给了 &lt;code&gt;fromfile.py&lt;/code&gt; 程序的每个参数。所有参数及其值都已成功存储在 &lt;code&gt;Namespace&lt;/code&gt; 对象中。&lt;/p&gt;
&lt;p&gt;接受缩写选项名称的能力是 &lt;code&gt;argparse&lt;/code&gt; 命令行界面（CLI）的另一个酷炫特性。这个特性是默认启用的，当你的程序具有长选项名称时非常有用。例如，考虑以下程序，它会在命令行下打印出你在 &lt;code&gt;--argument-with-a-long-name&lt;/code&gt; 选项后指定的值：   &lt;br /&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-26-1&#34; name=&#34;__codelineno-26-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# abbreviate.py&lt;/span&gt;
&lt;a id=&#34;__codelineno-26-2&#34; name=&#34;__codelineno-26-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-26-3&#34; name=&#34;__codelineno-26-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;argparse&lt;/span&gt;
&lt;a id=&#34;__codelineno-26-4&#34; name=&#34;__codelineno-26-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-26-5&#34; name=&#34;__codelineno-26-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argparse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-26-6&#34; name=&#34;__codelineno-26-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-26-7&#34; name=&#34;__codelineno-26-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;--argument-with-a-long-name&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-26-8&#34; name=&#34;__codelineno-26-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-26-9&#34; name=&#34;__codelineno-26-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse_args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-26-10&#34; name=&#34;__codelineno-26-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-26-11&#34; name=&#34;__codelineno-26-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argument_with_a_long_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;这个程序会打印出你在 &lt;code&gt;--argument-with-a-long-name&lt;/code&gt; 选项后传入的任何参数值。现在，请继续运行以下命令来检查 Python 的 &lt;code&gt;argparse&lt;/code&gt; 模块如何处理这些缩写：  &lt;br /&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-27-1&#34; name=&#34;__codelineno-27-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;abbreviate.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--argument-with-a-long-name&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;42&lt;/span&gt;
&lt;a id=&#34;__codelineno-27-2&#34; name=&#34;__codelineno-27-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;m&#34;&gt;42&lt;/span&gt;
&lt;a id=&#34;__codelineno-27-3&#34; name=&#34;__codelineno-27-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-27-4&#34; name=&#34;__codelineno-27-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;abbreviate.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--argument&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;42&lt;/span&gt;
&lt;a id=&#34;__codelineno-27-5&#34; name=&#34;__codelineno-27-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;m&#34;&gt;42&lt;/span&gt;
&lt;a id=&#34;__codelineno-27-6&#34; name=&#34;__codelineno-27-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-27-7&#34; name=&#34;__codelineno-27-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;abbreviate.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--a&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;42&lt;/span&gt;
&lt;a id=&#34;__codelineno-27-8&#34; name=&#34;__codelineno-27-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;m&#34;&gt;42&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;这些示例展示了如何缩写 &lt;code&gt;--argument-with-a-long-name&lt;/code&gt; 选项的名称，而应用程序仍能正常工作。此功能是默认启用的。如果你希望禁用它并禁止缩写，那么可以在 &lt;code&gt;ArgumentParser&lt;/code&gt; 中使用 &lt;code&gt;allow_abbrev&lt;/code&gt; 参数：  &lt;br /&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-28-1&#34; name=&#34;__codelineno-28-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# abbreviate.py&lt;/span&gt;
&lt;a id=&#34;__codelineno-28-2&#34; name=&#34;__codelineno-28-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-28-3&#34; name=&#34;__codelineno-28-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;argparse&lt;/span&gt;
&lt;a id=&#34;__codelineno-28-4&#34; name=&#34;__codelineno-28-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-28-5&#34; name=&#34;__codelineno-28-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argparse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ArgumentParser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;allow_abbrev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-28-6&#34; name=&#34;__codelineno-28-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-28-7&#34; name=&#34;__codelineno-28-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_argument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;--argument-with-a-long-name&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-28-8&#34; name=&#34;__codelineno-28-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-28-9&#34; name=&#34;__codelineno-28-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parse_args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-28-10&#34; name=&#34;__codelineno-28-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-28-11&#34; name=&#34;__codelineno-28-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argument_with_a_long_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;将 &lt;code&gt;allow_abbrev&lt;/code&gt; 设置为 &lt;code&gt;False&lt;/code&gt; 会禁用命令行选项中的缩写。从这一点开始，你将需要为程序提供完整的选项名称才能正确工作。否则，你会收到一个错误：   &lt;br /&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-29-1&#34; name=&#34;__codelineno-29-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;abbreviate.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--argument-with-a-long-name&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;42&lt;/span&gt;
&lt;a id=&#34;__codelineno-29-2&#34; name=&#34;__codelineno-29-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;m&#34;&gt;42&lt;/span&gt;
&lt;a id=&#34;__codelineno-29-3&#34; name=&#34;__codelineno-29-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-29-4&#34; name=&#34;__codelineno-29-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;abbreviate.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--argument&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;42&lt;/span&gt;
&lt;a id=&#34;__codelineno-29-5&#34; name=&#34;__codelineno-29-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;usage:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;abbreviate.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-h&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;--argument-with-a-long-name&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;...&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;a id=&#34;__codelineno-29-6&#34; name=&#34;__codelineno-29-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;abbreviate.py:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;error:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;unrecognized&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;arguments:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--argument&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;42&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;第二个示例中的错误消息告诉你 &lt;code&gt;--argument&lt;/code&gt; 选项没有被识别为有效的选项。要使用该选项，你需要提供它的完整名称。&lt;/p&gt;
&lt;h2 id=&#34;_11&#34;&gt;微调你的命令行参数和选项&lt;a class=&#34;headerlink&#34; href=&#34;#_11&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;到目前为止，你已经学习了如何定制 &lt;code&gt;ArgumentParser&lt;/code&gt; 类的多个功能，以改善你的命令行界面（CLI）的用户体验。现在，你知道了如何调整你的应用程序的使用说明和帮助信息，以及如何微调命令行参数和选项的一些全局方面。&lt;/p&gt;
&lt;p&gt;在本节中，你将学习如何定制你的 CLI 的命令行参数和选项的其他几个功能。在这种情况下，你将使用 &lt;code&gt;.add_argument()&lt;/code&gt; 方法及其一些最相关的参数，包括 &lt;code&gt;action&lt;/code&gt;、&lt;code&gt;type&lt;/code&gt;、&lt;code&gt;nargs&lt;/code&gt;、&lt;code&gt;default&lt;/code&gt;、&lt;code&gt;help&lt;/code&gt; 等。     &lt;/p&gt;
&lt;h3 id=&#34;option-action&#34;&gt;设置 Option 背后的 Action&lt;a class=&#34;headerlink&#34; href=&#34;#option-action&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;当你向命令行界面添加一个选项或标志时，通常需要定义如何将选项的值存储在调用 &lt;code&gt;.parse_args()&lt;/code&gt; 后得到的 &lt;code&gt;Namespace&lt;/code&gt; 对象中。为此，你会使用 &lt;code&gt;.add_argument()&lt;/code&gt; 的 &lt;code&gt;action&lt;/code&gt; 参数。&lt;code&gt;action&lt;/code&gt; 参数的默认值为 &#34;store&#34;，意味着提供的选项值将原样存储在 &lt;code&gt;Namespace&lt;/code&gt; 中。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;action&lt;/code&gt; 参数可以接受几个可能的值。以下是这些可能值的列表及其含义：&lt;/p&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;75&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Thu, 06 Jun 2024 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>mamba 的两个分支 miniforge 和 mambaforge</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;p&gt;在安装 mamba 的时候在 &lt;a href=&#34;https://github.com/conda-forge/miniforge/releases&#34;&gt;release&lt;/a&gt; 页面和&lt;a href=&#34;https://mamba.readthedocs.io/en/latest/installation/mamba-installation.html&#34;&gt;官方的安装页面&lt;/a&gt; 总是看到关于 miniforge 和 mambaforge 的选择问题，傻傻搞不明白。&lt;/p&gt;
&lt;!-- more --&gt;

&lt;h2 id=&#34;miniforge-mambaforge&#34;&gt;Miniforge 和 Mambaforge&lt;a class=&#34;headerlink&#34; href=&#34;#miniforge-mambaforge&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;参考：&lt;a href=&#34;https://github.com/conda-forge/miniforge?tab=readme-ov-file#faq&#34;&gt;https://github.com/conda-forge/miniforge?tab=readme-ov-file#faq&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;What&#39;s the difference between Mambaforge and Miniforge?&lt;/strong&gt;  &lt;br /&gt;
After the release of Miniforge 23.3.1 in August 2023, Miniforge and Mambaforge are essentially identical. The only difference is the name of the installer and subsequently the default installation path.&lt;/p&gt;
&lt;p&gt;2023 年 8 月发布 Miniforge 23.3.1 后，Miniforge 和 Mambaforge 基本相同。唯一的区别是安装程序的名称以及随后的默认安装路径(一个默认是 miniforge3，一个默认是 mambaforge3)。&lt;/p&gt;
&lt;p&gt;Before that release, Miniforge only shipped conda, while Mambaforge added mamba on top. Since Miniconda started shipping conda-libmamba-solver in July 2023, Miniforge followed suit and started shipping it too in August. At that point, since conda-libmamba-solver depends on libmambapy, the only difference between Miniforge and Mambaforge was the presence of the mamba Python package. To minimize surprises, we decided to add mamba to Miniforge too.    &lt;/p&gt;
&lt;p&gt;在之前的版本中，Miniforge 仅提供 conda，而 Mambaforge 在此基础上增加了 mamba。自 2023 年 7 月 Miniconda 开始提供 conda-libmamba-solver 以来，Miniforge 也紧随其后，于 8 月开始提供此功能。那时，由于 conda-libmamba-solver 依赖于libmambapy，Miniforge 和 Mambaforge 之间的唯一区别就是是否包含 mamba Pytho n包。为了尽量减少意外情况，我们决定也在 Miniforge 中添加 mamba。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Should I choose one or another going forward at the risk of one of them gettting deprecated?&lt;/strong&gt;   &lt;br /&gt;
Given its wide usage, there are no plans to deprecate Mambaforge. If at some point we decide to deprecate Mambaforge, it will be appropriately announced and communicated with sufficient time in advance.&lt;/p&gt;
&lt;p&gt;鉴于 Mambaforge 的广泛使用，目前没有计划将其弃用。如果未来我们决定弃用 Mambaforge，我们会提前充分公告并通知相关用户。&lt;/p&gt;
&lt;p&gt;That said, if you had to start using one today, we recommend to stick to Miniforge.&lt;/p&gt;
&lt;p&gt;不过，如果你今天需要开始使用其中一个，我们建议你坚持使用 Miniforge。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;miniforge-miniconda&#34;&gt;Miniforge 和 Miniconda&lt;a class=&#34;headerlink&#34; href=&#34;#miniforge-miniconda&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;参考：&lt;a href=&#34;https://bioconda.github.io/faqs.html#what-s-the-difference-between-anaconda-conda-miniconda-mamba-mambaforge-micromamba&#34;&gt;What’s the difference between Anaconda, conda, Miniconda, mamba, Mambaforge, micromamba?&lt;/a&gt; - bioconda#Faqs&lt;/p&gt;
&lt;p&gt;Miniforge 是社区 (conda-forge) 驱动的简约 conda 安装程序。Miniforge 与 Miniconda 类似，但预配置了 &lt;code&gt;conda-forge&lt;/code&gt; 通道，并且所有包都来自 conda-forge 而不是 &lt;code&gt;defaults&lt;/code&gt; 通道。现在它还包含了 mamba 和 libmamba。&lt;/p&gt;
&lt;p&gt;Miniconda 是公司 (Anaconda) 驱动的简约 conda 安装程序。随后的软件包安装来自 anaconda 频道（默认或其他）。&lt;/p&gt;
&lt;h2 id=&#34;_1&#34;&gt;一句话&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;总的一句话来说，Mambaforge 类似于 Miniforge，但将 mamba 安装到基础环境中。虽然没有严格弃用，但从 &lt;strong&gt;2023 年 9 月&lt;/strong&gt;起不鼓励使用它（请参阅 miniforge 自述 &lt;a href=&#34;https://github.com/conda-forge/miniforge&#34;&gt;README&lt;/a&gt; 文件）。&lt;/p&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;71&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Sun, 28 Apr 2024 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>Python 里面没 if 也能用 else</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;blockquote&gt;
&lt;p&gt;这是来自于 &lt;a href=&#34;https://twitter.com/YangZhou1993&#34;&gt;Yang Zhou&lt;/a&gt; 发表在 &lt;a href=&#34;https://medium.com/techtofreedom/beyond-if-else-leveraging-pythons-versatile-else-statements-9ac260dac102&#34;&gt;Medium&lt;/a&gt; 的一篇文章 《&lt;a href=&#34;https://medium.com/techtofreedom/beyond-if-else-leveraging-pythons-versatile-else-statements-9ac260dac102&#34;&gt;Beyond If-Else: Leveraging Python’s Versatile “Else” Statements&lt;/a&gt;》，作者觉得挺有意思的，拿过来简单翻译了一下在这里分享给大家。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;!-- more --&gt;

&lt;p&gt;当我们说到 &#34;else&#34;，必须先有 &#34;if&#34;。&lt;/p&gt;
&lt;p&gt;这对于许多编程语言来说都是正确的，但对于 Python 来说却不然。&lt;/p&gt;
&lt;p&gt;Python 的 else 语句比我们想象的更通用。&lt;/p&gt;
&lt;p&gt;从循环后的 &#34;else&#34; 到 try- except 块后的 &#34;else&#34;，本文将探讨 else 语句鲜为人知的功能。&lt;/p&gt;
&lt;p&gt;我们不一定需要在生产中使用这些技巧，尤其是当我们的同事还不知道它们时，但仅仅意识到它们的存在就可以让我们再次感受到 Python 的灵活性和多功能性。&lt;/p&gt;
&lt;h2 id=&#34;1-while-else&#34;&gt;1. While-Else 结构&lt;a class=&#34;headerlink&#34; href=&#34;#1-while-else&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在 Python 中， &lt;code&gt;while&lt;/code&gt; 循环可以与 &lt;code&gt;else&lt;/code&gt; 块配对。当且仅当循环正常完成时，&lt;code&gt;else&lt;/code&gt; 块才会执行，这意味着它不会通过 &lt;code&gt;break&lt;/code&gt; 语句终止。&lt;/p&gt;
&lt;p&gt;换句话说，如果 &lt;code&gt;while&lt;/code&gt; 循环被 &lt;code&gt;break&lt;/code&gt; 终止，则 &lt;code&gt;else&lt;/code&gt; 块将不会被执行。
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;leaders&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Elon&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Tim&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Warren&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-2&#34; name=&#34;__codelineno-0-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-3&#34; name=&#34;__codelineno-0-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;leaders&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-4&#34; name=&#34;__codelineno-0-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;leaders&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Yang&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-5&#34; name=&#34;__codelineno-0-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Yang is a leader!&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-6&#34; name=&#34;__codelineno-0-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-7&#34; name=&#34;__codelineno-0-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-8&#34; name=&#34;__codelineno-0-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-9&#34; name=&#34;__codelineno-0-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Not found Yang!&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-10&#34; name=&#34;__codelineno-0-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-0-11&#34; name=&#34;__codelineno-0-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# Not found Yang!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;如上面的示例所示， &lt;code&gt;while&lt;/code&gt; 循环迭代 &lt;code&gt;leaders&lt;/code&gt; 列表，搜索领导者 &#34;Yang&#34;。不幸的是，&#34;Yang&#34; 并不是该名单中真正的领导者。所以 &lt;code&gt;break&lt;/code&gt; 语句没有被执行。因此，&lt;code&gt;else&lt;/code&gt; 语句下的代码就被执行了。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;else&lt;/code&gt; 语句的这种意外用法使我们无需添加额外的标志变量来标记循环是否被破坏。这样我们的 Python 程序就可以精简一些了。&lt;/p&gt;
&lt;h2 id=&#34;2-for-else&#34;&gt;2. 带有 For 循环的 Else 语句&lt;a class=&#34;headerlink&#34; href=&#34;#2-for-else&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;For 循环和 &lt;code&gt;while&lt;/code&gt; 循环是编程的孪生兄弟。如果我们可以在 while 循环中利用 else 语句的多功能性，那么毫无疑问它可以用于 for 循环。&lt;/p&gt;
&lt;p&gt;这个想法是完全相同的：      &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The &#34;else&#34; block only executes when there is no break in the for loop.   &lt;br /&gt;
&#34;else&#34; 块仅在 for 循环中没有中断时执行。     &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;让我们用 for 循环重写前面的示例：
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;leaders&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Elon&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Tim&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Warren&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-1-3&#34; name=&#34;__codelineno-1-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;leaders&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-4&#34; name=&#34;__codelineno-1-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Yang&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-5&#34; name=&#34;__codelineno-1-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Yang is a leader!&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-6&#34; name=&#34;__codelineno-1-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-7&#34; name=&#34;__codelineno-1-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-8&#34; name=&#34;__codelineno-1-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Not found Yang!&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-9&#34; name=&#34;__codelineno-1-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-1-10&#34; name=&#34;__codelineno-1-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# Not found Yang!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;代码更简洁了，不是吗？你能用其他编程语言做到这一点吗？&lt;/p&gt;
&lt;h2 id=&#34;3-else&#34;&gt;3. 使用 Else 语句进行异常处理&lt;a class=&#34;headerlink&#34; href=&#34;#3-else&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;异常处理是编写健壮且无错误的代码的一项重要技术。&lt;/p&gt;
&lt;p&gt;在 Python 中，整个异常处理代码块的结构应该如下：
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-2&#34; name=&#34;__codelineno-2-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;c1&#34;&gt;# Code that might raise an exception&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-3&#34; name=&#34;__codelineno-2-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;except&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SomeException&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-4&#34; name=&#34;__codelineno-2-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;c1&#34;&gt;# Code that runs if the try block raised &amp;#39;SomeException&amp;#39;&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-5&#34; name=&#34;__codelineno-2-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-6&#34; name=&#34;__codelineno-2-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;c1&#34;&gt;# Code that runs if the try block did NOT raise any exceptions&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-7&#34; name=&#34;__codelineno-2-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;finally&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-8&#34; name=&#34;__codelineno-2-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;c1&#34;&gt;# Code that always runs no matter what, often for cleanup&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;除了 &lt;code&gt;try&lt;/code&gt; 块之外，所有其他部分都是可选的。&lt;/p&gt;
&lt;p&gt;当 &lt;code&gt;try&lt;/code&gt; 块未引发异常时， &lt;code&gt;else&lt;/code&gt; 块就会执行。这是放置仅当 &lt;code&gt;try&lt;/code&gt; 块成功且无异常时才运行的代码的好地方。这对于阐明代码的意图并防止 &lt;code&gt;except&lt;/code&gt; 块意外捕获非常有用。&lt;/p&gt;
&lt;p&gt;例如，以下程序实现了一个非常简单的除法函数：
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;divide&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-2&#34; name=&#34;__codelineno-3-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-3&#34; name=&#34;__codelineno-3-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-4&#34; name=&#34;__codelineno-3-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;except&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;ZeroDivisionError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-5&#34; name=&#34;__codelineno-3-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Error: Division by zero.&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-6&#34; name=&#34;__codelineno-3-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-7&#34; name=&#34;__codelineno-3-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Result is &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-8&#34; name=&#34;__codelineno-3-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;finally&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-9&#34; name=&#34;__codelineno-3-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;Executing finally clause.&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;如果没有遇到 &lt;code&gt;ZeroDivisionError&lt;/code&gt;，结果如下：&lt;/p&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;divide&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2077&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-2&#34; name=&#34;__codelineno-4-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# Result is 2077.0&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-3&#34; name=&#34;__codelineno-4-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# Executing finally clause.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;当然，如果满足定义的异常，则会打印相关的 &lt;code&gt;Error&lt;/code&gt; 消息：
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;divide&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2077&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-2&#34; name=&#34;__codelineno-5-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# Error: Division by zero.&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-3&#34; name=&#34;__codelineno-5-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# Executing finally clause.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h2 id=&#34;_1&#34;&gt;要点总结&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在 Python 中，else 语句不一定位于 if 语句之后。&lt;/p&gt;
&lt;p&gt;它还有三个额外但鲜为人知的用途：     &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;while-else 循环     &lt;/li&gt;
&lt;li&gt;for-else 循环     &lt;/li&gt;
&lt;li&gt;使用 else 块进行异常处理     &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但是，我不建议您在生产中频繁应用它们，因为使用鲜为人知的功能可能会降低可读性并使您的同事感到困惑。但理解并随意应用它们会给你的同事留下深刻的印象，并巩固你作为 &#34;Python 大师&#34; 的地位。 😎&lt;/p&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;61&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Thu, 21 Mar 2024 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>RockyLinux 9 基础配置与使用</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;p&gt;今天终于在阿里云入手了一台 2核(vCPU)+ 2GiB + 3Mbps 的 ECS，安装了最新的 Rocky Linux release 9.3 (Blue Onyx)，记录一下开箱后的一些基础配置。&lt;/p&gt;
&lt;!-- more --&gt;

&lt;p&gt;&lt;img alt=&#34;aliyun-99-plan&#34; src=&#34;https://shub.weiyan.tech/kgarden/2024/03/aliyun-99-plan.png&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;hostname&#34;&gt;Hostname&lt;a class=&#34;headerlink&#34; href=&#34;#hostname&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;[root@r0sasd1bQi ~]# hostnamectl   # 查看一下当前主机名的情况
&lt;a id=&#34;__codelineno-0-2&#34; name=&#34;__codelineno-0-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;[root@r0sasd1bQi ~]# hostnamectl set-hostname shen-server --static
&lt;a id=&#34;__codelineno-0-3&#34; name=&#34;__codelineno-0-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;[root@r0sasd1bQi ~]# hostnamectl status
&lt;a id=&#34;__codelineno-0-4&#34; name=&#34;__codelineno-0-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;[root@r0sasd1bQi ~]# reboot now    # 重启服务器
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;_1&#34;&gt;创建新用户&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;使用 &lt;code&gt;adduser&lt;/code&gt; 命令将新用户添加到系统中：
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;adduser&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;shenweiyan&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# 创建新用户&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;passwd&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;shenweiyan&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# 修改密码&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h2 id=&#34;_2&#34;&gt;用户添加超级权限&lt;a class=&#34;headerlink&#34; href=&#34;#_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;把 &lt;code&gt;shenweiyan&lt;/code&gt; 用户添加超级权限（&lt;code&gt;/etc/sudoers&lt;/code&gt;）：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;shenweiyan      ALL=(ALL)       NOPASSWD: ALL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h2 id=&#34;_3&#34;&gt;自定义快捷方式&lt;a class=&#34;headerlink&#34; href=&#34;#_3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在 &lt;code&gt;~/.bashrc&lt;/code&gt; 最后新增一下用户自定义的快捷方式。&lt;/p&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# User Specific Alias
&lt;a id=&#34;__codelineno-3-2&#34; name=&#34;__codelineno-3-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;alias disp=&amp;#39;display&amp;#39;
&lt;a id=&#34;__codelineno-3-3&#34; name=&#34;__codelineno-3-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;alias rm=&amp;#39;rm -i&amp;#39;
&lt;a id=&#34;__codelineno-3-4&#34; name=&#34;__codelineno-3-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;alias la=&amp;#39;ls -al&amp;#39;
&lt;a id=&#34;__codelineno-3-5&#34; name=&#34;__codelineno-3-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;alias ll=&amp;#39;ls -lh&amp;#39;
&lt;a id=&#34;__codelineno-3-6&#34; name=&#34;__codelineno-3-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;alias le=&amp;#39;less -S&amp;#39;
&lt;a id=&#34;__codelineno-3-7&#34; name=&#34;__codelineno-3-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-8&#34; name=&#34;__codelineno-3-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# Custom History setting
&lt;a id=&#34;__codelineno-3-9&#34; name=&#34;__codelineno-3-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# HISTFILESIZE 定义了在 .bash_history 中保存命令的记录总数
&lt;a id=&#34;__codelineno-3-10&#34; name=&#34;__codelineno-3-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;HISTFILESIZE=3000000
&lt;a id=&#34;__codelineno-3-11&#34; name=&#34;__codelineno-3-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# HISTSIZE 定义了 history 命令输出的记录数
&lt;a id=&#34;__codelineno-3-12&#34; name=&#34;__codelineno-3-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;HISTSIZE=3000
&lt;a id=&#34;__codelineno-3-13&#34; name=&#34;__codelineno-3-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# 定义 History 输出格式
&lt;a id=&#34;__codelineno-3-14&#34; name=&#34;__codelineno-3-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;export HISTTIMEFORMAT=&amp;#39;%F %T &amp;#39;
&lt;a id=&#34;__codelineno-3-15&#34; name=&#34;__codelineno-3-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# 使用 HISTCONTROL 从命令历史中剔除连续重复的条目
&lt;a id=&#34;__codelineno-3-16&#34; name=&#34;__codelineno-3-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;HISTCONTROL=ignoredups
&lt;a id=&#34;__codelineno-3-17&#34; name=&#34;__codelineno-3-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# 将 bash 内存中历史命令追加到 .bash_history 历史命令文件中， 默认只有退出 shell 是才会保存
&lt;a id=&#34;__codelineno-3-18&#34; name=&#34;__codelineno-3-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;PROMPT_COMMAND=&amp;quot;history -a&amp;quot;
&lt;a id=&#34;__codelineno-3-19&#34; name=&#34;__codelineno-3-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-20&#34; name=&#34;__codelineno-3-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# Login Style
&lt;a id=&#34;__codelineno-3-21&#34; name=&#34;__codelineno-3-21&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-21&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;21 &#34;&gt;&lt;/span&gt;&lt;/a&gt;PS1=&amp;#39;\033[35;1m\u@\h \[\e[m\]\t \[\033[36;1m\]$(pwd) \n$ \[\e[m\]&amp;#39;
&lt;a id=&#34;__codelineno-3-22&#34; name=&#34;__codelineno-3-22&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-22&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;22 &#34;&gt;&lt;/span&gt;&lt;/a&gt;clear;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;epel-release&#34;&gt;epel-release&lt;a class=&#34;headerlink&#34; href=&#34;#epel-release&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;企业版 Linux 附加软件包（Extra Packages for Enterprise Linux，以下简称 EPEL）是一个 Fedora 特别兴趣小组，用以创建、维护以及管理针对企业版 Linux 的一个高质量附加软件包集，面向的对象包括但不限于 &lt;a href=&#34;https://fedoraproject.org/wiki/Red_Hat_Enterprise_Linux/zh-cn&#34;&gt;红帽企业版 Linux (RHEL)&lt;/a&gt;、 CentOS、Scientific Linux (SL)、Oracle Linux (OL) 。&lt;/p&gt;
&lt;p&gt;参考：&lt;a href=&#34;https://fedoraproject.org/wiki/EPEL/zh-cn&#34;&gt;EPEL/zh-cn - Fedora Project Wiki&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 下面两个命令都可以安装&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-2&#34; name=&#34;__codelineno-4-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;sudo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;dnf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;epel-release
&lt;a id=&#34;__codelineno-4-3&#34; name=&#34;__codelineno-4-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;sudo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;dnf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;htop&#34;&gt;Htop&lt;a class=&#34;headerlink&#34; href=&#34;#htop&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://htop.dev/&#34;&gt;Htop&lt;/a&gt; 是一个基于 C 编写的跨平台的交互式流程查看器，相比系统自带的 &lt;code&gt;top&lt;/code&gt; 更加直观好用。 &lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;sudo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;dnf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;htop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;docker&#34;&gt;Docker 安装与使用&lt;a class=&#34;headerlink&#34; href=&#34;#docker&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;主要参考《&lt;a href=&#34;https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-rocky-linux-9&#34;&gt;How To Install and Use Docker on Rocky Linux 9&lt;/a&gt;》，具体步骤如下：     &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;add the official Docker repository
  &lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-6-1&#34; name=&#34;__codelineno-6-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;sudo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;dnf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;config-manager&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--add-repo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://download.docker.com/linux/centos/docker-ce.repo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;install Docker
  &lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-7-1&#34; name=&#34;__codelineno-7-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;sudo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;dnf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;docker-ce&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;docker-ce-cli&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;containerd.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;start the Docker daemon
  &lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-8-1&#34; name=&#34;__codelineno-8-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;sudo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;start&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;docker
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Verify that it’s running
  &lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-9-1&#34; name=&#34;__codelineno-9-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;sudo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;status&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;docker
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
  &lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-10-1&#34; name=&#34;__codelineno-10-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Output
&lt;a id=&#34;__codelineno-10-2&#34; name=&#34;__codelineno-10-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;● docker.service - Docker Application Container Engine
&lt;a id=&#34;__codelineno-10-3&#34; name=&#34;__codelineno-10-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;   Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset: enabled)
&lt;a id=&#34;__codelineno-10-4&#34; name=&#34;__codelineno-10-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;   Active: active (running) since Sun 2016-05-01 06:53:52 CDT; 1 weeks 3 days ago
&lt;a id=&#34;__codelineno-10-5&#34; name=&#34;__codelineno-10-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;     Docs: https://docs.docker.com
&lt;a id=&#34;__codelineno-10-6&#34; name=&#34;__codelineno-10-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt; Main PID: 749 (docker)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;make sure it starts at every server reboot
  &lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-11-1&#34; name=&#34;__codelineno-11-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;sudo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;systemctl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;docker
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置非 root 用户使用 Docker
  &lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-12-1&#34; name=&#34;__codelineno-12-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;sudo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;usermod&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-aG&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;docker&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;username
&lt;a id=&#34;__codelineno-12-2&#34; name=&#34;__codelineno-12-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;newgrp&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;docker&lt;span class=&#34;w&#34;&gt;                     &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#更新docker用户组&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;60&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Fri, 08 Mar 2024 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>苹果字体 PingFang SC 的一些踩坑记录</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;p&gt;曾经在 《&lt;a href=&#34;https://www.weiyan.cc/cookbook/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/windows/2021-02-19-win-font/&#34;&gt;为 Windows 系统替换优雅的苹果字体&lt;/a&gt;》中提到可在 Windows 中使用苹方字体替代默认的微软雅黑，这里就有一个问题即需要在 Wondows 下安装苹方字体 —— 如果你的字体安装错误，很有可能导致你的浏览器或其他应用出现乱码。&lt;/p&gt;
&lt;h2 id=&#34;_1&#34;&gt;浏览器乱码&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;出现这个的原因主要是站点使用了 &lt;code&gt;PingFang SC&lt;/code&gt; 的字体设置。
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;body {
&lt;a id=&#34;__codelineno-0-2&#34; name=&#34;__codelineno-0-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    font-family: PingFang SC,microsoft yahei,sans-serif;
&lt;a id=&#34;__codelineno-0-3&#34; name=&#34;__codelineno-0-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;我们可以看到使用 F12 检查源码模式把 &lt;code&gt;font-family&lt;/code&gt; 中的 &lt;code&gt;PingFang SC&lt;/code&gt; 去掉后即可显示正常。&lt;/p&gt;
&lt;h2 id=&#34;_2&#34;&gt;字体安装后不起作用&lt;a class=&#34;headerlink&#34; href=&#34;#_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;这里就涉及一个 &lt;strong&gt;萍方&lt;/strong&gt; vs &lt;strong&gt;苹方&lt;/strong&gt; vs &lt;strong&gt;PingFang&lt;/strong&gt; 区别的一个问题。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;猛地看上去，萍方/苹方/PingFang 应该是同一个字体。但是，实际上的效果，却并不相同。那么，到底谁是真正的 pingfang sc呢？    &lt;/p&gt;
&lt;p&gt;这里以能否&lt;strong&gt;以 PingFang SC 为名称识别出来，作为标准&lt;/strong&gt;。为什么这么说呢？因为网页里面的 font-family，写的都是 pingfang sc，也许萍方/苹方都是差不多的字体，但是不能在网页里面自动识别出来。所以，就等于零。&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;body {
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;   font-family: PingFang SC,microsoft yahei,sans-serif;
&lt;a id=&#34;__codelineno-1-3&#34; name=&#34;__codelineno-1-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
比如，上述 css 定义，就来自于腾讯云主页。在实际的应用过程中，只有安装好的 pingfang sc 系列字体才能被识别【如下图中的右侧字体】。  &lt;br /&gt;
&lt;strong&gt;注意：萍方/苹方，在安装的时候，文件名也都是 pingfang-sc 之类的文件名。但是，安装完成的真正成品，可不是这个拼音名字。进而导致字体不能识别。&lt;/strong&gt;
&lt;img alt=&#34;pingfang sc 区别&#34; src=&#34;https://shub.weiyan.tech/kgarden/2024/01/fingfang-sc.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;From 《&lt;a href=&#34;https://newsn.net/say/css-font-family-pingfang.html&#34;&gt;由 pingfang sc 字体缺失，所暴露的字体加载顺序的潜规则&lt;/a&gt;》&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;_3&#34;&gt;解决方案&lt;a class=&#34;headerlink&#34; href=&#34;#_3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;参考 《&lt;a href=&#34;https://newsn.net/say/css-font-family-pingfang.html&#34;&gt;由 pingfang sc 字体缺失，所暴露的字体加载顺序的潜规则&lt;/a&gt;》 一文的方案。&lt;/p&gt;
&lt;h3 id=&#34;pingfang-sc&#34;&gt;安装 PingFang SC&lt;a class=&#34;headerlink&#34; href=&#34;#pingfang-sc&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;名称为 &lt;strong&gt;PingFang SC&lt;/strong&gt; (英文) 的字体找了很久才在 GitHub 翻到一个(以防丢失，个人 Fork 了过来)：&lt;a href=&#34;https://github.com/shenweiyan/PingFangSC-Fonts&#34;&gt;shenweiyan/PingFangSC-Fonts&lt;/a&gt;，如有需要可以直接下载安装。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;国内大多数网页，在定义网页字体的时候，都是先定义 PingFang SC，然后定义微软雅黑。那么：    &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;正常来说，win 系统是不会安装 PingFang SC 字体的，所以，显示微软雅黑，页面正常。    &lt;/li&gt;
&lt;li&gt;但是，一旦单独安装了 PingFang SC Light，页面就会识别出这个 Light 字体，页面不正常。    &lt;/li&gt;
&lt;li&gt;解决方案是：再安装一个 PingFang SC Regular，页面会在 Light 之前优先识别 Regular，页面正常。    &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果您非要在 win 下面安装 pingfang sc 字体，可能要三思而后安装了。李鬼似乎有点多...&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;PingFang SC Regular&#34; src=&#34;https://shub.weiyan.tech/kgarden/2024/01/pingfang-sc-regular.png&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;pingfang-sc_1&#34;&gt;删除 PingFang SC&lt;a class=&#34;headerlink&#34; href=&#34;#pingfang-sc_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;个人用的就是这一个方法，但是在 &lt;code&gt;C:\Windows\Fonts&lt;/code&gt; 中删除的时候会提示 &lt;strong&gt;该字体正在使用无法删除！所以，必须要关闭使用苹方字体的程序。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;因此，我们需要：&lt;/p&gt;
&lt;p&gt;参考：《&lt;a href=&#34;https://www.bilibili.com/video/BV1nc411575s/&#34;&gt;电脑安装新字体，浏览器字体全变了，如何删除正在使用的苹方字体&lt;/a&gt;》 - 哔哩哔哩&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在 Windows 任务管理的进程中把浏览器相关的全部结束掉，如 360 浏览器相关的进程、Microsoft edge、Google Chrome 等等，全部选择结束任务。    &lt;/li&gt;
&lt;li&gt;把其他可能使用苹方字体的，如 OneNote、WPS、微信、... 这些的进程也全部结束掉。    &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最后，回到 &lt;code&gt;C:\Windows\Fonts&lt;/code&gt; 中再次删除相应的苹方字体，发现即可成功删除。删除了这些苹方字体，浏览器上的字体显示也就恢复正常了。&lt;/p&gt;
&lt;h2 id=&#34;_4&#34;&gt;参考资料&lt;a class=&#34;headerlink&#34; href=&#34;#_4&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;苏南大叔，《&lt;a href=&#34;https://newsn.net/say/css-font-family-pingfang.html&#34;&gt;由 pingfang sc 字体缺失，所暴露的字体加载顺序的潜规则&lt;/a&gt;》&lt;/li&gt;
&lt;li&gt;科技猎手2023，《&lt;a href=&#34;https://www.bilibili.com/video/BV1nc411575s/&#34;&gt;电脑安装新字体，浏览器字体全变了，如何删除正在使用的苹方字体&lt;/a&gt;》 - 哔哩哔哩&lt;/li&gt;
&lt;/ol&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;49&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Tue, 09 Jan 2024 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>不要使用 requirements.txt</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;blockquote&gt;
&lt;p&gt;作者：&lt;a href=&#34;https://miikka.me/&#34;&gt;Miikka Koskinen&lt;/a&gt;     &lt;br /&gt;
编译：&lt;a href=&#34;https://weiyan.cc&#34;&gt;沈维燕&lt;/a&gt;     &lt;br /&gt;
时间：原文发表于 2023-10-31     &lt;br /&gt;
原文：&lt;a href=&#34;https://quanttype.net/posts/2023-10-31-do-not-use-requirements.txt.html&#34;&gt;Do not use requirements.txt&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;你是否在用 Python 开发后端服务？我有两条建议：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不要使用 &lt;code&gt;pip&lt;/code&gt; 和 &lt;code&gt;requirements.txt&lt;/code&gt; 来管理 Python 依赖。它们缺乏一些应该内置的关键功能。&lt;/li&gt;
&lt;li&gt;改用 &lt;a href=&#34;https://python-poetry.org/&#34;&gt;Poetry&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- more --&gt;

&lt;p&gt;对我来说，第一条建议毋庸置疑。第二条则更具有暂时性：Poetry 是一个很好的选择，但并非唯一值得考虑的选择。&lt;/p&gt;
&lt;p&gt;我将在下面进行解释。&lt;/p&gt;
&lt;p&gt;请注意：如果你使用 Python 做其他事情而不是构建后端服务，那么本文中的建议可能并不适用于你。例如，如果你是&lt;a href=&#34;https://gregoryszorc.com/blog/2023/10/30/my-user-experience-porting-off-setup.py/&#34;&gt;一个正在迁移 &lt;code&gt;setup.py&lt;/code&gt; 的库开发者&lt;/a&gt;，Poetry 并不明显是一个完美的选择。&lt;/p&gt;
&lt;h2 id=&#34;pip&#34;&gt;PIP 缺失的功能&lt;a class=&#34;headerlink&#34; href=&#34;#pip&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://pypi.org/project/pip/&#34;&gt;pip&lt;/a&gt; 是一个工具，你可以用它从 &lt;a href=&#34;https://pypi.org/&#34;&gt;The Python Package Index (PyPI)&lt;/a&gt; 中安装软件包。它随 Python 一起安装，如果你是 Python 开发者，你可能已经多次使用过它。&lt;/p&gt;
&lt;p&gt;管理 Python 项目依赖的传统方式是将它们列在一个名为 &lt;code&gt;requirements.txt&lt;/code&gt; 的文件中，并使用 &lt;code&gt;pip install -r requirements.txt&lt;/code&gt; 进行安装。然而，&lt;code&gt;pip&lt;/code&gt; 被设计成一个软件包安装工具，而不是一个功能齐全的项目工作流工具。&lt;strong&gt;pip 缺乏两个关键功能，即依赖的锁定文件 (dependency lockfiles) 和虚拟环境的自动管理(automatic management of virtualenvs)。&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;_1&#34;&gt;依赖锁定文件&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;如果你希望在所有环境中（比如你的笔记本电脑、持续集成(CI)、生产环境）获得相同的行为，你需要锁定你的依赖项及其传递依赖的版本。你可以在 &lt;code&gt;requirements.txt&lt;/code&gt; 中锁定你直接依赖的版本，例如，使用 &lt;code&gt;requests==2.31.0&lt;/code&gt; 而不是 &lt;code&gt;requests&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;然而，pip 不会锁定传递依赖的版本。这可以通过使用 &lt;a href=&#34;https://github.com/jazzband/pip-tools&#34;&gt;pip-tools&lt;/a&gt; 来解决，将 &lt;code&gt;requirements.txt&lt;/code&gt; 扩展成一个列出完整依赖图的文件，包括准确版本和构件的校验和(checksums for the artifacts)。pip-tools 很不错，但你需要自行设置并弄清楚它如何适应你的工作流程。&lt;/p&gt;
&lt;p&gt;在其他编程语言中，这个功能是基本要求的 - 例如，npm 多年来一直有 &lt;code&gt;package-lock.json&lt;/code&gt;，Cargo 也有 &lt;code&gt;Cargo.lock&lt;/code&gt;。这个功能实在应该是一个项目工作流工具中的内置功能。&lt;/p&gt;
&lt;h2 id=&#34;_2&#34;&gt;虚拟环境的自动管理&lt;a class=&#34;headerlink&#34; href=&#34;#_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在 Python 中创建隔离环境的方式是使用 &lt;a href=&#34;https://docs.python.org/3/library/venv.html&#34;&gt;virtualenvs&lt;/a&gt;。传统上，你需要手动管理它们：通过一个 shell 命令创建一个（比如 &lt;code&gt;python -m venv example&lt;/code&gt; 来创建名为 &lt;code&gt;example&lt;/code&gt; 的虚拟环境），当你想要使用它时，需要用另一个 shell 命令来激活它。&lt;/p&gt;
&lt;p&gt;这容易出错：忘记激活虚拟环境或者激活错误的虚拟环境是常见的错误。有一堆的解决方法。例如，你可以使用 &lt;a href=&#34;https://github.com/pyenv/pyenv-virtualenv&#34;&gt;pyenv-virtualenv&lt;/a&gt;，在进入项目目录时让你的 shell 自动激活一个虚拟环境。&lt;a href=&#34;https://github.com/direnv/direnv/wiki/Python&#34;&gt;direnv&lt;/a&gt; 也可以做到。&lt;/p&gt;
&lt;p&gt;同样，这也应该成为工作流工具中的一个内置功能。你不应该需要将多个工具粘合在一起。你不会听到 npm 或 Cargo 用户在虚拟环境上遇到问题的。&lt;/p&gt;
&lt;h2 id=&#34;poetry&#34;&gt;Poetry 及其他选择&lt;a class=&#34;headerlink&#34; href=&#34;#poetry&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;幸运的是，许多人已经意识到这些问题并努力解决它们。不太幸运的是，这导致了大量的 Python 项目工作流工具涌现。那么该如何选择呢？&lt;/p&gt;
&lt;p&gt;我的建议是：&lt;strong&gt;选择 &lt;a href=&#34;https://python-poetry.org/docs/&#34;&gt;Poetry&lt;/a&gt;&lt;/strong&gt;。它有锁定文件，有虚拟环境管理，而且很受欢迎且在积极开发中。根据我的经验，它并不完美，但是它起作用。&lt;/p&gt;
&lt;p&gt;你也可以考虑 &lt;a href=&#34;https://hatch.pypa.io/latest/&#34;&gt;Hatch&lt;/a&gt; 或 &lt;a href=&#34;https://github.com/pdm-project/pdm&#34;&gt;PDM&lt;/a&gt;。它们与 Poetry 相似。我自己没有使用过它们，但我听说其他人成功地使用了它们。Hatch 似乎在库作者 (library authors) 中特别受欢迎。&lt;/p&gt;
&lt;p&gt;如果你正在寻找一个更强大的选项，可以处理多个子项目，&lt;a href=&#34;https://www.pantsbuild.org/&#34;&gt;Pants 构建系统&lt;/a&gt;在 Python 支持方面做得很好。然而，它的学习曲线相对陡峭。&lt;/p&gt;
&lt;p&gt;最后，如果你正在寻找一个类似 rustup 那样可以为你安装 Python 的解决方案，那么有 &lt;a href=&#34;https://github.com/mitsuhiko/rye&#34;&gt;rye&lt;/a&gt;。它是新的实验性工具，但也许它对你来说是正确的选择？&lt;/p&gt;
&lt;h2 id=&#34;_3&#34;&gt;哪个是权威的工作流工具？&lt;a class=&#34;headerlink&#34; href=&#34;#_3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;如果 Python 自带一个权威的项目工作流工具会很好。很多人希望 pip 成为这样一个工具。Node.js 自带 npm，Rust 自带 Cargo，那么为什么 Python 就不能有一个呢？为什么会有这么多竞争的选择呢？&lt;/p&gt;
&lt;p&gt;据我所知，最大的障碍是，由于 Python 被广泛使用且用于许多不同的用例，制定一个通用的官方解决方案是困难且缓慢的（并且资金不足的）工作。另外，也不清楚 pip 是否适合这些功能。&lt;/p&gt;
&lt;p&gt;如果你想了解更多信息，请阅读和听取这些与我不同、深度参与 Python 社区的人的意见：  &lt;br /&gt;
- Stargirl (Thea Flowers) on Fediverse：《&lt;a href=&#34;https://hachyderm.io/@stargirl/109697057391904145&#34;&gt;所以你想解决 Python 打包问题：一个实用指南&lt;/a&gt;》
- Pradyun Gedam：《&lt;a href=&#34;https://pradyunsg.me/blog/2023/01/21/thoughts-on-python-packaging/&#34;&gt;关于 Python 打包生态系统的思考&lt;/a&gt;》
- Talk Python to Me (podcast)：《&lt;a href=&#34;https://talkpython.fm/episodes/show/406/reimagining-pythons-packaging-workflows&#34;&gt;重新构想 Python 的打包工作流程&lt;/a&gt;》&lt;/p&gt;
&lt;h2 id=&#34;clojure&#34;&gt;关于 Clojure&lt;a class=&#34;headerlink&#34; href=&#34;#clojure&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;阅读我的博客的 Clojure 开发者可能会问：嘿，Clojure 怎么样？为什么我们没有锁定文件呢？这是一个很好的问题！&lt;/p&gt;
&lt;p&gt;Clojure 社区通过始终使用明确的版本而不是版本范围来解决了这个问题，即使在库中也是如此。版本描述实际上支持范围，但没有人会使用它们。这样，只要版本解析算法稳定，你总是会得到相同的版本。&lt;/p&gt;
&lt;p&gt;理论上，传递依赖项版本不匹配可能是一个问题，但 Clojure 支持一种编码风格，很少引起问题。&lt;/p&gt;
&lt;p&gt;相比之下，在 Python 和 Node.js 社区，通常期望库列出其依赖项的版本范围，而软件包管理工具会抱怨版本不匹配的问题。&lt;/p&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;44&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Wed, 03 Jan 2024 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>Pandas 处理 Excel 常用方法技巧</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;p&gt;在使用 Pandas 前需要学习了解一下 Series 和 DataFrame 的基本数据结构和索引的相关概念，之后就可以练习基本的 Excel操作。Pandas 读取一个 Excel 文件后会将其转化为 DataFrame 对象，每一列或行就是一个 Series 对象。这里我们看下如何对一个 excel 进行读写，以及 Sheet、行列、表头处理的一些常用技巧。&lt;/p&gt;
&lt;h2 id=&#34;excel&#34;&gt;读取 Excel&lt;a class=&#34;headerlink&#34; href=&#34;#excel&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;如果您想读取 Excel 表格中的数据，可以使用 &lt;code&gt;read_excel()&lt;/code&gt; 方法，其语法格式如下：&lt;/p&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;pd.read_excel(io, sheet_name=0, header=0, names=None, index_col=None,
&lt;a id=&#34;__codelineno-0-2&#34; name=&#34;__codelineno-0-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;              usecols=None, squeeze=False,dtype=None, engine=None,
&lt;a id=&#34;__codelineno-0-3&#34; name=&#34;__codelineno-0-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;              converters=None, true_values=None, false_values=None,
&lt;a id=&#34;__codelineno-0-4&#34; name=&#34;__codelineno-0-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;              skiprows=None, nrows=None, na_values=None, parse_dates=False,
&lt;a id=&#34;__codelineno-0-5&#34; name=&#34;__codelineno-0-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;              date_parser=None, thousands=None, comment=None, skipfooter=0,
&lt;a id=&#34;__codelineno-0-6&#34; name=&#34;__codelineno-0-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;              convert_float=True, **kwds)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;下表对常用参数做了说明：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align: left;&#34;&gt;参数名称&lt;/th&gt;
&lt;th style=&#34;text-align: left;&#34;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;io&lt;/td&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;表示 Excel 文件的存储路径。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;sheet_name&lt;/td&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;要读取的工作表名称，默认0，即读取第一个工作表作为 DataFrame(一定要加&lt;code&gt;sheet_name=None&lt;/code&gt;，才能读取出所有的 sheet，否则默认读取第一个 sheet)。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;header&lt;/td&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;指定作为列名的行，默认0，即取第一行的值为列名；若数据不包含列名，则设定 header = None。若将其设置为 header=2，则表示将前两行作为多重索引。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;names&lt;/td&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;一般适用于Excel缺少列名，或者需要重新定义列名的情况；names的长度必须等于Excel表格列的长度，否则会报错。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;index_col&lt;/td&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;用做行索引的列，可以是工作表的列名称，如 index_col = &#39;列名&#39;，也可以是整数或者列表。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;usecols&lt;/td&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;int或list类型，默认为None，表示需要读取所有列。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;squeeze&lt;/td&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;boolean，默认为False，如果解析的数据只包含一列，则返回一个Series。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;converters&lt;/td&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;规定每一列的数据类型。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;skiprows&lt;/td&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;接受一个列表，表示跳过指定行数的数据，从头部第一行开始。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;nrows&lt;/td&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;需要读取的行数。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;skipfooter&lt;/td&gt;
&lt;td style=&#34;text-align: left;&#34;&gt;接受一个列表，省略指定行数的数据，从尾部最后一行开始。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;示例如下所示：
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-1-3&#34; name=&#34;__codelineno-1-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 读取所有Sheet&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-4&#34; name=&#34;__codelineno-1-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_excel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;example.xlsx&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sheet_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-5&#34; name=&#34;__codelineno-1-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-1-6&#34; name=&#34;__codelineno-1-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 读取第一个、第二个和名为&amp;quot;Sheet5&amp;quot;的工作表作为 DataFrame 的字典&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-7&#34; name=&#34;__codelineno-1-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_excel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;example.xlsx&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sheet_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Sheet5&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h2 id=&#34;_1&#34;&gt;获取行数和列数&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-2&#34; name=&#34;__codelineno-2-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-2-3&#34; name=&#34;__codelineno-2-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_excel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;example.xlsx&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-4&#34; name=&#34;__codelineno-2-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 行索引&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-5&#34; name=&#34;__codelineno-2-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;a id=&#34;__codelineno-2-6&#34; name=&#34;__codelineno-2-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# RangeIndex(start=0, stop=3747, step=1)&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-7&#34; name=&#34;__codelineno-2-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-2-8&#34; name=&#34;__codelineno-2-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 输出元祖,分别为行数和列数,默认第一行是表头不算行数&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-9&#34; name=&#34;__codelineno-2-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shape&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 
&lt;a id=&#34;__codelineno-2-10&#34; name=&#34;__codelineno-2-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# (3747, 4)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;_2&#34;&gt;获取表头&lt;a class=&#34;headerlink&#34; href=&#34;#_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;read_excel&lt;/code&gt; 默认是把 excel 的第一行当成表头。注意：如果 &lt;code&gt;read_excel&lt;/code&gt; 的 &lt;code&gt;sheet_name=None&lt;/code&gt;，读取的是所有 excel 的 sheet_name(key) 和 sheet_values(values) 组成的字典，&lt;code&gt;df.keys()&lt;/code&gt; 的结果是所有 sheet_name，即名字(字典的键)。&lt;/p&gt;
&lt;h3 id=&#34;sheet&#34;&gt;获取第一个 sheet&lt;a class=&#34;headerlink&#34; href=&#34;#sheet&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;这时候 &lt;code&gt;df.keys()&lt;/code&gt; 和 &lt;code&gt;df.columns&lt;/code&gt; 的结果是一样的，都是第一个 sheet 的表头。&lt;/p&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-2&#34; name=&#34;__codelineno-3-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-3&#34; name=&#34;__codelineno-3-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_excel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;input.xlsx&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-4&#34; name=&#34;__codelineno-3-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-5&#34; name=&#34;__codelineno-3-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;---------------&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-6&#34; name=&#34;__codelineno-3-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;columns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;sheet_1&#34;&gt;获取所有 sheet&lt;a class=&#34;headerlink&#34; href=&#34;#sheet_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pandas&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pd&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-2&#34; name=&#34;__codelineno-4-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-4-3&#34; name=&#34;__codelineno-4-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 参数为 None 代表读取所有 sheet&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-4&#34; name=&#34;__codelineno-4-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_excel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;input.xlsx&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sheet_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-5&#34; name=&#34;__codelineno-4-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-4-6&#34; name=&#34;__codelineno-4-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 获取所有sheet名字, 如果read_excel参数不是None, 则df.keys()为表头&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-7&#34; name=&#34;__codelineno-4-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;sheet_names&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
&lt;a id=&#34;__codelineno-4-8&#34; name=&#34;__codelineno-4-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sheet_names&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;_3&#34;&gt;参考资料&lt;a class=&#34;headerlink&#34; href=&#34;#_3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;老董，《&lt;a href=&#34;https://www.python66.com/pandasshujufenxi/268.html&#34;&gt;pandas获取excel的行数,列数,表头,sheet,前后行等数据&lt;/a&gt;》，&lt;a href=&#34;https://www.python66.com/&#34;&gt;Python编程网&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;《&lt;a href=&#34;https://c.biancheng.net/pandas/excel.html&#34;&gt;Pandas Excel读写操作详解&lt;/a&gt;》，&lt;a href=&#34;https://c.biancheng.net/&#34;&gt;C语言中文网&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;《&lt;a href=&#34;https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html&#34;&gt;pandas.read_excel — pandas 2.1.4 documentation&lt;/a&gt;》，&lt;a href=&#34;https://pandas.pydata.org/docs/index.html&#34;&gt;pandas documentation — pandas 2.1.4 documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;40&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Tue, 26 Dec 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>Python3 编译安装 --with-openssl 无效的问题</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;p&gt;很多人在使用 Python3 经常会遇到一些 openssl 版本太低从而导致包无法正常使用的问题，尤其是 &lt;code&gt;urllib3&lt;/code&gt; 这个包。
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;Python&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;3.9.18&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Sep&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2023&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 
&lt;a id=&#34;__codelineno-0-2&#34; name=&#34;__codelineno-0-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GCC&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;4.8.5&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;20150623&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Red&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Hat&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;4.8.5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;44&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;on&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;linux&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-3&#34; name=&#34;__codelineno-0-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;Type&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;help&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;copyright&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;credits&amp;quot;&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;or&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;license&amp;quot;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;more&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;information&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-4&#34; name=&#34;__codelineno-0-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;requests&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-5&#34; name=&#34;__codelineno-0-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;Traceback&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;most&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;recent&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;call&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;last&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-6&#34; name=&#34;__codelineno-0-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;  &lt;span class=&#34;n&#34;&gt;File&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;module&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-7&#34; name=&#34;__codelineno-0-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;  &lt;span class=&#34;n&#34;&gt;File&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;/usr/local/software/python-3.9.18/lib/python3.9/site-packages/requests/__init__.py&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;43&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;module&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-8&#34; name=&#34;__codelineno-0-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;urllib3&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-9&#34; name=&#34;__codelineno-0-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;  &lt;span class=&#34;n&#34;&gt;File&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;/usr/local/software/python-3.9.18/lib/python3.9/site-packages/urllib3/__init__.py&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;41&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;module&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-10&#34; name=&#34;__codelineno-0-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;raise&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;ImportError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-11&#34; name=&#34;__codelineno-0-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;ne&#34;&gt;ImportError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;urllib3&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;v2&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;.0&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;only&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;supports&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OpenSSL&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.1.1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;currently&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ssl&amp;#39;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;module&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;compiled&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;OpenSSL 1.0.2k-fips  26 Jan 2017&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;See&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;github&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;urllib3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;urllib3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;issues&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2168&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-12&#34; name=&#34;__codelineno-0-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;ssl&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-13&#34; name=&#34;__codelineno-0-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;urllib3&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-14&#34; name=&#34;__codelineno-0-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;Traceback&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;most&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;recent&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;call&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;last&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-15&#34; name=&#34;__codelineno-0-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;  &lt;span class=&#34;n&#34;&gt;File&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;module&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-16&#34; name=&#34;__codelineno-0-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;  &lt;span class=&#34;n&#34;&gt;File&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;/usr/local/software/python-3.9.18/lib/python3.9/site-packages/urllib3/__init__.py&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;41&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;module&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-17&#34; name=&#34;__codelineno-0-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;k&#34;&gt;raise&lt;/span&gt; &lt;span class=&#34;ne&#34;&gt;ImportError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-18&#34; name=&#34;__codelineno-0-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;ne&#34;&gt;ImportError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;urllib3&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;v2&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;.0&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;only&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;supports&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OpenSSL&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.1.1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;currently&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ssl&amp;#39;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;module&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;compiled&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;OpenSSL 1.0.2k-fips  26 Jan 2017&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;See&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;github&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;urllib3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;urllib3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;issues&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2168&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;网络上有很多关于这方面的教程，主要解决方案：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;降级 &lt;code&gt;urllib3&lt;/code&gt; 的版本，例如：&lt;code&gt;pip install --upgrade urllib3==1.26.15&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;重新安装一个更高版本的 OpenSSL，然后备份并替换系统原来的 openssl，最后重新编译安装 Python。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;个人觉得这两个方法都不够好，尤其是第二个方法 —— &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;新装了一个更高版本的 OpenSSL，但是又不想替换系统原来的 openssl 以免出现新的问题（或者没有管理员权限）；&lt;/li&gt;
&lt;li&gt;在编译的时候使用 &lt;code&gt;--with-openssl&lt;/code&gt; 指定了新装的 OpenSSL 路径，编译安装完成后 Python &lt;strong&gt;仍然使用旧版本的 OpenSSL&lt;/strong&gt;；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;很不幸的是，个人在 CentOS 7.3 + Python-3.9.18 就遇到了这个问题。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;新装了 OpenSSL 3.0.10 
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;wget https://www.openssl.org/source/openssl-3.0.10.tar.gz --no-check-certificate
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;tar zvxf openssl-3.0.10.tar.gz
&lt;a id=&#34;__codelineno-1-3&#34; name=&#34;__codelineno-1-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;cd openssl-3.0.10
&lt;a id=&#34;__codelineno-1-4&#34; name=&#34;__codelineno-1-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;./config --prefix=/usr/local/software/openssl-3.0.10 shared zlib
&lt;a id=&#34;__codelineno-1-5&#34; name=&#34;__codelineno-1-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;添加 &lt;code&gt;~/.bashrc&lt;/code&gt; 环境变量
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;export PATH=/usr/local/software/openssl-3.0.10/bin:$PATH
&lt;a id=&#34;__codelineno-2-2&#34; name=&#34;__codelineno-2-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;export LD_LIBRARY_PATH=/usr/local/software/openssl-3.0.10/lib64:$LD_LIBRARY_PATH
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重新编译安装 Python-3.9.18
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;./configure --prefix=/usr/local/software/python-3.9.18 --with-openssl=/usr/local/software/openssl-3.0.10/
&lt;a id=&#34;__codelineno-3-2&#34; name=&#34;__codelineno-3-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;等编译完成后，你会神奇的发现重新编译安装后 Python 3.9.18 &lt;strong&gt;仍然使用旧版本的 OpenSSL (OpenSSL 1.0.2k-fips  26 Jan 2017)&lt;/strong&gt;！&lt;/p&gt;
&lt;p&gt;其实，这还是因为 Python 在重新编译的时候没有识别到新编译的 OpenSSL，因此，我们需要把重新编译的命令调整一下：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;/configure --prefix=/usr/local/software/python-3.9.18 \
&lt;a id=&#34;__codelineno-4-2&#34; name=&#34;__codelineno-4-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;--with-openssl=/usr/local/software/openssl-3.0.10/ \
&lt;a id=&#34;__codelineno-4-3&#34; name=&#34;__codelineno-4-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;LDFLAGS=&amp;quot;-L/usr/local/software/openssl-3.0.10/lib64&amp;quot; \
&lt;a id=&#34;__codelineno-4-4&#34; name=&#34;__codelineno-4-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;CPPFLAGS=&amp;quot;-I/usr/local/software/openssl-3.0.10/include&amp;quot; \
&lt;a id=&#34;__codelineno-4-5&#34; name=&#34;__codelineno-4-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;PKG_CONFIG_PATH=&amp;quot;/usr/local/software/openssl-3.0.10/lib64/pkgconfig&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;这样子一来，问题就迎刃而解了，编译安装完后，你会发现 Python 3.9.18 已经成功用用上了 OpenSSL 3.0.10 1 Aug 2023：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$ python3 -c &amp;quot;import ssl; print(ssl.OPENSSL_VERSION)&amp;quot;
&lt;a id=&#34;__codelineno-5-2&#34; name=&#34;__codelineno-5-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;OpenSSL 3.0.10 1 Aug 2023
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;img alt=&#34;OpenSSL 3.0.10 on Python3.9.18&#34; src=&#34;https://slab-1251708715.cos.ap-guangzhou.myqcloud.com/Gitbook/2023/python-3.9.18-openssl-3.0.10.png&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;_1&#34;&gt;参考资料&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/urllib3/urllib3/issues/2168&#34;&gt;Drop support for OpenSSL&amp;lt;1.1.1 - urllib3/urllib3#2168&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;27&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Fri, 01 Dec 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>单行 Python 代码片段</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;blockquote&gt;
&lt;p&gt;Via：&lt;a href=&#34;https://muhammadraza.me/2023/python-oneliners&#34;&gt;https://muhammadraza.me/2023/python-oneliners&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我已经沉浸在 Python 编程世界大约三年了。在这段时间里，我开始欣赏这种多功能语言的优雅和强大。在这篇既有趣又具有教育意义的文章中，我将展示一系列单行 Python 代码片段。无论您是经验丰富的开发人员还是初学者，这些简洁的代码行都可以让您深入了解 Python 的简单性和有效性，它们展示一行代码如何完成在其他语言中可能需要几行代码才能完成的任务。&lt;/p&gt;
&lt;!-- more --&gt;

&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;反转字符串
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;reversed_string&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Hello World&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[::&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;检查数字是否为偶数
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;is_even&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;lambda&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;is_even&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#True&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;求两个列表的交集
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;intersection&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;list1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;list2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;从列表中删除重复项
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;no_duplicates&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;my_list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不使用 &lt;code&gt;len()&lt;/code&gt; 计算字符串的长度
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Hello World&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;检查一个列表是否包含另一个列表的所有元素
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;contains_all&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;elem&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;list1&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;elem&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;list2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;生成一串随机字符
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-6-1&#34; name=&#34;__codelineno-6-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;random&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; 
&lt;a id=&#34;__codelineno-6-2&#34; name=&#34;__codelineno-6-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;random_str&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;random&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;abcdefghijklmnopqrstuvwxyz&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将整数列表转换为单个数字
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-7-1&#34; name=&#34;__codelineno-7-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;num&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;回文(Palindromic)检查
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-8-1&#34; name=&#34;__codelineno-8-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;is_palindrome&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;lambda&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[::&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;列表展开
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-9-1&#34; name=&#34;__codelineno-9-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;flatten_list&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在一个列表中找到出现频率最高的元素
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-10-1&#34; name=&#34;__codelineno-10-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;most_frequent&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;my_list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;my_list&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;合并两个字典
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-11-1&#34; name=&#34;__codelineno-11-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;merged_dict&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dict1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dict2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最后，我希望您喜欢阅读本文并有机会学习新东西。如果您有任何反馈，请随时在下面发表评论。如果您不想公开发表评论，可以随时给我发送电子邮件。我也很想看到你最喜欢的 python one liner 代码片段。&lt;/p&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;30&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Fri, 01 Dec 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>不同版本服务器间 SSH 免密码登录失败</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;p&gt;今天从服务器 A（CentOS 7.3）配置 SSH 无密码登录服务器 B（CentOS Steam 9），发现执行以下常规操作后无法实现：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$ ssh-keygen
&lt;a id=&#34;__codelineno-0-2&#34; name=&#34;__codelineno-0-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$ ssh-copy-id -i ~/.ssh/id_rsa.pub shenweiyan@66.xx.xx.xx  # ssh-copy-id user@rhel-9-server-IP
&lt;a id=&#34;__codelineno-0-3&#34; name=&#34;__codelineno-0-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$ ssh shenweiyan@66.xx.xx.xx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;img alt=&#34;ssh-keygen-need-passwd&#34; src=&#34;https://slab-1251708715.cos.ap-guangzhou.myqcloud.com/KGarden/2023/ssh-keygen-passwd.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;后来，更换 ecdsa 算法，问题才解决：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$ ssh-keygen -t ecdsa
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$ ssh-copy-id -i ~/.ssh/id_ecdsa.pub shenweiyan@66.xx.xx.xx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;img alt=&#34;ssh-keygen-ecdsa&#34; src=&#34;https://slab-1251708715.cos.ap-guangzhou.myqcloud.com/KGarden/2023/ssh-keygen-ecdsa.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;根本原因就在于 SHA-1 已经在 RHEL9 中弃用了！&lt;/p&gt;
&lt;p&gt;从 RHEL9 的官网文档《&lt;a href=&#34;https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/considerations_in_adopting_rhel_9/index#ref_considerations-security-crypto_changes-to-security&#34;&gt;1.0.2. Crypto-policies, RHEL core cryptographic components, and protocols&lt;/a&gt;（加密策略、RHEL 核心加密组件和协议）》可以看到 SHA-1 已经在 RHEL9 中弃用了！&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In RHEL 9, SHA-1 usage for signatures is restricted in the DEFAULT system-wide cryptographic policy. Except for HMAC, SHA-1 is no longer allowed in TLS, DTLS, SSH, IKEv2, DNSSEC, and Kerberos protocols. Individual applications not controlled by the RHEL system-wide crypto policies are also moving away from using SHA-1 hashes in RHEL 9.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在 RHEL 9 中，用于签名的 SHA-1 用法在 DEFAULT 系统范围的加密策略中受到限制。除 HMAC 外，TLS、DTLS、&lt;strong&gt;SSH&lt;/strong&gt;、IKEv2、DNSSEC 和 Kerberos 协议中不再允许使用 SHA-1。不受 RHEL 系统范围的加密策略控制的单个应用程序在 RHEL 9 中也不再使用 SHA-1 hashes。&lt;/p&gt;
&lt;h2 id=&#34;_1&#34;&gt;跨用户免密码登录&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;从服务器 A（CentOS 7.3）的 root 用户已配置 SSH 无密码登录服务器 B（CentOS Steam 9）的 shenweiyan 用户。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在服务器 A（CentOS 7.3）的 root 用户下执行以下命令，在 &lt;code&gt;/root/.ssh&lt;/code&gt; 目录会得到两个文件：&lt;/li&gt;
&lt;li&gt;私钥文件：&lt;strong&gt;id_ecdsa&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;公钥文件：&lt;strong&gt;id_ecdsa.pub&lt;/strong&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;root@centos-vm-7 11:47:20 ~ 
&lt;a id=&#34;__codelineno-2-2&#34; name=&#34;__codelineno-2-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$ ssh-keygen -t ecdsa
&lt;a id=&#34;__codelineno-2-3&#34; name=&#34;__codelineno-2-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Generating public/private ecdsa key pair.
&lt;a id=&#34;__codelineno-2-4&#34; name=&#34;__codelineno-2-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Enter file in which to save the key (/root/.ssh/id_ecdsa): 
&lt;a id=&#34;__codelineno-2-5&#34; name=&#34;__codelineno-2-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Enter passphrase (empty for no passphrase): 
&lt;a id=&#34;__codelineno-2-6&#34; name=&#34;__codelineno-2-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Enter same passphrase again: 
&lt;a id=&#34;__codelineno-2-7&#34; name=&#34;__codelineno-2-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Your identification has been saved in /root/.ssh/id_ecdsa.
&lt;a id=&#34;__codelineno-2-8&#34; name=&#34;__codelineno-2-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Your public key has been saved in /root/.ssh/id_ecdsa.pub.
&lt;a id=&#34;__codelineno-2-9&#34; name=&#34;__codelineno-2-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;The key fingerprint is:
&lt;a id=&#34;__codelineno-2-10&#34; name=&#34;__codelineno-2-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;ad:15:01:5c:a9:db:69:64:2b:0c:4c:5f:be:f9:e1:44 root@centos-vm-7
&lt;a id=&#34;__codelineno-2-11&#34; name=&#34;__codelineno-2-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;The key&amp;#39;s randomart image is:
&lt;a id=&#34;__codelineno-2-12&#34; name=&#34;__codelineno-2-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;+--[ECDSA  256]---+
&lt;a id=&#34;__codelineno-2-13&#34; name=&#34;__codelineno-2-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;|       ..oo.     |
&lt;a id=&#34;__codelineno-2-14&#34; name=&#34;__codelineno-2-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;|      . . o.     |
&lt;a id=&#34;__codelineno-2-15&#34; name=&#34;__codelineno-2-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;|     o . +.      |
&lt;a id=&#34;__codelineno-2-16&#34; name=&#34;__codelineno-2-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;|      o o.+.E    |
&lt;a id=&#34;__codelineno-2-17&#34; name=&#34;__codelineno-2-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;|       oS=o*     |
&lt;a id=&#34;__codelineno-2-18&#34; name=&#34;__codelineno-2-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;|        +oB o    |
&lt;a id=&#34;__codelineno-2-19&#34; name=&#34;__codelineno-2-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;|        .o + .   |
&lt;a id=&#34;__codelineno-2-20&#34; name=&#34;__codelineno-2-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;|            o    |
&lt;a id=&#34;__codelineno-2-21&#34; name=&#34;__codelineno-2-21&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-21&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;21 &#34;&gt;&lt;/span&gt;&lt;/a&gt;|                 |
&lt;a id=&#34;__codelineno-2-22&#34; name=&#34;__codelineno-2-22&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-22&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;22 &#34;&gt;&lt;/span&gt;&lt;/a&gt;+-----------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;把服务器 A 下 root 用户的公钥文件拷贝到服务器 B（CentOS Steam 9）的 shenweiyan 用户的 authorized_keys 中；
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;root@centos-vm-7 11:53:25 ~
&lt;a id=&#34;__codelineno-3-2&#34; name=&#34;__codelineno-3-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$ ssh-copy-id -i ~/.ssh/id_ecdsa.pub shenweiyan@66.xx.xx.xx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将公钥拷贝至目标服务器 B 后，在源服务器 A 通过密钥跨用户免密码登录云服务器。
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;root@centos-vm-7 11:58:47 /root 
&lt;a id=&#34;__codelineno-4-2&#34; name=&#34;__codelineno-4-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$ ssh shenweiyan@66.xx.xx.xx  # ssh -i id_ecdsa shenweiyan@66.xx.xx.xx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;_2&#34;&gt;参考资料&lt;a class=&#34;headerlink&#34; href=&#34;#_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.yuque.com/shenweiyan/cookbook/rhel-9-no-hostkey-alg&#34;&gt;RHEL6 ssh 到 RHEL9 的 no hostkey alg 错误&lt;/a&gt;，语雀&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://serverfault.com/questions/1095898/how-can-i-use-a-legacy-ssh-rsa-key-on-centos-9-stream&#34;&gt;How can I use a legacy ssh-rsa key on CentOS 9 Stream?&lt;/a&gt;，Server Fault&lt;/li&gt;
&lt;/ul&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;25&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Thu, 30 Nov 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>Micro/Mamba 安装与注意事项</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;p&gt;记录一下 Micromamba/Mamba 安装的步骤和注意事项。&lt;/p&gt;
&lt;h2 id=&#34;mamba&#34;&gt;Mamba 安装&lt;a class=&#34;headerlink&#34; href=&#34;#mamba&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Mamba 可以使用 Mambaforge 方法和已有 Mini/conda 的方式安装，官方推荐的是前面一种，即使用 Mambaforge 进行全新安装。&lt;/p&gt;
&lt;h3 id=&#34;_1&#34;&gt;全新安装&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;关于 mamba 的安装，官方推荐 &lt;a href=&#34;https://mamba.readthedocs.io/en/latest/mamba-installation.html&#34;&gt;Fresh install&lt;/a&gt;，即全新安装。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We recommend that you start with the &lt;a href=&#34;https://github.com/conda-forge/miniforge#mambaforge&#34;&gt;Mambaforge distribution&lt;/a&gt;. Mambaforge comes with the popular conda-forge channel preconfigured, but you can modify the configuration to use any channel you like. Note that Anaconda channels are generally incompatible with conda-forge, so you should not mix them.      &lt;br /&gt;
我们建议您从 Mambaforge 发行版开始。 Mambaforge 预配置了流行的 conda-forge 通道，但您可以修改配置以使用您喜欢的任何通道。请注意，Anaconda 通道通常与 conda-forge 不兼容，因此您不应混合使用它们。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;其实就是：        &lt;br /&gt;
1. 先去 &lt;a href=&#34;https://github.com/conda-forge/miniforge#mambaforge&#34;&gt;Mambaforge distribution&lt;/a&gt; 下载 Mambaforge-Linux-x86_64.sh。        &lt;br /&gt;
2. 执行 &lt;code&gt;sh Mambaforge-Linux-x86_64.sh&lt;/code&gt; 安装命令。&lt;/p&gt;
&lt;h3 id=&#34;conda&#34;&gt;在已有的 conda 中安装&lt;a class=&#34;headerlink&#34; href=&#34;#conda&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;官方文档中明确说不推荐这种安装 Mamba 的方式，他们强烈建议使用 Mambaforge 方法（见上文）。&lt;/p&gt;
&lt;p&gt;这种方法，要获取 &lt;code&gt;mamba&lt;/code&gt; ，其实只需将其从 &lt;code&gt;conda-forge&lt;/code&gt; 通道安装到基础环境中即可；但是需要注意 &lt;strong&gt;Installing mamba into any other environment than base is not supported&lt;/strong&gt;，即&lt;strong&gt;不支持将 mamba 安装到 base 之外的任何其他环境中&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;首先，安装 Miniconda。&lt;/p&gt;
&lt;p&gt;参考 &lt;a href=&#34;https://docs.conda.io/en/latest/miniconda.html&#34;&gt;https://docs.conda.io/en/latest/miniconda.html&lt;/a&gt;，下载完 Miniconda3-latest-Linux-x86_64.sh，sh 执行一下就可以安装了。
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;sh Miniconda3-latest-Linux-x86_64.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
然后，安装 mamba。
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;~/miniconda3/bin/conda install -c conda-forge mamba
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For both &lt;code&gt;mamba&lt;/code&gt; and &lt;code&gt;conda&lt;/code&gt;, the &lt;code&gt;base&lt;/code&gt; environment is meant to hold their dependencies. It is strongly discouraged to install anything else in the base envionment. Doing so may break &lt;code&gt;mamba&lt;/code&gt; and &lt;code&gt;conda&lt;/code&gt; installation.    &lt;br /&gt;
对于 &lt;code&gt;mamba&lt;/code&gt; 和 &lt;code&gt;conda&lt;/code&gt; ， &lt;code&gt;base&lt;/code&gt; 环境旨在保存它们的依赖关系。强烈建议不要在基础环境中安装任何其他东西。这样做可能会破坏 &lt;code&gt;mamba&lt;/code&gt; 和 &lt;code&gt;conda&lt;/code&gt; 安装。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;micromamba&#34;&gt;Micromamba 安装&lt;a class=&#34;headerlink&#34; href=&#34;#micromamba&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;参考 &lt;a href=&#34;https://mamba.readthedocs.io/en/latest/micromamba-installation.html&#34;&gt;https://mamba.readthedocs.io/en/latest/micromamba-installation.html&lt;/a&gt;。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;micromamba&lt;/code&gt; is a fully statically-linked, self-contained, executable. This means that the &lt;code&gt;base&lt;/code&gt; environment is completely empty. The configuration for &lt;code&gt;micromamba&lt;/code&gt; is slighly different, namely all environments and cache will be created by default under the &lt;code&gt;MAMBA_ROOT_PREFIX&lt;/code&gt; environment variable. There is also no pre-configured &lt;code&gt;.condarc&lt;/code&gt;/&lt;code&gt;.mambarc&lt;/code&gt; shipped with micromamba (they are however still read if present).                       &lt;br /&gt;
&lt;code&gt;micromamba&lt;/code&gt; 是一个完全静态链接的、独立的可执行文件。这意味着 &lt;code&gt;base&lt;/code&gt; 环境完全是空的。&lt;code&gt;micromamba&lt;/code&gt; 的配置略有不同，即默认情况下将在 &lt;code&gt;MAMBA_ROOT_PREFIX&lt;/code&gt; 环境变量下创建所有环境和缓存。&lt;code&gt;micromamba&lt;/code&gt; 也没有预配置的 &lt;code&gt;.condarc&lt;/code&gt; / &lt;code&gt;.mambarc&lt;/code&gt;（但是，如果存在，它们仍然会被读取）。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;_2&#34;&gt;脚本安装&lt;a class=&#34;headerlink&#34; href=&#34;#_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果您使用的是 macOS、Linux 或 Windows 上的 Git Bash，则有一种简单的安装方法 &lt;code&gt;micromamba&lt;/code&gt;。只需在您喜欢的 shell 中执行安装脚本即可。&lt;/p&gt;
&lt;p&gt;对于 Linux、macOS 或 Windows 上的 Git Bash，请使用以下命令安装：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&amp;quot;${SHELL}&amp;quot; &amp;lt;(curl -L micro.mamba.pm/install.sh)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h3 id=&#34;_3&#34;&gt;自动更新&lt;a class=&#34;headerlink&#34; href=&#34;#_3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;安装后，&lt;code&gt;micromamba&lt;/code&gt; 可以通过下面的方式更新：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;micromamba self-update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
可以指定显式版本：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;micromamba self-update --version 1.4.6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h3 id=&#34;_4&#34;&gt;手动更新&lt;a class=&#34;headerlink&#34; href=&#34;#_4&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&#34;linux-macos&#34;&gt;Linux 和 macOS&lt;a class=&#34;headerlink&#34; href=&#34;#linux-macos&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;下载并解压可执行文件（来自官方 &lt;code&gt;conda-forge&lt;/code&gt; 包）即可。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;其实，这就等同于我们直接去 &lt;a href=&#34;https://github.com/mamba-org/micromamba-releases/releases&#34;&gt;https://github.com/mamba-org/micromamba-releases/releases&lt;/a&gt; 下载对应平台的二进制文件，或者 &lt;code&gt;tar.bz2&lt;/code&gt; 文件，然后解压缩，把 &lt;code&gt;bin/micromamba&lt;/code&gt; 部分提出来使用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;确保安装了基本实用程序。我们需要 &lt;code&gt;curl&lt;/code&gt; 和 &lt;code&gt;tar&lt;/code&gt; 并支持 &lt;code&gt;bzip2&lt;/code&gt; 。此外，您还需要一个基于 glibc 的系统，例如 Ubuntu、Fedora 或 Centos（Alpine Linux 本身无法运行）。&lt;/p&gt;
&lt;p&gt;以下 magic URL 始终返回 micromamba 的最新可用版本，并且使用 &lt;code&gt;tar&lt;/code&gt; 自动提取 &lt;code&gt;bin/micromamba&lt;/code&gt; 部分。
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# Linux Intel (x86_64):
&lt;a id=&#34;__codelineno-5-2&#34; name=&#34;__codelineno-5-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;curl -Ls https://micro.mamba.pm/api/micromamba/linux-64/latest | tar -xvj bin/micromamba
&lt;a id=&#34;__codelineno-5-3&#34; name=&#34;__codelineno-5-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# Linux ARM64:
&lt;a id=&#34;__codelineno-5-4&#34; name=&#34;__codelineno-5-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;curl -Ls https://micro.mamba.pm/api/micromamba/linux-aarch64/latest | tar -xvj bin/micromamba
&lt;a id=&#34;__codelineno-5-5&#34; name=&#34;__codelineno-5-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# Linux Power:
&lt;a id=&#34;__codelineno-5-6&#34; name=&#34;__codelineno-5-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;curl -Ls https://micro.mamba.pm/api/micromamba/linux-ppc64le/latest | tar -xvj bin/micromamba
&lt;a id=&#34;__codelineno-5-7&#34; name=&#34;__codelineno-5-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# macOS Intel (x86_64):
&lt;a id=&#34;__codelineno-5-8&#34; name=&#34;__codelineno-5-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;curl -Ls https://micro.mamba.pm/api/micromamba/osx-64/latest | tar -xvj bin/micromamba
&lt;a id=&#34;__codelineno-5-9&#34; name=&#34;__codelineno-5-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# macOS Silicon/M1 (ARM64):
&lt;a id=&#34;__codelineno-5-10&#34; name=&#34;__codelineno-5-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;curl -Ls https://micro.mamba.pm/api/micromamba/osx-arm64/latest | tar -xvj bin/micromamba
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
提取完成后，我们就可以使用 &lt;code&gt;micromamba&lt;/code&gt; 二进制文件了。&lt;/p&gt;
&lt;p&gt;如果您想在临时用例中快速使用 micromamba，您可以运行：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-6-1&#34; name=&#34;__codelineno-6-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;export MAMBA_ROOT_PREFIX=/some/prefix  # optional, defaults to ~/micromamba
&lt;a id=&#34;__codelineno-6-2&#34; name=&#34;__codelineno-6-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;eval &amp;quot;$(./bin/micromamba shell hook -s posix)&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
这个 shell hook 会修改您的 shell 变量以包含 micromamba 命令。&lt;/p&gt;
&lt;p&gt;如果您想保留这些更改，可以通过运行 &lt;code&gt;./micromamba shell init ...&lt;/code&gt; 自动将它们写入 &lt;code&gt;.bashrc&lt;/code&gt; （或 &lt;code&gt;.zshrc&lt;/code&gt; ）。这还允许您选择自定义 MAMBA_ROOT_ENVIRONMENT，这是包和 repodata 缓存所在的位置。
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-7-1&#34; name=&#34;__codelineno-7-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# Linux/bash:
&lt;a id=&#34;__codelineno-7-2&#34; name=&#34;__codelineno-7-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;./bin/micromamba shell init -s bash -p ~/micromamba  # this writes to your .bashrc file
&lt;a id=&#34;__codelineno-7-3&#34; name=&#34;__codelineno-7-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# sourcing the bashrc file incorporates the changes into the running session.
&lt;a id=&#34;__codelineno-7-4&#34; name=&#34;__codelineno-7-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# better yet, restart your terminal!
&lt;a id=&#34;__codelineno-7-5&#34; name=&#34;__codelineno-7-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;source ~/.bashrc
&lt;a id=&#34;__codelineno-7-6&#34; name=&#34;__codelineno-7-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-7-7&#34; name=&#34;__codelineno-7-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# macOS/zsh:
&lt;a id=&#34;__codelineno-7-8&#34; name=&#34;__codelineno-7-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;./micromamba shell init -s zsh -p ~/micromamba
&lt;a id=&#34;__codelineno-7-9&#34; name=&#34;__codelineno-7-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;source ~/.zshrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;现在您可以激活基本环境并安装新软件包，或创建其他环境。
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-8-1&#34; name=&#34;__codelineno-8-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;micromamba activate  # this activates the base environment
&lt;a id=&#34;__codelineno-8-2&#34; name=&#34;__codelineno-8-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;micromamba install python=3.6 jupyter -c conda-forge
&lt;a id=&#34;__codelineno-8-3&#34; name=&#34;__codelineno-8-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;# or
&lt;a id=&#34;__codelineno-8-4&#34; name=&#34;__codelineno-8-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;micromamba create -n env_name xtensor -c conda-forge
&lt;a id=&#34;__codelineno-8-5&#34; name=&#34;__codelineno-8-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;micromamba activate env_name
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;专有的 &lt;a href=&#34;https://conda-forge.org/&#34;&gt;conda-forge&lt;/a&gt; 设置可以配置为：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-9-1&#34; name=&#34;__codelineno-9-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;micromamba config append channels conda-forge
&lt;a id=&#34;__codelineno-9-2&#34; name=&#34;__codelineno-9-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;micromamba config append channels nodefaults
&lt;a id=&#34;__codelineno-9-3&#34; name=&#34;__codelineno-9-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;micromamba config set channel_priority strict
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;24&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Mon, 27 Nov 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>Python 中 tkinter 源码安装使用与中文乱码</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;p&gt;主要是因为下面这两个原因，所以决定从源码编译安装去折腾一下 tkinter，以下是一些记录。&lt;/p&gt;
&lt;h2 id=&#34;_tkinter-not-found&#34;&gt;_tkinter not found&lt;a class=&#34;headerlink&#34; href=&#34;#_tkinter-not-found&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Python 3 源码编译安装，执行 &lt;code&gt;make&lt;/code&gt; 过程中提示 &lt;code&gt;_tkinter not found&lt;/code&gt;，如下：
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make
&lt;a id=&#34;__codelineno-0-2&#34; name=&#34;__codelineno-0-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;......
&lt;a id=&#34;__codelineno-0-3&#34; name=&#34;__codelineno-0-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;build&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;finished&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;successfully!
&lt;a id=&#34;__codelineno-0-4&#34; name=&#34;__codelineno-0-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;The&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;necessary&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;bits&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;build&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;these&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;optional&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;modules&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;were&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;not&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;found:
&lt;a id=&#34;__codelineno-0-5&#34; name=&#34;__codelineno-0-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;_tkinter&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h2 id=&#34;_1&#34;&gt;中文乱码&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;使用 Anaconda 3（conda 4.5.11）的 tkinter python 包（conda install -c conda-forge tk）开发 GUI 界面程序过程中，发现 UI 界面出现的中文 Unicode 乱码一直没办法解决。&lt;/p&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;#-*- coding: utf-8 -*-&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-1-3&#34; name=&#34;__codelineno-1-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;sys&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-4&#34; name=&#34;__codelineno-1-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-1-5&#34; name=&#34;__codelineno-1-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tkinter&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-6&#34; name=&#34;__codelineno-1-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Tk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-7&#34; name=&#34;__codelineno-1-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wm_title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;菜单&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-8&#34; name=&#34;__codelineno-1-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;geometry&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;800x600+300+100&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# 创建一个菜单项，类似于导航栏&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-9&#34; name=&#34;__codelineno-1-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;menubar&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Menu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# 创建菜单项&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-10&#34; name=&#34;__codelineno-1-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;fmenu1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Menu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-11&#34; name=&#34;__codelineno-1-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 如果该菜单时顶层菜单的一个菜单项，则它添加的是下拉菜单的菜单&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-12&#34; name=&#34;__codelineno-1-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;新建文件&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;打开文件&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;结果保存&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]:&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-13&#34; name=&#34;__codelineno-1-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;fmenu1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-14&#34; name=&#34;__codelineno-1-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-1-15&#34; name=&#34;__codelineno-1-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;fmenu2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Menu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-16&#34; name=&#34;__codelineno-1-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;程序设置&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;程序运行&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]:&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-17&#34; name=&#34;__codelineno-1-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;fmenu2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-18&#34; name=&#34;__codelineno-1-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-1-19&#34; name=&#34;__codelineno-1-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;fmenu3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Menu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-20&#34; name=&#34;__codelineno-1-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;使用教程&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;版权信息&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;检查更新&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]:&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-21&#34; name=&#34;__codelineno-1-21&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-21&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;21 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span class=&#34;n&#34;&gt;fmenu3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-22&#34; name=&#34;__codelineno-1-22&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-22&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;22 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-1-23&#34; name=&#34;__codelineno-1-23&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-23&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;23 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# add_cascade 的一个很重要的属性就是 menu 属性，它指明了要把那个菜单级联到该菜单项上&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-24&#34; name=&#34;__codelineno-1-24&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-24&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;24 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 当然，还必不可少的就是 label 属性，用于指定该菜单项的名称&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-25&#34; name=&#34;__codelineno-1-25&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-25&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;25 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;menubar&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_cascade&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;文件&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;menu&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fmenu1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-26&#34; name=&#34;__codelineno-1-26&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-26&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;26 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;menubar&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_cascade&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;程序&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;menu&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fmenu2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-27&#34; name=&#34;__codelineno-1-27&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-27&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;27 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;menubar&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add_cascade&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;帮助&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;menu&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fmenu3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-28&#34; name=&#34;__codelineno-1-28&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-28&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;28 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-1-29&#34; name=&#34;__codelineno-1-29&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-29&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;29 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 最后可以用窗口的 menu 属性指定我们使用哪一个作为它的顶层菜单&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-30&#34; name=&#34;__codelineno-1-30&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-30&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;30 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;menu&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;menubar&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-31&#34; name=&#34;__codelineno-1-31&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-31&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;31 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mainloop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img alt=&#34;&#34; src=&#34;https://shub.weiyan.tech/yuque/elog-cookbook-img/Fh22i487OzvY-uSXvAuFs6rEXXvu.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;我们也可以确认一下是不是 Tk 本身的问题：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;echo &amp;#39;pack [button .h -text &amp;quot;Hello, World! 显示中文&amp;quot; -command exit]&amp;#39; | wish
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
- 正常显示
  &lt;img alt=&#34;TK 正常显示&#34; src=&#34;https://slab-1251708715.cos.ap-guangzhou.myqcloud.com/KGarden/2023/tk-ok.png&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;中文乱码
  &lt;img alt=&#34;TK 中文乱码&#34; src=&#34;https://slab-1251708715.cos.ap-guangzhou.myqcloud.com/KGarden/2023/tk-error.png&#34; /&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;一些参考资料：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Python 3.x 中文编码转换的问题：&lt;a href=&#34;https://bbs.bccn.net/thread-479560-1-1.html&#34;&gt;https://bbs.bccn.net/thread-479560-1-1.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Python 2.6 Tk 中文乱码解決方法：&lt;a href=&#34;http://blogkrogh.blogspot.com/2011/03/python-26-tk.html&#34;&gt;http://blogkrogh.blogspot.com/2011/03/python-26-tk.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;tkinter 乱码，pyqt4 乱码：&lt;a href=&#34;http://aboutweb.lofter.com/post/11743e_6f7e4a5&#34;&gt;http://aboutweb.lofter.com/post/11743e_6f7e4a5&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;上面几种方法测试后，问题依然存在。在 google 上一番搜索和来回测试之后，发现了几点信息：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;有人说，可能是 tcl/tk 安装不完整造成的。&lt;/li&gt;
&lt;li&gt;tcl/tk 重装后需要对 Python 重新编译 tkinter 才能起作用。&lt;/li&gt;
&lt;li&gt;conda install -c conda-forge tk，虽然没有任何报错，python2 中 import tkinter 也正常，但 conda 的软件安装就像一个黑盒子，无法确认 tcl/tk 是否完整安装。&lt;/li&gt;
&lt;li&gt;python 的 PyPI 仓库中是没有 tkinter 包的，想要使用 &lt;code&gt;pip install tkinter&lt;/code&gt; 卸载或者重装都是行不通的。&lt;/li&gt;
&lt;li&gt;网上也有人说可以使用 &lt;code&gt;yum install python3-tk/python-tk&lt;/code&gt; 解决，但对于本人来说，没用。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;tcl-tk-tkinter&#34;&gt;什么是 tcl, tk, tkinter&lt;a class=&#34;headerlink&#34; href=&#34;#tcl-tk-tkinter&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;The &lt;a href=&#34;https://docs.python.org/3.6/library/tkinter.html#module-tkinter&#34;&gt;tkinter&lt;/a&gt; package (“Tk interface”) is the standard Python interface to the Tk GUI toolkit. Both Tk and &lt;a href=&#34;https://docs.python.org/3.6/library/tkinter.html#module-tkinter&#34;&gt;tkinter&lt;/a&gt; are available on most Unix platforms, as well as on Windows systems. (Tk itself is not part of Python; it is maintained at ActiveState.)&lt;/p&gt;
&lt;p&gt;Running &lt;code&gt;python -m tkinter&lt;/code&gt; from the command line should open a window demonstrating a simple Tk interface, letting you know that &lt;a href=&#34;https://docs.python.org/3.6/library/tkinter.html#module-tkinter&#34;&gt;tkinter&lt;/a&gt; is properly installed on your system, and also showing what version of Tcl/Tk is installed, so you can read the Tcl/Tk documentation specific to that version.&lt;/p&gt;
&lt;p&gt;From &lt;a href=&#34;https://docs.python.org/3/library/tkinter.html&#34;&gt;https://docs.python.org/3/library/tkinter.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Tcl 是&#34;工具控制语言（Tool Control Language）&#34;的缩写。Tk 是 Tcl &#34;图形工具箱&#34; 的扩展，它提供各种标准的 GUI 接口项，以利于迅速进行高级应用程序开发。&lt;/p&gt;
&lt;p&gt;tkinter 包（&#34;Tk 接口&#34;）是 Tk GUI 工具包的标准 Python 接口。 Tk 和  tkinter 在大多数 Unix 平台以及 Windows 系统上都可用（Tk 本身不是 Python 的一部分，它在 ActiveState 中维护）。您可以通过从命令行运行  &lt;code&gt;python -m tkinter&lt;/code&gt;来检查  tkinter 是否已正确安装在系统上。如果已经安装该命令会打开一个简单的 Tk 界面，该界面除了让我们知道 tkinter 已正确安装，并且还显示安装了哪个版本的 Tcl/Tk，因此我们可以阅读特定于该版本的 Tcl/Tk 文档。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;&#34; src=&#34;https://shub.weiyan.tech/yuque/elog-cookbook-img/FpWx6rSTKaQ1BXXPQJzchNbviKYd.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;如果  tkinter  没有安装，则会提示找不到该包（注意在 Python 2 中该包包名为 Tkinter，Python 3 中为 tkinter）：&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;&#34; src=&#34;https://shub.weiyan.tech/yuque/elog-cookbook-img/FrRwzLFA1tIq2VfwS4p7i0dVLTjP.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;接下来我们将尝试在 Python &amp;#8532; 中安装 Tcl/Tk，并重新编译 Python &amp;#8532;，已完成 Tkinter 安装（tkinter 为 Python 的标准库，标准库的安装需要重新编译 Python ？）。&lt;/p&gt;
&lt;h2 id=&#34;activetcl&#34;&gt;ActiveTcl 安装&lt;a class=&#34;headerlink&#34; href=&#34;#activetcl&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ActiveTcl 是 ActiveState 发布的关于 Tcl/Tk 的发行版本，该发行版本包含了最新版本的 Tk 和 Tcl 程序，我们下载其免费的社区版本进行安装即可。&lt;/p&gt;
&lt;p&gt;参考下载链接：&lt;a href=&#34;https://www.activestate.com/products/activetcl/downloads/&#34;&gt;https://www.activestate.com/products/activetcl/downloads/&lt;/a&gt;
参考安装教程：&lt;a href=&#34;https://tkdocs.com/tutorial/install.html&#34;&gt;https://tkdocs.com/tutorial/install.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;以下为 CentOS 6.5 下 &lt;strong&gt;ActiveTcl-8.6.9&lt;/strong&gt; 的一些安装记录，仅作参考。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;curl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-fL&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;https://shenweiyan-generic.pkg.coding.net/btscl/activetcl/ActiveTcl-8.6.9.8609.2-x86_64-linux-glibc-2.5-dcd3ff05d.tar.gz?version=8.6.9.8609.2&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-o&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ActiveTcl-8.6.9.8609.2-x86_64-linux-glibc-2.5-dcd3ff05d.tar.gz
&lt;a id=&#34;__codelineno-3-2&#34; name=&#34;__codelineno-3-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;tar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zvxf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ActiveTcl-8.6.9.8609.2-x86_64-linux-glibc-2.5-dcd3ff05d.tar.gz
&lt;a id=&#34;__codelineno-3-3&#34; name=&#34;__codelineno-3-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ActiveTcl-8.6.9.8609.2-x86_64-linux-glibc-2.5-dcd3ff05d
&lt;a id=&#34;__codelineno-3-4&#34; name=&#34;__codelineno-3-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;./install.sh
&lt;a id=&#34;__codelineno-3-5&#34; name=&#34;__codelineno-3-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;......
&lt;a id=&#34;__codelineno-3-6&#34; name=&#34;__codelineno-3-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Cancel&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;no&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;RET&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-7&#34; name=&#34;__codelineno-3-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Accept&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;License&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;yes&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&amp;gt;&amp;gt;A
&lt;a id=&#34;__codelineno-3-8&#34; name=&#34;__codelineno-3-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-9&#34; name=&#34;__codelineno-3-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Please&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;specify&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;installation&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory.
&lt;a id=&#34;__codelineno-3-10&#34; name=&#34;__codelineno-3-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Path&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/opt/ActiveTcl-8.6&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9
&lt;a id=&#34;__codelineno-3-11&#34; name=&#34;__codelineno-3-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-12&#34; name=&#34;__codelineno-3-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Please&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;specify&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;demos.
&lt;a id=&#34;__codelineno-3-13&#34; name=&#34;__codelineno-3-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Path&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/demos&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
&lt;a id=&#34;__codelineno-3-14&#34; name=&#34;__codelineno-3-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-15&#34; name=&#34;__codelineno-3-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Please&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;specify&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;runtime&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;installation&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory.
&lt;a id=&#34;__codelineno-3-16&#34; name=&#34;__codelineno-3-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-17&#34; name=&#34;__codelineno-3-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;This&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;is&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;applications&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;will&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;see&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;as&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;their&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;installation&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory
&lt;a id=&#34;__codelineno-3-18&#34; name=&#34;__codelineno-3-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;when&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;searching&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;packages&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;and&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libraries,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;instead&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;of&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;files
&lt;a id=&#34;__codelineno-3-19&#34; name=&#34;__codelineno-3-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;were&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;copied&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to.&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;In&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;most&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;circumstances&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;this&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;is&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;same&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;as&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;installation
&lt;a id=&#34;__codelineno-3-20&#34; name=&#34;__codelineno-3-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;directory&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;chosen&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;before.
&lt;a id=&#34;__codelineno-3-21&#34; name=&#34;__codelineno-3-21&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-21&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;21 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Path&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
&lt;a id=&#34;__codelineno-3-22&#34; name=&#34;__codelineno-3-22&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-22&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;22 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-23&#34; name=&#34;__codelineno-3-23&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-23&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;23 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Press&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;begin&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;installation
&lt;a id=&#34;__codelineno-3-24&#34; name=&#34;__codelineno-3-24&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-24&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;24 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;Installation&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Directory:&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9
&lt;a id=&#34;__codelineno-3-25&#34; name=&#34;__codelineno-3-25&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-25&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;25 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;Demos&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Directory:&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/demos
&lt;a id=&#34;__codelineno-3-26&#34; name=&#34;__codelineno-3-26&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-26&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;26 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;Runtime&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Directory:&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;See&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Installation&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Directory
&lt;a id=&#34;__codelineno-3-27&#34; name=&#34;__codelineno-3-27&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-27&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;27 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nv&#34;&gt;Cancel&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;C
&lt;a id=&#34;__codelineno-3-28&#34; name=&#34;__codelineno-3-28&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-28&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;28 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nv&#34;&gt;Next&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;RET&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&amp;gt;&amp;gt;
&lt;a id=&#34;__codelineno-3-29&#34; name=&#34;__codelineno-3-29&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-29&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;29 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-30&#34; name=&#34;__codelineno-3-30&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-30&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;30 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Installing&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ActiveTcl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;...
&lt;a id=&#34;__codelineno-3-31&#34; name=&#34;__codelineno-3-31&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-31&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;31 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;Creating&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/share&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;...
&lt;a id=&#34;__codelineno-3-32&#34; name=&#34;__codelineno-3-32&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-32&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;32 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;Creating&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/share/man&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;...
&lt;a id=&#34;__codelineno-3-33&#34; name=&#34;__codelineno-3-33&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-33&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;33 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;......
&lt;a id=&#34;__codelineno-3-34&#34; name=&#34;__codelineno-3-34&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-34&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;34 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-35&#34; name=&#34;__codelineno-3-35&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-35&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;35 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Please&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;not&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;forget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;extend&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;your&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;PATH&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;and&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;MANPATH&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;variables&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to
&lt;a id=&#34;__codelineno-3-36&#34; name=&#34;__codelineno-3-36&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-36&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;36 &#34;&gt;&lt;/span&gt;&lt;/a&gt;get&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;access&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;applications&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;and&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;manpages&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;distributed&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;with&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ActiveTcl.
&lt;a id=&#34;__codelineno-3-37&#34; name=&#34;__codelineno-3-37&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-37&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;37 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-38&#34; name=&#34;__codelineno-3-38&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-38&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;38 &#34;&gt;&lt;/span&gt;&lt;/a&gt;For&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;a&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;csh&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;or&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;compatible&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;perform
&lt;a id=&#34;__codelineno-3-39&#34; name=&#34;__codelineno-3-39&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-39&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;39 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;setenv&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;PATH&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/bin:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-40&#34; name=&#34;__codelineno-3-40&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-40&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;40 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-41&#34; name=&#34;__codelineno-3-41&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-41&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;41 &#34;&gt;&lt;/span&gt;&lt;/a&gt;For&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;a&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sh&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;or&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;similar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;perform
&lt;a id=&#34;__codelineno-3-42&#34; name=&#34;__codelineno-3-42&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-42&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;42 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/bin:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-43&#34; name=&#34;__codelineno-3-43&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-43&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;43 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;PATH
&lt;a id=&#34;__codelineno-3-44&#34; name=&#34;__codelineno-3-44&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-44&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;44 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-45&#34; name=&#34;__codelineno-3-45&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-45&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;45 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Some&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;shells&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;bash&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;example&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;allow
&lt;a id=&#34;__codelineno-3-46&#34; name=&#34;__codelineno-3-46&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-46&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;46 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/bin:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-47&#34; name=&#34;__codelineno-3-47&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-47&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;47 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-48&#34; name=&#34;__codelineno-3-48&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-48&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;48 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Similar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;changes&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;are&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;required&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;MANPATH
&lt;a id=&#34;__codelineno-3-49&#34; name=&#34;__codelineno-3-49&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-49&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;49 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Finish&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&amp;gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ActiveTcl 安装完成后，需要把 path 添加至环境变量（~/.bashrc）:
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;export PATH=&amp;quot;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/bin:$PATH&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h2 id=&#34;tcltk&#34;&gt;Tcl/Tk&lt;a class=&#34;headerlink&#34; href=&#34;#tcltk&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;我们也可以直接去 &lt;a href=&#34;https://sourceforge.net/projects/tcl/files/Tcl/&#34;&gt;https://sourceforge.net/projects/tcl/files/Tcl/&lt;/a&gt; 直接通过源码的方式去编译安装 Tcl/Tk，尤其是当你的系统版本比较低，需要低版本的 Tcl/Tk，这种方法会比较合适。&lt;/p&gt;
&lt;p&gt;以 tcl8.5.19-src.tar.gz/tk8.5.19-src.tar.gz 为例，下载完成后，直接解压，然后执行常规安装即可。
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;cd tcl8.5.19/unix
&lt;a id=&#34;__codelineno-5-2&#34; name=&#34;__codelineno-5-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;./configure
&lt;a id=&#34;__codelineno-5-3&#34; name=&#34;__codelineno-5-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make
&lt;a id=&#34;__codelineno-5-4&#34; name=&#34;__codelineno-5-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make test
&lt;a id=&#34;__codelineno-5-5&#34; name=&#34;__codelineno-5-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h2 id=&#34;python&#34;&gt;Python 重新编译安装&lt;a class=&#34;headerlink&#34; href=&#34;#python&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;参考：&lt;a href=&#34;https://docs.python.org/3/whatsnew/3.11.html&#34;&gt;What’s New In Python 3.11&lt;/a&gt; - doc.python.org&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;📢 &lt;strong&gt;注意：&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Python 3.11.x 起（如 Python-3.11.3）中的 &lt;code&gt;configure&lt;/code&gt; 已经把 &lt;code&gt;--with-tcltk-includes&lt;/code&gt;和&lt;code&gt;--with-tcltk-libs&lt;/code&gt;这两个参数移除！并使用 &lt;code&gt;TCLTK_CFLAGS&lt;/code&gt; 和 &lt;code&gt;TCLTK_LIBS&lt;/code&gt; 替代！！！&lt;/li&gt;
&lt;li&gt;Python 3.10.x (及以下版本，如 Python-3.9.16) 以及 Python 2.x.x 在 &lt;code&gt;configure&lt;/code&gt; 中 &lt;code&gt;--with-tcltk-includes&lt;/code&gt;和&lt;code&gt;--with-tcltk-libs&lt;/code&gt;都是有的，通过这两个参数可以解决 Tkinter 的问题！！！&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;python-3&#34;&gt;Python 3&lt;a class=&#34;headerlink&#34; href=&#34;#python-3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;这里以 Python-3.11.6 为例，参考 &lt;a href=&#34;https://github.com/pyenv/pyenv/issues/2499&#34;&gt;Python 3.11.0 install doesn’t recognize homebrew Tcl/Tk due to --with-tcltk-libs, --with-tcltk-includes switches being removed from 3.11 - pyenv#2499&lt;/a&gt;，在编译安装过程中使用 &lt;code&gt;TCLTK_CFLAGS&lt;/code&gt; 和 &lt;code&gt;TCLTK_LIBS&lt;/code&gt; 解决 &lt;code&gt;_tkinter&lt;/code&gt; 缺失的问题。
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-6-1&#34; name=&#34;__codelineno-6-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;export TCLTK_LIBS=&amp;quot;-L/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/lib -ltcl8.6 -ltk8.6&amp;quot;
&lt;a id=&#34;__codelineno-6-2&#34; name=&#34;__codelineno-6-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;export TCLTK_CFLAGS=&amp;quot;-I/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/include&amp;quot;
&lt;a id=&#34;__codelineno-6-3&#34; name=&#34;__codelineno-6-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-6-4&#34; name=&#34;__codelineno-6-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;cd Python-3.11.6
&lt;a id=&#34;__codelineno-6-5&#34; name=&#34;__codelineno-6-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;/configure --prefix=/Bioinfo/Pipeline/SoftWare/python-3.11.6 ......
&lt;a id=&#34;__codelineno-6-6&#34; name=&#34;__codelineno-6-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;python3-confiigure-tkinter-yes&#34; src=&#34;https://slab-1251708715.cos.ap-guangzhou.myqcloud.com/KGarden/2023/python-3-tkinter.png&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;python-2&#34;&gt;Python 2&lt;a class=&#34;headerlink&#34; href=&#34;#python-2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;想要在 Python 2.7 安装 Tkinter，需要在编译过程中通过 &lt;code&gt;--with-tcltk-includes&lt;/code&gt; 和 &lt;code&gt;--with-tcltk-libs&lt;/code&gt; 中指定 ActiveTcl 的头文件以及库所在路径。&lt;/p&gt;
&lt;p&gt;如果在执行编译安装过程中，出现无法找到 libXss.so.1 共享动态库报错：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-7-1&#34; name=&#34;__codelineno-7-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;tar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zvxf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Python-2.7.15.tgz
&lt;a id=&#34;__codelineno-7-2&#34; name=&#34;__codelineno-7-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Python-2.7.15
&lt;a id=&#34;__codelineno-7-3&#34; name=&#34;__codelineno-7-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;./configure&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/software/python-2.7&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--with-tcltk-includes&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-I/usr/local/software/ActiveTcl-8.6/include&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--with-tcltk-libs&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/usr/local/software/ActiveTcl-8.6/lib/libtcl8.6.so /usr/local/software/ActiveTcl-8.6/lib/libtk8.6.so&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--enable-optimizations
&lt;a id=&#34;__codelineno-7-4&#34; name=&#34;__codelineno-7-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make
&lt;a id=&#34;__codelineno-7-5&#34; name=&#34;__codelineno-7-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-7-6&#34; name=&#34;__codelineno-7-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;......
&lt;a id=&#34;__codelineno-7-7&#34; name=&#34;__codelineno-7-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-7-8&#34; name=&#34;__codelineno-7-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;warning:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;building&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;with&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;bundled&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;copy&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;of&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libffi&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;is&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;deprecated&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;on&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;this&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;platform.&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;It&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;will&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;not&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;be&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;distributed&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;with&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;.7
&lt;a id=&#34;__codelineno-7-9&#34; name=&#34;__codelineno-7-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;***&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;WARNING:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;renaming&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;_tkinter&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;since&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;importing&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;it&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;failed:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libXss.so.1:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;cannot&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;open&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;shared&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;object&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;file:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;No&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;such&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;file&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;or&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory
&lt;a id=&#34;__codelineno-7-10&#34; name=&#34;__codelineno-7-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-7-11&#34; name=&#34;__codelineno-7-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;build&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;finished&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;successfully!
&lt;a id=&#34;__codelineno-7-12&#34; name=&#34;__codelineno-7-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;The&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;necessary&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;bits&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;build&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;these&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;optional&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;modules&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;were&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;not&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;found:
&lt;a id=&#34;__codelineno-7-13&#34; name=&#34;__codelineno-7-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;_dbm&lt;span class=&#34;w&#34;&gt;                  &lt;/span&gt;_gdbm
&lt;a id=&#34;__codelineno-7-14&#34; name=&#34;__codelineno-7-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;To&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;find&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;necessary&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;bits,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;look&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;setup.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;detect_modules&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;module&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;s&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;name.
&lt;a id=&#34;__codelineno-7-15&#34; name=&#34;__codelineno-7-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-7-16&#34; name=&#34;__codelineno-7-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;The&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;following&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;modules&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;found&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;by&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;detect_modules&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;setup.py,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;have&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;been
&lt;a id=&#34;__codelineno-7-17&#34; name=&#34;__codelineno-7-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;built&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;by&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Makefile&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;instead,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;as&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;configured&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;by&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Setup&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;files:
&lt;a id=&#34;__codelineno-7-18&#34; name=&#34;__codelineno-7-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;atexit&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                   &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;time&lt;/span&gt;
&lt;a id=&#34;__codelineno-7-19&#34; name=&#34;__codelineno-7-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-7-20&#34; name=&#34;__codelineno-7-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Following&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;modules&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;built&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;successfully&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;but&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;were&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;removed&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;because&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;they&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;could&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;not&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;be&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;imported:
&lt;a id=&#34;__codelineno-7-21&#34; name=&#34;__codelineno-7-21&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-21&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;21 &#34;&gt;&lt;/span&gt;&lt;/a&gt;_tkinter
&lt;a id=&#34;__codelineno-7-22&#34; name=&#34;__codelineno-7-22&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-22&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;22 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-7-23&#34; name=&#34;__codelineno-7-23&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-23&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;23 &#34;&gt;&lt;/span&gt;&lt;/a&gt;running&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;build_scripts
&lt;a id=&#34;__codelineno-7-24&#34; name=&#34;__codelineno-7-24&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-24&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;24 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-7-25&#34; name=&#34;__codelineno-7-25&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-25&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;25 &#34;&gt;&lt;/span&gt;&lt;/a&gt;......
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CentOS 下请参考以下解决方法：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-8-1&#34; name=&#34;__codelineno-8-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$ sudo yum install libXScrnSaver libXScrnSaver-devel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h2 id=&#34;tkinter&#34;&gt;调用 Tkinter&lt;a class=&#34;headerlink&#34; href=&#34;#tkinter&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Python &amp;#8532; 重新编译完后，执行一下下面的命令即可显示 Tk 的 ui 界面，以及相应的 Tcl/Tk 版本。
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-9-1&#34; name=&#34;__codelineno-9-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;python2 -m Tkinter   # python 2
&lt;a id=&#34;__codelineno-9-2&#34; name=&#34;__codelineno-9-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;python3 -m tkinter   # python 3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;img alt=&#34;python2-m-Tkinter&#34; src=&#34;https://shub.weiyan.tech/yuque/elog-cookbook-img/FgBtb14ZgZFZXIRhOdt6efbYz7fd.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;这时候，我们重新运行开头的 GUI 界面程序，可以看到中文已经正常显示：
&lt;img alt=&#34;&#34; src=&#34;https://shub.weiyan.tech/yuque/elog-cookbook-img/FqRHUXczPdHrQjFUXNQr_Cg_j2B4.png&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;_2&#34;&gt;参考资料&lt;a class=&#34;headerlink&#34; href=&#34;#_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Download And Install Tcl: ActiveTcl，&lt;a href=&#34;https://www.activestate.com/products/activetcl/downloads/&#34;&gt;https://www.activestate.com/products/activetcl/downloads/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Installing Tk，&lt;a href=&#34;https://tkdocs.com/tutorial/install.html&#34;&gt;https://tkdocs.com/tutorial/install.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Python 下&#34;No module named _tkinter&#34;问题解决过程分析，&lt;a href=&#34;https://www.jianshu.com/p/0baa9657377f&#34;&gt;https://www.jianshu.com/p/0baa9657377f&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Python GUI 编程(Tkinter)文件对话框，&lt;a href=&#34;https://my.oschina.net/u/2245781/blog/661533&#34;&gt;https://my.oschina.net/u/2245781/blog/661533&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;12&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Thu, 02 Nov 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>Python3 源码安装</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;p&gt;编程，作为生物信息学的一个基础性技能，是任何一个生信工程师都无法绕开话题。也许有些人还在纠结 Perl 和 Python 到底应该学习哪一个，但作为目前最火最流行的编程语言 Python 还是非常值得尝试的。它不但可以进行文本处理，在统计、网站、游戏、爬虫、数据可视化等方面也有非常强大的应用，比起曾经的 Perl 真的强大和全面很多，且比 Perl 更容易入手。不管从长远发展，还是短期需要，学会 Python，看懂 Perl (或者先学   Python，后学 Perl) 应该是每一个生信工程必备的基础技能之一。&lt;/p&gt;
&lt;p&gt;工欲善其事，必先利其器。关于 Python 安装教程在网上一搜一大把，但总感觉不够全面，尤其对于中间出现的一些问题的解决方法不尽如人意。鉴于此，本文基于  CentOS/RHEL Linux 对 Python 的源码编译安装进行了一下简单的总结，记录如下。&lt;/p&gt;
&lt;h2 id=&#34;_1&#34;&gt;安装环境&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Red Hat 6.5 + GCC 4.4.7（GCC-7.3.0 - 此版本 gcc 为手动安装）。&lt;/p&gt;
&lt;p&gt;GCC 高级版本手动或者 &lt;code&gt;yum&lt;/code&gt; 安装参考以下文章：
- &lt;a href=&#34;https://www.yuque.com/shenweiyan/cookbook/scl-devtoolset-note&#34;&gt;SCL+Devtoolset 安装与使用笔记 · 语雀&lt;/a&gt;
- &lt;a href=&#34;https://www.yuque.com/shenweiyan/cookbook/linux-gcc-install&#34;&gt;非 root 用户手动编译安装 GCC · 语雀&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;lsb_release&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-a
&lt;a id=&#34;__codelineno-0-2&#34; name=&#34;__codelineno-0-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;LSB&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Version:&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;:base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch
&lt;a id=&#34;__codelineno-0-3&#34; name=&#34;__codelineno-0-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Distributor&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ID:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;RedHatEnterpriseServer
&lt;a id=&#34;__codelineno-0-4&#34; name=&#34;__codelineno-0-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Description:&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;Red&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Hat&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Enterprise&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Linux&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Server&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;release&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;.5&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Santiago&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-5&#34; name=&#34;__codelineno-0-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Release:&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;.5
&lt;a id=&#34;__codelineno-0-6&#34; name=&#34;__codelineno-0-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Codename:&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;Santiago
&lt;a id=&#34;__codelineno-0-7&#34; name=&#34;__codelineno-0-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-0-8&#34; name=&#34;__codelineno-0-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;gcc&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--version
&lt;a id=&#34;__codelineno-0-9&#34; name=&#34;__codelineno-0-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;gcc&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;GCC&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.4.7&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;20120313&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Red&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Hat&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.4.7-4&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-10&#34; name=&#34;__codelineno-0-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Copyright&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;C&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2010&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Free&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Software&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Foundation,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Inc.
&lt;a id=&#34;__codelineno-0-11&#34; name=&#34;__codelineno-0-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;This&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;is&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;free&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;software&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;see&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;copying&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;conditions.&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;There&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;is&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;NO
&lt;a id=&#34;__codelineno-0-12&#34; name=&#34;__codelineno-0-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;warranty&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;not&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;even&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;MERCHANTABILITY&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;or&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;FITNESS&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;FOR&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;A&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;PARTICULAR&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;PURPOSE.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;_2&#34;&gt;解决依赖&lt;a class=&#34;headerlink&#34; href=&#34;#_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;如果您拥有 root 权限，请执以下依赖安装：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zlib
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zlib-devel
&lt;a id=&#34;__codelineno-1-3&#34; name=&#34;__codelineno-1-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;openssl
&lt;a id=&#34;__codelineno-1-4&#34; name=&#34;__codelineno-1-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;openssl-devel
&lt;a id=&#34;__codelineno-1-5&#34; name=&#34;__codelineno-1-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libffi
&lt;a id=&#34;__codelineno-1-6&#34; name=&#34;__codelineno-1-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libffi-devel
&lt;a id=&#34;__codelineno-1-7&#34; name=&#34;__codelineno-1-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;readline&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;readline-devel&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sqlite&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sqlite-devel&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;tk-devel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;缺少库名称&lt;/th&gt;
&lt;th&gt;安装命令&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;_uuid&lt;/td&gt;
&lt;td&gt;yum install libuuid-devel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;readline&lt;/td&gt;
&lt;td&gt;yum install readline-devel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;_tkinter&lt;/td&gt;
&lt;td&gt;yum install tk-devel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;_ffi&lt;/td&gt;
&lt;td&gt;yum install libffi-devel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;_curses&lt;/td&gt;
&lt;td&gt;yum install ncurses-libs&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;_sqlite&lt;/td&gt;
&lt;td&gt;yum install sqlite-devel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;_bz2&lt;/td&gt;
&lt;td&gt;yum isntall bzip2-devel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;_ssl&lt;/td&gt;
&lt;td&gt;yum install openssl-devel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;_gdbm&lt;/td&gt;
&lt;td&gt;yum install gdbm-devel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;_dbi&lt;/td&gt;
&lt;td&gt;yum install libdbi-devel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;_zlib&lt;/td&gt;
&lt;td&gt;yum install zlib-devel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lzma&lt;/td&gt;
&lt;td&gt;yum install xz-develyum install python-backports-lzma&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;如果您没有 root 权限，可以参考《&lt;a href=&#34;https://www.yuque.com/shenweiyan/cookbook/install-latest-r-from-source&#34;&gt;手把手教你在 Linux 源码安装最新版本的 R&lt;/a&gt;》一文，手动一个个去解决以上的依赖。&lt;/p&gt;
&lt;h3 id=&#34;_sqlite3&#34;&gt;_sqlite3&lt;a class=&#34;headerlink&#34; href=&#34;#_sqlite3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;执行 &lt;strong&gt;make&lt;/strong&gt; 过程中提示 &lt;strong&gt;_sqlite3 not found&lt;/strong&gt;，如下：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make
&lt;a id=&#34;__codelineno-2-2&#34; name=&#34;__codelineno-2-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;......
&lt;a id=&#34;__codelineno-2-3&#34; name=&#34;__codelineno-2-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;build&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;finished&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;successfully!
&lt;a id=&#34;__codelineno-2-4&#34; name=&#34;__codelineno-2-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;The&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;necessary&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;bits&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;build&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;these&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;optional&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;modules&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;were&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;not&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;found:
&lt;a id=&#34;__codelineno-2-5&#34; name=&#34;__codelineno-2-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;_sqlite3&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;_ssl
&lt;a id=&#34;__codelineno-2-6&#34; name=&#34;__codelineno-2-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;To&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;find&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;necessary&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;bits,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;look&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;setup.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;detect_modules&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;module&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;s&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;name.
&lt;a id=&#34;__codelineno-2-7&#34; name=&#34;__codelineno-2-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-2-8&#34; name=&#34;__codelineno-2-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;The&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;following&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;modules&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;found&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;by&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;detect_modules&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;setup.py,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;have&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;been
&lt;a id=&#34;__codelineno-2-9&#34; name=&#34;__codelineno-2-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;built&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;by&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Makefile&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;instead,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;as&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;configured&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;by&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Setup&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;files:
&lt;a id=&#34;__codelineno-2-10&#34; name=&#34;__codelineno-2-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;_abc&lt;span class=&#34;w&#34;&gt;                  &lt;/span&gt;atexit&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-11&#34; name=&#34;__codelineno-2-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;time&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;sqlite3&#34;&gt;系统已安装 sqlite3&lt;a class=&#34;headerlink&#34; href=&#34;#sqlite3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果执行 &lt;strong&gt;rpm -qa|grep sqlite&lt;/strong&gt; 看到 sqlite 和 sqlite-devel 都已经安装（libsqlite3.so 默认保存在 /usr/lib64 下； &lt;code&gt;sqlite3.h&lt;/code&gt; 默认保存在 &lt;code&gt;/usr/include&lt;/code&gt; 下）。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sqlite3&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-version
&lt;a id=&#34;__codelineno-3-2&#34; name=&#34;__codelineno-3-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;.6.20
&lt;a id=&#34;__codelineno-3-3&#34; name=&#34;__codelineno-3-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-4&#34; name=&#34;__codelineno-3-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ll&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/usr/lib64/libsqlite3.so
&lt;a id=&#34;__codelineno-3-5&#34; name=&#34;__codelineno-3-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;lrwxrwxrwx&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;root&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;root&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Apr&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2015&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/usr/lib64/libsqlite3.so&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-&amp;gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libsqlite3.so.0.8.6
&lt;a id=&#34;__codelineno-3-6&#34; name=&#34;__codelineno-3-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-7&#34; name=&#34;__codelineno-3-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ll&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/usr/include/sqlite3.h
&lt;a id=&#34;__codelineno-3-8&#34; name=&#34;__codelineno-3-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;-rw-r--r--&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;root&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;root&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;263K&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Nov&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2009&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/usr/include/sqlite3.h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;但是，执行 &lt;code&gt;make&lt;/code&gt; 依然出现以上报错，参考下面的方法《&lt;a href=&#34;https://stackoverflow.com/questions/32779768/python-build-from-source-cannot-build-optional-module-sqlite3&#34;&gt;python build from source: cannot build optional module sqlite3 - Stack Overflow&lt;/a&gt;》。&lt;/p&gt;
&lt;h3 id=&#34;sqlite3_1&#34;&gt;手动安装 sqlite3&lt;a class=&#34;headerlink&#34; href=&#34;#sqlite3_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://www.sqlite.org/2021/sqlite-autoconf-3360000.tar.gz&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--no-check-certificate
&lt;a id=&#34;__codelineno-4-2&#34; name=&#34;__codelineno-4-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;tar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zvxf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sqlite-autoconf-3360000.tar.gz
&lt;a id=&#34;__codelineno-4-3&#34; name=&#34;__codelineno-4-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sqlite-autoconf-3360000
&lt;a id=&#34;__codelineno-4-4&#34; name=&#34;__codelineno-4-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;./configure&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0
&lt;a id=&#34;__codelineno-4-5&#34; name=&#34;__codelineno-4-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make
&lt;a id=&#34;__codelineno-4-6&#34; name=&#34;__codelineno-4-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;sqlite3_2&#34;&gt;配置 sqlite3&lt;a class=&#34;headerlink&#34; href=&#34;#sqlite3_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;h4 id=&#34;1&#34;&gt;1. 配置环境&lt;a class=&#34;headerlink&#34; href=&#34;#1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib:&lt;span class=&#34;nv&#34;&gt;$LD_LIBRARY_PATH&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;2&#34;&gt;2. 调整源码或编译&lt;a class=&#34;headerlink&#34; href=&#34;#2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;对于 3.11.x 以上版本的 Python 可以在 &lt;code&gt;configure&lt;/code&gt; 指定自定义安装的 sqlite3 路径解决 &lt;code&gt;_sqlite3&lt;/code&gt; 依赖。
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-6-1&#34; name=&#34;__codelineno-6-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;./configure ... \
&lt;a id=&#34;__codelineno-6-2&#34; name=&#34;__codelineno-6-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    LDFLAGS=&amp;quot;-L/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib&amp;quot; \
&lt;a id=&#34;__codelineno-6-3&#34; name=&#34;__codelineno-6-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    CPPFLAGS=&amp;quot;-I/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/include&amp;quot; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;有些低版本的 Python (如 3.7) 可能需要再源码文件中加入 &lt;code&gt;sqlite3.h&lt;/code&gt; 的文件路径。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;找到 &lt;strong&gt;sqlite3.h&lt;/strong&gt; 文件的保存目录。&lt;/li&gt;
&lt;li&gt;修改 &lt;strong&gt;setup.py&lt;/strong&gt; 文件，在 sqlite_inc_paths 中加上 sqlite3.h 的文件路径。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-7-1&#34; name=&#34;__codelineno-7-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nv&#34;&gt;sqlite_inc_paths&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/include&amp;#39;&lt;/span&gt;,
&lt;a id=&#34;__codelineno-7-2&#34; name=&#34;__codelineno-7-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;                     &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/usr/include&amp;#39;&lt;/span&gt;,
&lt;a id=&#34;__codelineno-7-3&#34; name=&#34;__codelineno-7-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;                     &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/usr/include/sqlite&amp;#39;&lt;/span&gt;,
&lt;a id=&#34;__codelineno-7-4&#34; name=&#34;__codelineno-7-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;                     &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/usr/include/sqlite3&amp;#39;&lt;/span&gt;,
&lt;a id=&#34;__codelineno-7-5&#34; name=&#34;__codelineno-7-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;                     &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/usr/local/include&amp;#39;&lt;/span&gt;,
&lt;a id=&#34;__codelineno-7-6&#34; name=&#34;__codelineno-7-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;                     &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/usr/local/include/sqlite&amp;#39;&lt;/span&gt;,
&lt;a id=&#34;__codelineno-7-7&#34; name=&#34;__codelineno-7-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;                     &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/usr/local/include/sqlite3&amp;#39;&lt;/span&gt;,
&lt;a id=&#34;__codelineno-7-8&#34; name=&#34;__codelineno-7-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;                   &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;_ssl&#34;&gt;_ssl&lt;a class=&#34;headerlink&#34; href=&#34;#_ssl&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Python3 需要引用 &lt;code&gt;openssl&lt;/code&gt;  模块，但是 python3.7+ 在 CentOS 中要求的 openssl 版本最低为 1.0.2，而 CentOS 默认的为 1.0.1（CentOS-6.x 通过 &lt;code&gt;yum&lt;/code&gt;  源安装的 openssl 的最高版本是 1.0.1），所以需要手动更新 openssl。&lt;/p&gt;
&lt;p&gt;对于 openssl 版本的选择，建议至少选择 1.1.1+ 版本：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;urllib3 v2.0 only supports OpenSSL 1.1.1+, currently the &#39;ssl&#39; module is compiled with &#39;OpenSSL 1.0.2k-fips  26 Jan 2017&#39;. See: &lt;a href=&#34;https://github.com/urllib3/urllib3/issues/2168&#34;&gt;https://github.com/urllib3/urllib3/issues/2168&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Python requires an OpenSSL 1.0.2 or 1.1 compatible libssl with X509_VERIFY_PARAM_set1_host().&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-8-1&#34; name=&#34;__codelineno-8-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 下载&lt;/span&gt;
&lt;a id=&#34;__codelineno-8-2&#34; name=&#34;__codelineno-8-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;http://www.openssl.org/source/openssl-1.1.1.tar.gz
&lt;a id=&#34;__codelineno-8-3&#34; name=&#34;__codelineno-8-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-8-4&#34; name=&#34;__codelineno-8-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 解压缩&lt;/span&gt;
&lt;a id=&#34;__codelineno-8-5&#34; name=&#34;__codelineno-8-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;tar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-zxvf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;openssl-1.1.1.tar.gz
&lt;a id=&#34;__codelineno-8-6&#34; name=&#34;__codelineno-8-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-8-7&#34; name=&#34;__codelineno-8-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 进入目录安装&lt;/span&gt;
&lt;a id=&#34;__codelineno-8-8&#34; name=&#34;__codelineno-8-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;openssl-1.1.1
&lt;a id=&#34;__codelineno-8-9&#34; name=&#34;__codelineno-8-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-8-10&#34; name=&#34;__codelineno-8-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 进行配置下，自定义&lt;/span&gt;
&lt;a id=&#34;__codelineno-8-11&#34; name=&#34;__codelineno-8-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;./config&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/openssl-1.1.1&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;shared&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zlib
&lt;a id=&#34;__codelineno-8-12&#34; name=&#34;__codelineno-8-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-8-13&#34; name=&#34;__codelineno-8-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 编译并安装&lt;/span&gt;
&lt;a id=&#34;__codelineno-8-14&#34; name=&#34;__codelineno-8-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install
&lt;a id=&#34;__codelineno-8-15&#34; name=&#34;__codelineno-8-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-8-16&#34; name=&#34;__codelineno-8-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 配置到用户环境变量，随处使用&lt;/span&gt;
&lt;a id=&#34;__codelineno-8-17&#34; name=&#34;__codelineno-8-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/.bashrc
&lt;a id=&#34;__codelineno-8-18&#34; name=&#34;__codelineno-8-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-8-19&#34; name=&#34;__codelineno-8-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 是环境变量配置生效&lt;/span&gt;
&lt;a id=&#34;__codelineno-8-20&#34; name=&#34;__codelineno-8-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;请注意：&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;openssl&lt;/strong&gt; 编译（config）的时候 &lt;strong&gt;必须要加上 shared  参数&lt;/strong&gt;，否者源码安装 Python 即使添加了 &lt;code&gt;--with-openssl&lt;/code&gt; 的自定义路径，依然会导致 &lt;code&gt;Could not build the ssl module!&lt;/code&gt; 报错！&lt;/li&gt;
&lt;li&gt;从 &lt;a href=&#34;https://www.openssl.org/source/&#34;&gt;https://www.openssl.org/source/&lt;/a&gt; 下载的源码 openssl-1.0.2s、openssl-1.0.2m，包括  CentOS-7.5 使用 &lt;code&gt;yum&lt;/code&gt; 安装的最高版本的 openssl-1.0.2k 目前发现依然会导致 &lt;code&gt;Could not build the ssl module&lt;/code&gt; ，建议从 &lt;a href=&#34;https://www.openssl.org/source/old/&#34;&gt;https://www.openssl.org/source/old/&lt;/a&gt; 下载 1.1.1 的源码编译安装。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;最后，在 Python 执行 &lt;code&gt;configure&lt;/code&gt; 的时候指定 openssl 的相关参数：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-9-1&#34; name=&#34;__codelineno-9-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;./configure ... \
&lt;a id=&#34;__codelineno-9-2&#34; name=&#34;__codelineno-9-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    --with-openssl=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1 \
&lt;a id=&#34;__codelineno-9-3&#34; name=&#34;__codelineno-9-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    --with-openssl-rpath=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib \
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h2 id=&#34;_tkinter&#34;&gt;_tkinter&lt;a class=&#34;headerlink&#34; href=&#34;#_tkinter&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Tkinter 模块缺失是一个比较棘手的问题，为此专门写了一篇文章来介绍这个问题。&lt;/p&gt;
&lt;p&gt;具体请参考：&lt;a href=&#34;https://github.com/shenweiyan/Knowledge-Garden/discussions/12&#34;&gt;Python 中 tkinter 源码安装使用与中文乱码 - Knowledge-Garden#12&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;_dbm&#34;&gt;_dbm&lt;a class=&#34;headerlink&#34; href=&#34;#_dbm&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;_dbm&lt;/code&gt; 和 &lt;code&gt;_gdbm&lt;/code&gt; 的模块缺失可以通过下面手动的方法解决。&lt;/p&gt;
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-10-1&#34; name=&#34;__codelineno-10-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;wget https://ftp.gnu.org/gnu/gdbm/gdbm-1.23.tar.gz
&lt;a id=&#34;__codelineno-10-2&#34; name=&#34;__codelineno-10-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;tar -zxvf gdbm-1.23.tar.gz
&lt;a id=&#34;__codelineno-10-3&#34; name=&#34;__codelineno-10-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;./configure --prefix=/Bioinfo/Pipeline/SoftWare/gdbm-1.23 --enable-libgdbm-compat  --enable-debug
&lt;a id=&#34;__codelineno-10-4&#34; name=&#34;__codelineno-10-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;最后，增加环境变量，并调整 Python 执行 &lt;code&gt;configure&lt;/code&gt; 时的参数：
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-11-1&#34; name=&#34;__codelineno-11-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;export PATH=/Bioinfo/Pipeline/SoftWare/gdbm-1.23/bin:$PATH
&lt;a id=&#34;__codelineno-11-2&#34; name=&#34;__codelineno-11-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib:$LD_LIBRARY_PATH
&lt;a id=&#34;__codelineno-11-3&#34; name=&#34;__codelineno-11-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-11-4&#34; name=&#34;__codelineno-11-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;./configure ... \
&lt;a id=&#34;__codelineno-11-5&#34; name=&#34;__codelineno-11-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    LDFLAGS=&amp;quot;-L/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib&amp;quot; \
&lt;a id=&#34;__codelineno-11-6&#34; name=&#34;__codelineno-11-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;    CPPFLAGS=&amp;quot;-I/Bioinfo/Pipeline/SoftWare/gdbm-1.23/include&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h3 id=&#34;_lzma&#34;&gt;_lzma&lt;a class=&#34;headerlink&#34; href=&#34;#_lzma&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;正常情况下，下面的方法可以解决该问题（如果您有 root 权限的话）。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-12-1&#34; name=&#34;__codelineno-12-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# For ubuntu:&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-2&#34; name=&#34;__codelineno-12-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;sudo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;apt-get&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;liblzma-dev
&lt;a id=&#34;__codelineno-12-3&#34; name=&#34;__codelineno-12-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-12-4&#34; name=&#34;__codelineno-12-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# For centos:&lt;/span&gt;
&lt;a id=&#34;__codelineno-12-5&#34; name=&#34;__codelineno-12-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-12-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;xz-devel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;普通用户可以手动安装解决：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-13-1&#34; name=&#34;__codelineno-13-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://tukaani.org/xz/xz-5.2.5.tar.gz&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--no-check-certificat
&lt;a id=&#34;__codelineno-13-2&#34; name=&#34;__codelineno-13-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;tar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zvxf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;xz-5.2.5.tar.gz
&lt;a id=&#34;__codelineno-13-3&#34; name=&#34;__codelineno-13-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;xz-5.2.5
&lt;a id=&#34;__codelineno-13-4&#34; name=&#34;__codelineno-13-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;./configure&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/xz-5.2.5
&lt;a id=&#34;__codelineno-13-5&#34; name=&#34;__codelineno-13-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make
&lt;a id=&#34;__codelineno-13-6&#34; name=&#34;__codelineno-13-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-13-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;最后，配置环境：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-14-1&#34; name=&#34;__codelineno-14-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-14-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/xz-5.2.5/lib:&lt;span class=&#34;nv&#34;&gt;$LD_LIBRARY_PATH&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;_ctypes&#34;&gt;_ctypes&lt;a class=&#34;headerlink&#34; href=&#34;#_ctypes&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在 CentOS 6.x 安装 &lt;code&gt;libffi-devel&lt;/code&gt;  的时候出现以下问题：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-15-1&#34; name=&#34;__codelineno-15-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;yum&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libffi-devel
&lt;a id=&#34;__codelineno-15-2&#34; name=&#34;__codelineno-15-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Loaded&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;plugins:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;product-id,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;refresh-packagekit,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;search-disabled-repos,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;security,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;subscription-manager
&lt;a id=&#34;__codelineno-15-3&#34; name=&#34;__codelineno-15-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;This&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;system&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;is&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;not&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;registered&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Red&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Hat&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Subscription&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Management.&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;You&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;can&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;use&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;subscription-manager&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;register.
&lt;a id=&#34;__codelineno-15-4&#34; name=&#34;__codelineno-15-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Setting&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;up&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Process
&lt;a id=&#34;__codelineno-15-5&#34; name=&#34;__codelineno-15-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;cdrom&lt;span class=&#34;w&#34;&gt;                                                                                                                                         &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.1&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;kB&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;:00&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;...
&lt;a id=&#34;__codelineno-15-6&#34; name=&#34;__codelineno-15-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;No&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;package&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libffi-devel&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;available.
&lt;a id=&#34;__codelineno-15-7&#34; name=&#34;__codelineno-15-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-15-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Error:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Nothing&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以使用下面的方法安装：
&lt;div class=&#34;language-shell highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-16-1&#34; name=&#34;__codelineno-16-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;root@log01&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# rpm -ivh http://mirror.centos.org/centos/6/os/x86_64/Packages/libffi-devel-3.0.5-3.2.el6.x86_64.rpm&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-2&#34; name=&#34;__codelineno-16-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Retrieving&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;http://mirror.centos.org/centos/6/os/x86_64/Packages/libffi-devel-3.0.5-3.2.el6.x86_64.rpm
&lt;a id=&#34;__codelineno-16-3&#34; name=&#34;__codelineno-16-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;warning:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/var/tmp/rpm-tmp.V9ihbu:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Header&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;V3&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;RSA/SHA256&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Signature,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;key&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ID&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;c105b9de:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;NOKEY
&lt;a id=&#34;__codelineno-16-4&#34; name=&#34;__codelineno-16-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Preparing...&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;########################################### [100%]&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-5&#34; name=&#34;__codelineno-16-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;:libffi-devel&lt;span class=&#34;w&#34;&gt;           &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;########################################### [100%]&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-6&#34; name=&#34;__codelineno-16-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;root@log01&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# rpm -qa|grep libffi&lt;/span&gt;
&lt;a id=&#34;__codelineno-16-7&#34; name=&#34;__codelineno-16-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;libffi-3.0.5-3.2.el6.x86_64
&lt;a id=&#34;__codelineno-16-8&#34; name=&#34;__codelineno-16-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-16-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;libffi-devel-3.0.5-3.2.el6.x86_64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;手动的源码方法安装如下：
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-17-1&#34; name=&#34;__codelineno-17-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ftp://sourceware.org/pub/libffi/libffi-3.2.1.tar.gz
&lt;a id=&#34;__codelineno-17-2&#34; name=&#34;__codelineno-17-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;tar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zvxf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libffi-3.2.1.tar.gz
&lt;a id=&#34;__codelineno-17-3&#34; name=&#34;__codelineno-17-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;./configure&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/libffi-3.2.1
&lt;a id=&#34;__codelineno-17-4&#34; name=&#34;__codelineno-17-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make
&lt;a id=&#34;__codelineno-17-5&#34; name=&#34;__codelineno-17-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-17-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;h3 id=&#34;pygraphviz&#34;&gt;pygraphviz&lt;a class=&#34;headerlink&#34; href=&#34;#pygraphviz&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果你不需要使用 pygraphviz，可以不用管这个依赖。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;PyGraphviz is a Python interface to the Graphviz graph layout and visualization package. With PyGraphviz you can create, edit, read, write, and draw graphs using Python to access the Graphviz graph data structure and layout algorithms.&lt;/p&gt;
&lt;p&gt;PyGraphviz 是 Graphviz 图形布局和可视化包的 Python 接口。 借助 PyGraphviz，您可以使用 Python 创建、编辑、读取、写入和绘制图形，以访问 Graphviz 图形数据结构和布局算法。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-18-1&#34; name=&#34;__codelineno-18-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/pip3&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pygraphviz
&lt;a id=&#34;__codelineno-18-2&#34; name=&#34;__codelineno-18-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Collecting&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pygraphviz
&lt;a id=&#34;__codelineno-18-3&#34; name=&#34;__codelineno-18-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;Using&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;cached&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://files.pythonhosted.org/packages/7e/b1/d6d849ddaf6f11036f9980d433f383d4c13d1ebcfc3cd09bc845bda7e433/pygraphviz-1.5.zip
&lt;a id=&#34;__codelineno-18-4&#34; name=&#34;__codelineno-18-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Installing&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;collected&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;packages:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pygraphviz
&lt;a id=&#34;__codelineno-18-5&#34; name=&#34;__codelineno-18-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;Running&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;setup.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pygraphviz&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;...&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;error
&lt;a id=&#34;__codelineno-18-6&#34; name=&#34;__codelineno-18-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;Complete&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;output&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;from&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/python3.7&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-u&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-c&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;import setuptools, tokenize;__file__=&amp;#39;/tmp/pip-install-_zdjdg0j/pygraphviz/setup.py&amp;#39;;f=getattr(tokenize, &amp;#39;open&amp;#39;, open)(__file__);code=f.read().replace(&amp;#39;\r\n&amp;#39;, &amp;#39;\n&amp;#39;);f.close();exec(compile(code, __file__, &amp;#39;exec&amp;#39;))&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--record&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/tmp/pip-record-g0mz7lrq/install-record.txt&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--single-version-externally-managed&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--compile:
&lt;a id=&#34;__codelineno-18-7&#34; name=&#34;__codelineno-18-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;running&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install
&lt;a id=&#34;__codelineno-18-8&#34; name=&#34;__codelineno-18-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;Trying&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;dpkg
&lt;a id=&#34;__codelineno-18-9&#34; name=&#34;__codelineno-18-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;Failed&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;find&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;dpkg
&lt;a id=&#34;__codelineno-18-10&#34; name=&#34;__codelineno-18-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;Trying&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pkg-config
&lt;a id=&#34;__codelineno-18-11&#34; name=&#34;__codelineno-18-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;Package&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libcgraph&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;was&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;not&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;found&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pkg-config&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;search&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;path.
&lt;a id=&#34;__codelineno-18-12&#34; name=&#34;__codelineno-18-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;Perhaps&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;you&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;should&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;add&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;directory&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;containing&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;libcgraph.pc&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-13&#34; name=&#34;__codelineno-18-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;    to the PKG_CONFIG_PATH environment variable&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-14&#34; name=&#34;__codelineno-18-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;    No package &amp;#39;&lt;/span&gt;libcgraph&lt;span class=&#34;s1&#34;&gt;&amp;#39; found&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-15&#34; name=&#34;__codelineno-18-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;    Traceback (most recent call last):&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-16&#34; name=&#34;__codelineno-18-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;&amp;lt;string&amp;gt;&amp;quot;, line 1, in &amp;lt;module&amp;gt;&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-17&#34; name=&#34;__codelineno-18-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;/tmp/pip-install-_zdjdg0j/pygraphviz/setup.py&amp;quot;, line 93, in &amp;lt;module&amp;gt;&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-18&#34; name=&#34;__codelineno-18-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;        tests_require=[&amp;#39;&lt;/span&gt;nose&amp;gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.3.7&lt;span class=&#34;s1&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;doctest-ignore-unicode&amp;gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;.1.2&lt;span class=&#34;s1&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;mock&amp;gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;.0.0&lt;span class=&#34;s1&#34;&gt;&amp;#39;],&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-19&#34; name=&#34;__codelineno-18-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/site-packages/setuptools/__init__.py&amp;quot;, line 145, in setup&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-20&#34; name=&#34;__codelineno-18-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;        return distutils.core.setup(**attrs)&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-21&#34; name=&#34;__codelineno-18-21&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-21&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;21 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/distutils/core.py&amp;quot;, line 148, in setup&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-22&#34; name=&#34;__codelineno-18-22&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-22&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;22 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;        dist.run_commands()&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-23&#34; name=&#34;__codelineno-18-23&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-23&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;23 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/distutils/dist.py&amp;quot;, line 966, in run_commands&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-24&#34; name=&#34;__codelineno-18-24&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-24&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;24 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;        self.run_command(cmd)&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-25&#34; name=&#34;__codelineno-18-25&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-25&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;25 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/distutils/dist.py&amp;quot;, line 985, in run_command&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-26&#34; name=&#34;__codelineno-18-26&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-26&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;26 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;        cmd_obj.run()&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-27&#34; name=&#34;__codelineno-18-27&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-27&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;27 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;/tmp/pip-install-_zdjdg0j/pygraphviz/setup_commands.py&amp;quot;, line 44, in modified_run&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-28&#34; name=&#34;__codelineno-18-28&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-28&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;28 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;        self.include_path, self.library_path = get_graphviz_dirs()&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-29&#34; name=&#34;__codelineno-18-29&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-29&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;29 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;/tmp/pip-install-_zdjdg0j/pygraphviz/setup_extra.py&amp;quot;, line 162, in get_graphviz_dirs&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-30&#34; name=&#34;__codelineno-18-30&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-30&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;30 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;        include_dirs, library_dirs = _try_configure(include_dirs, library_dirs, _pkg_config)&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-31&#34; name=&#34;__codelineno-18-31&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-31&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;31 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;/tmp/pip-install-_zdjdg0j/pygraphviz/setup_extra.py&amp;quot;, line 117, in _try_configure&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-32&#34; name=&#34;__codelineno-18-32&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-32&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;32 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;        i, l = try_function()&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-33&#34; name=&#34;__codelineno-18-33&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-33&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;33 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;/tmp/pip-install-_zdjdg0j/pygraphviz/setup_extra.py&amp;quot;, line 72, in _pkg_config&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-34&#34; name=&#34;__codelineno-18-34&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-34&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;34 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;        output = S.check_output([&amp;#39;&lt;/span&gt;pkg-config&lt;span class=&#34;s1&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;--libs-only-L&lt;span class=&#34;s1&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;libcgraph&lt;span class=&#34;s1&#34;&gt;&amp;#39;])&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-35&#34; name=&#34;__codelineno-18-35&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-35&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;35 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/subprocess.py&amp;quot;, line 395, in check_output&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-36&#34; name=&#34;__codelineno-18-36&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-36&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;36 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;        **kwargs).stdout&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-37&#34; name=&#34;__codelineno-18-37&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-37&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;37 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;      File &amp;quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/subprocess.py&amp;quot;, line 487, in run&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-38&#34; name=&#34;__codelineno-18-38&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-38&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;38 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;        output=stdout, stderr=stderr)&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-39&#34; name=&#34;__codelineno-18-39&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-39&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;39 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;    subprocess.CalledProcessError: Command &amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;pkg-config&amp;#39;&lt;/span&gt;,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;--libs-only-L&amp;#39;&lt;/span&gt;,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;libcgraph&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; returned non-zero exit status 1.&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-40&#34; name=&#34;__codelineno-18-40&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-40&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;40 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-18-41&#34; name=&#34;__codelineno-18-41&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-41&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;41 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;    ----------------------------------------&lt;/span&gt;
&lt;a id=&#34;__codelineno-18-42&#34; name=&#34;__codelineno-18-42&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-18-42&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;42 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s1&#34;&gt;Command &amp;quot;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/python3.7 -u -c &amp;quot;import setuptools, tokenize;__file__=&amp;#39;&lt;/span&gt;/tmp/pip-install-_zdjdg0j/pygraphviz/setup.py&lt;span class=&#34;s1&#34;&gt;&amp;#39;;f=getattr(tokenize, &amp;#39;&lt;/span&gt;open&lt;span class=&#34;s1&#34;&gt;&amp;#39;, open)(__file__);code=f.read().replace(&amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\r\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;);f.close();exec(compile(code, __file__, &amp;#39;&lt;/span&gt;exec&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot; install --record /tmp/pip-record-g0mz7lrq/install-record.txt --single-version-externally-managed --compile&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;failed&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;with&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;error&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;code&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/tmp/pip-install-_zdjdg0j/pygraphviz/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;参考：《&lt;a href=&#34;https://github.com/pygraphviz/pygraphviz/issues/11&#34;&gt;Installation:fatal error: &#39;graphviz/cgraph.h&#39; file not found&lt;/a&gt;》&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-19-1&#34; name=&#34;__codelineno-19-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://graphviz.gitlab.io/pub/graphviz/stable/SOURCES/graphviz.tar.gz
&lt;a id=&#34;__codelineno-19-2&#34; name=&#34;__codelineno-19-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;tar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zvxf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;graphviz.tar.gz
&lt;a id=&#34;__codelineno-19-3&#34; name=&#34;__codelineno-19-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;graphviz-2.40.1
&lt;a id=&#34;__codelineno-19-4&#34; name=&#34;__codelineno-19-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;./configure&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1
&lt;a id=&#34;__codelineno-19-5&#34; name=&#34;__codelineno-19-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-19-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;推荐把安装好的 graphviz 添加到环境变量，这样可以避免运行过程中出现：&lt;strong&gt;&#34;pygraphviz/graphviz_wrap.c:2987:29: fatal error: graphviz/cgraph.h: No such file or directory&#34;&lt;/strong&gt; 无法找到头文件的异常。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-20-1&#34; name=&#34;__codelineno-20-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PKG_CONFIG_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib/pkgconfig:&lt;span class=&#34;nv&#34;&gt;$PKG_CONFIG_PATH&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-2&#34; name=&#34;__codelineno-20-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib:&lt;span class=&#34;nv&#34;&gt;$LD_LIBRARY_PATH&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-3&#34; name=&#34;__codelineno-20-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;C_INCLUDE_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include:&lt;span class=&#34;nv&#34;&gt;$C_INCLUDE_PATH&lt;/span&gt;
&lt;a id=&#34;__codelineno-20-4&#34; name=&#34;__codelineno-20-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-20-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CPLUS_INCLUDE_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include:&lt;span class=&#34;nv&#34;&gt;$CPLUS_INCLUDE_PATH&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果 graphviz 添加到环境变量， &lt;code&gt;pygraphviz&lt;/code&gt; 的 python 包可以参考下面的方法安装：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-21-1&#34; name=&#34;__codelineno-21-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/pip3&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--global-option&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;build_ext&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--global-option&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;-I/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--global-option&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;-L/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pygraphviz
&lt;a id=&#34;__codelineno-21-2&#34; name=&#34;__codelineno-21-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/site-packages/pip/_internal/commands/install.py:207:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;UserWarning:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Disabling&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;all&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;use&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;of&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;wheels&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;due&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;use&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;of&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--build-options&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--global-options&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--install-options.
&lt;a id=&#34;__codelineno-21-3&#34; name=&#34;__codelineno-21-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;cmdoptions.check_install_build_global&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;options&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;a id=&#34;__codelineno-21-4&#34; name=&#34;__codelineno-21-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Collecting&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pygraphviz
&lt;a id=&#34;__codelineno-21-5&#34; name=&#34;__codelineno-21-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;Using&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;cached&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://files.pythonhosted.org/packages/7e/b1/d6d849ddaf6f11036f9980d433f383d4c13d1ebcfc3cd09bc845bda7e433/pygraphviz-1.5.zip
&lt;a id=&#34;__codelineno-21-6&#34; name=&#34;__codelineno-21-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Installing&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;collected&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;packages:&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pygraphviz
&lt;a id=&#34;__codelineno-21-7&#34; name=&#34;__codelineno-21-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;Running&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;setup.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pygraphviz&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;...&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;a id=&#34;__codelineno-21-8&#34; name=&#34;__codelineno-21-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-21-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Successfully&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;installed&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pygraphviz-1.5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;_3&#34;&gt;编译安装&lt;a class=&#34;headerlink&#34; href=&#34;#_3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;这里的编译安装，以 Python-3.11.6 为示例。&lt;/p&gt;
&lt;p&gt;第一，下载 Python 源码，解压。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-22-1&#34; name=&#34;__codelineno-22-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 官网下载地址 https://www.python.org/downloads&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-2&#34; name=&#34;__codelineno-22-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://www.python.org/ftp/python/3.11.6/Python-3.11.6.tgz
&lt;a id=&#34;__codelineno-22-3&#34; name=&#34;__codelineno-22-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-22-4&#34; name=&#34;__codelineno-22-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 解压到指定目录&lt;/span&gt;
&lt;a id=&#34;__codelineno-22-5&#34; name=&#34;__codelineno-22-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-22-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;tar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zvxf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Python-3.11.6.tgz&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-C&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/usr/local/src
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;第二，进入解压的源码路径，编译 Python 源码。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-23-1&#34; name=&#34;__codelineno-23-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PKG_CONFIG_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib/pkgconfig:&lt;span class=&#34;nv&#34;&gt;$PKG_CONFIG_PATH&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-2&#34; name=&#34;__codelineno-23-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PKG_CONFIG_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib/pkgconfig:&lt;span class=&#34;nv&#34;&gt;$PKG_CONFIG_PATH&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-3&#34; name=&#34;__codelineno-23-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-23-4&#34; name=&#34;__codelineno-23-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib64:&lt;span class=&#34;nv&#34;&gt;$LD_LIBRARY_PATH&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-5&#34; name=&#34;__codelineno-23-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib:&lt;span class=&#34;nv&#34;&gt;$LD_LIBRARY_PATH&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-6&#34; name=&#34;__codelineno-23-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib:&lt;span class=&#34;nv&#34;&gt;$LD_LIBRARY_PATH&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-7&#34; name=&#34;__codelineno-23-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib:&lt;span class=&#34;nv&#34;&gt;$LD_LIBRARY_PATH&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-8&#34; name=&#34;__codelineno-23-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib:&lt;span class=&#34;nv&#34;&gt;$LD_LIBRARY_PATH&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-9&#34; name=&#34;__codelineno-23-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/lib:&lt;span class=&#34;nv&#34;&gt;$LD_LIBRARY_PATH&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-10&#34; name=&#34;__codelineno-23-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-23-11&#34; name=&#34;__codelineno-23-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;TCLTK_LIBS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;-L/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/lib -ltcl8.6 -ltk8.6&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-12&#34; name=&#34;__codelineno-23-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;TCLTK_CFLAGS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;-I/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/include&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-13&#34; name=&#34;__codelineno-23-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-23-14&#34; name=&#34;__codelineno-23-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;./configure&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-15&#34; name=&#34;__codelineno-23-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;--enable-optimizations&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-16&#34; name=&#34;__codelineno-23-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;--prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/Python-3.11.6&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-17&#34; name=&#34;__codelineno-23-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;--with-openssl&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/openssl-1.1.1&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-18&#34; name=&#34;__codelineno-23-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;--with-openssl-rpath&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-19&#34; name=&#34;__codelineno-23-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nv&#34;&gt;CC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/gcc-7.3.0/bin/gcc&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-20&#34; name=&#34;__codelineno-23-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nv&#34;&gt;CXX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Bioinfo/Pipeline/SoftWare/gcc-7.3.0/bin/c++&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-21&#34; name=&#34;__codelineno-23-21&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-21&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;21 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nv&#34;&gt;LDFLAGS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;-L/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib64 \&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-22&#34; name=&#34;__codelineno-23-22&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-22&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;22 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s2&#34;&gt;         -L/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib \&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-23&#34; name=&#34;__codelineno-23-23&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-23&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;23 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s2&#34;&gt;         -L/RiboBio/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib \&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-24&#34; name=&#34;__codelineno-23-24&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-24&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;24 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s2&#34;&gt;         -L/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-25&#34; name=&#34;__codelineno-23-25&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-25&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;25 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nv&#34;&gt;CPPFLAGS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;-I/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include \&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-26&#34; name=&#34;__codelineno-23-26&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-26&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;26 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s2&#34;&gt;          -I/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/include \&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-27&#34; name=&#34;__codelineno-23-27&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-27&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;27 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s2&#34;&gt;          -I/Bioinfo/Pipeline/SoftWare/gdbm-1.23/include&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-28&#34; name=&#34;__codelineno-23-28&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-28&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;28 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nv&#34;&gt;PKG_CONFIG_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib/pkgconfig: \&lt;/span&gt;
&lt;a id=&#34;__codelineno-23-29&#34; name=&#34;__codelineno-23-29&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-23-29&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;29 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;s2&#34;&gt;                 /Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib/pkgconfig&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;--enable-optimizations&lt;/code&gt;  是优化选项（LTO，PGO  等）加上这个  flag  编译后，性能有  10%  左右的优化，但是这会明显的增加编译时间。建议使用这个参数；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--prefix&lt;/code&gt;  声明安装路径；&lt;/li&gt;
&lt;li&gt;安装多个 python 的版本，如果不开启&lt;code&gt;--enable-shared&lt;/code&gt;，指定不同路径即可。当开启&lt;code&gt;--enable-shared&lt;/code&gt; 时，默认只有一个版本的 python。&lt;/li&gt;
&lt;li&gt;Python 3 编译可以在 configure 或者环境变量中指定 OpenSSL 安装路径进行编译的方式解决 OpenSSL 依赖，否则 &lt;code&gt;make&lt;/code&gt;  过程可能出错。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;language-shell highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-24-1&#34; name=&#34;__codelineno-24-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make
&lt;a id=&#34;__codelineno-24-2&#34; name=&#34;__codelineno-24-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;......
&lt;a id=&#34;__codelineno-24-3&#34; name=&#34;__codelineno-24-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;The&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;following&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;modules&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;found&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;by&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;detect_modules&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;setup.py,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;have&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;been
&lt;a id=&#34;__codelineno-24-4&#34; name=&#34;__codelineno-24-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;built&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;by&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Makefile&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;instead,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;as&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;configured&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;by&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Setup&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;files:
&lt;a id=&#34;__codelineno-24-5&#34; name=&#34;__codelineno-24-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;_abc&lt;span class=&#34;w&#34;&gt;                  &lt;/span&gt;atexit&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;
&lt;a id=&#34;__codelineno-24-6&#34; name=&#34;__codelineno-24-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;time&lt;/span&gt;
&lt;a id=&#34;__codelineno-24-7&#34; name=&#34;__codelineno-24-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-24-8&#34; name=&#34;__codelineno-24-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-24-9&#34; name=&#34;__codelineno-24-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Failed&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;to&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;build&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;these&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;modules:
&lt;a id=&#34;__codelineno-24-10&#34; name=&#34;__codelineno-24-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;_ctypes&lt;span class=&#34;w&#34;&gt;               &lt;/span&gt;_hashlib&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;_ssl
&lt;a id=&#34;__codelineno-24-11&#34; name=&#34;__codelineno-24-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-24-12&#34; name=&#34;__codelineno-24-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-24-13&#34; name=&#34;__codelineno-24-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Could&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;not&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;build&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ssl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;module!
&lt;a id=&#34;__codelineno-24-14&#34; name=&#34;__codelineno-24-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;Python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;requires&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;an&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;OpenSSL&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.0.2&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;or&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.1&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;compatible&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libssl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;with&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;X509_VERIFY_PARAM_set1_host&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;.
&lt;a id=&#34;__codelineno-24-15&#34; name=&#34;__codelineno-24-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;LibreSSL&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;.6.4&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;and&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;earlier&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;not&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;provide&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;the&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;necessary&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;APIs,&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://github.com/libressl-portable/portable/issues/381
&lt;a id=&#34;__codelineno-24-16&#34; name=&#34;__codelineno-24-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-24-17&#34; name=&#34;__codelineno-24-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-24-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;......
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;make&lt;/code&gt; 过程如果出现 &lt;code&gt;ModuleNotFoundError: No module named &#39;_ctypes&#39;&lt;/code&gt; 或者 &lt;code&gt;INFO: Could not locate ffi libs and/or headers&lt;/code&gt; 参考：&lt;a href=&#34;https://groups.google.com/forum/#!topic/comp.lang.python/npv-wzmytzo&#34;&gt;https://groups.google.com/forum/#!topic/comp.lang.python/npv-wzmytzo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt=&#34;image.png&#34; src=&#34;https://shub.weiyan.tech/yuque/elog-cookbook-img/FmK7bCeEeGjfbl1UVdvHyw3Jg8Zj.png&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于低版本的 Python 如果指定 &lt;code&gt;--with-openssl=DIR&lt;/code&gt; 依然无法解决 ssl 模块的问题，可以参考修改 Modules/Setup.dist 文件（默认这块是注释的，放开注释即可。这块功能是开启 SSL 模块，不然会出现安装完毕后，提示找不到 ssl 模块的错误）再执行 configure，修改内容如下：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-25-1&#34; name=&#34;__codelineno-25-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# Socket module helper for SSL support; you must comment out the other&lt;/span&gt;
&lt;a id=&#34;__codelineno-25-2&#34; name=&#34;__codelineno-25-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# socket line above, and possibly edit the SSL variable:&lt;/span&gt;
&lt;a id=&#34;__codelineno-25-3&#34; name=&#34;__codelineno-25-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nv&#34;&gt;SSL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/ssl
&lt;a id=&#34;__codelineno-25-4&#34; name=&#34;__codelineno-25-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;_ssl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;_ssl.c&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
&lt;a id=&#34;__codelineno-25-5&#34; name=&#34;__codelineno-25-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-DUSE_SSL&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-I&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;SSL&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/include&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-I&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;SSL&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/include/openssl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\&lt;/span&gt;
&lt;a id=&#34;__codelineno-25-6&#34; name=&#34;__codelineno-25-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-25-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-L&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;SSL&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/lib&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-lssl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-lcrypto
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;第三，Makefile 生后依次在当前路径执行编译和安装命令。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-26-1&#34; name=&#34;__codelineno-26-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-26-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;第四，安装完成。以上命令执行完毕，且无报错的情况下，我们将默认 python 换将切换至 3.11.6（一般不建议替换，个人建议把自定义安装的 Python bin 路径添加到 PATH 环境变量即可）：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-27-1&#34; name=&#34;__codelineno-27-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 替换系统自带的 python（不建议）&lt;/span&gt;
&lt;a id=&#34;__codelineno-27-2&#34; name=&#34;__codelineno-27-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;mv&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/usr/bin/python&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/usr/bin/python2
&lt;a id=&#34;__codelineno-27-3&#34; name=&#34;__codelineno-27-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;ln&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-s&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/Bioinfo/Pipeline/SoftWare/Python-3.11.6/bin/python3&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/usr/bin/python3
&lt;a id=&#34;__codelineno-27-4&#34; name=&#34;__codelineno-27-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-27-5&#34; name=&#34;__codelineno-27-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 添加新 Python 到 PATH 环境变量（建议）&lt;/span&gt;
&lt;a id=&#34;__codelineno-27-6&#34; name=&#34;__codelineno-27-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;export PATH=/Bioinfo/Pipeline/SoftWare/Python-3.11.6/bin:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&amp;gt;&amp;gt;~/.bashrc
&lt;a id=&#34;__codelineno-27-7&#34; name=&#34;__codelineno-27-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-27-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;运行命令 &lt;code&gt;python -V&lt;/code&gt; ，查看是否出现 3.11.6  的版本，出现即为安装成功。&lt;/p&gt;
&lt;h2 id=&#34;_4&#34;&gt;其他工具&lt;a class=&#34;headerlink&#34; href=&#34;#_4&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Python &amp;gt;= 3.10 在安装时候，默认会同时安装 &lt;strong&gt;pip3&lt;/strong&gt;！如果你的 python &amp;lt; 3.10，可以参考下面的方法安装 pip。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-28-1&#34; name=&#34;__codelineno-28-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 下载 setuptools 和 pip 安装程序&lt;/span&gt;
&lt;a id=&#34;__codelineno-28-2&#34; name=&#34;__codelineno-28-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;curl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://bootstrap.pypa.io/get-pip.py&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-o&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;get-pip.py
&lt;a id=&#34;__codelineno-28-3&#34; name=&#34;__codelineno-28-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-28-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;python3&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;get-pip.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;至此，CentOS Linux release 6.5 下的 python-3.11.6  全部安装完成。如果在安装过程中出现其他的报错，建议把 error 关键信息直接复制到 Google 进行检索，参考其他人的解决方法。&lt;/p&gt;
&lt;h2 id=&#34;_5&#34;&gt;其他异常与解决&lt;a class=&#34;headerlink&#34; href=&#34;#_5&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&#34;_bz2&#34;&gt;_bz2&lt;a class=&#34;headerlink&#34; href=&#34;#_bz2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;系统：CentOS Linux release 7.7.1908 (Core)&lt;/li&gt;
&lt;li&gt;GCC：gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-39)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在 CentOS 7 中安装 Python-3.6.9 中发现 make 过程中一直提示：&#34;&lt;strong&gt;ModuleNotFoundError: No module named &#39;_bz2&#39;&lt;/strong&gt;&#34;，尽管 &lt;code&gt;sudo yum install bzip2 bzip2-devel&lt;/code&gt;  已经安装了 bzip2 的依赖，问题还是不得其解。最后参考 stackoverflow 上的《Correctly building local python3, with bz2 support》，终于解决问题，下面记录一下。
&lt;a href=&#34;https://stackoverflow.com/questions/51149227/correctly-building-local-python3-with-bz2-support&#34;&gt;Correctly building local python3, with bz2 support&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;手动安装 bzip2：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-29-1&#34; name=&#34;__codelineno-29-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://nchc.dl.sourceforge.net/project/bzip2/bzip2-1.0.6.tar.gz
&lt;a id=&#34;__codelineno-29-2&#34; name=&#34;__codelineno-29-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;tar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zvxf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;bzip2-1.0.6.tar.gz
&lt;a id=&#34;__codelineno-29-3&#34; name=&#34;__codelineno-29-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;bzip2-1.0.6
&lt;a id=&#34;__codelineno-29-4&#34; name=&#34;__codelineno-29-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-f&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Makefile_libbz2_so&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# 这一步是生成 libbz2.so.1.0.6 的动态库文件&lt;/span&gt;
&lt;a id=&#34;__codelineno-29-5&#34; name=&#34;__codelineno-29-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make
&lt;a id=&#34;__codelineno-29-6&#34; name=&#34;__codelineno-29-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PREFIX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/software/bzip2-1.0.6
&lt;a id=&#34;__codelineno-29-7&#34; name=&#34;__codelineno-29-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-29-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;cp&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;libbz2.so.1.0.6&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/usr/local/software/bzip2-1.0.6/lib/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;几点说明：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;bzip2 的官网  &lt;a href=&#34;http://www.bzip.org/&#34;&gt;http://www.bzip.org/&lt;/a&gt;  已经把 bzip2 的源码下载链接放到了  SourceForge，网络上一些从  &lt;a href=&#34;http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz&#34;&gt;http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz&lt;/a&gt;  下载的做法已经失效。&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://sourceforge.net/projects/bzip2/files/&#34;&gt;SourceForge&lt;/a&gt; 上 bzip2 的最新版本还是 1.0.6（Last modified 2018-11-3），更高级版本的 bzip2 我也不知道是否存在，也不知道能不能用。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt=&#34;image.png&#34; src=&#34;https://shub.weiyan.tech/yuque/elog-cookbook-img/FvgxGWlVJSxOCvgXFo9BPOa3ODm5.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;编译安装 Python-3.6.9：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-30-1&#34; name=&#34;__codelineno-30-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-30-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://www.python.org/ftp/python/3.6.9/Python-3.6.9.tgz
&lt;a id=&#34;__codelineno-30-2&#34; name=&#34;__codelineno-30-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-30-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;tar&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;zvxf&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Python-3.6.9.tgz
&lt;a id=&#34;__codelineno-30-3&#34; name=&#34;__codelineno-30-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-30-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;Python-3.6.9
&lt;a id=&#34;__codelineno-30-4&#34; name=&#34;__codelineno-30-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-30-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;./configure&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--enable-optimizations&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/software/python-3.6&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CFLAGS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;-I/usr/local/software/bzip2-1.0.6/include&amp;quot;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;LDFLAGS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;-L/usr/local/software/bzip2-1.0.6/lib&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-30-5&#34; name=&#34;__codelineno-30-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-30-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make
&lt;a id=&#34;__codelineno-30-6&#34; name=&#34;__codelineno-30-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-30-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;make&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Python-3.6.9 中的 &lt;code&gt;./configure --help&lt;/code&gt; 中没有 &lt;code&gt;--with-openssl&lt;/code&gt; 参数！有点神奇，我也不知道原因。&lt;/li&gt;
&lt;li&gt;安装完成可以用 &lt;code&gt;from _bz2 import BZ2Compressor, BZ2Decompressor&lt;/code&gt; 测试一下 &lt;code&gt;_bz2&lt;/code&gt;  是否可用。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;_6&#34;&gt;参考资料&lt;a class=&#34;headerlink&#34; href=&#34;#_6&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;行者无疆-ITer,《&lt;a href=&#34;https://www.cnblogs.com/ITer-jack/p/8305912.html&#34;&gt;python2.7 源码编译安装&lt;/a&gt;》, 博客园&lt;/li&gt;
&lt;li&gt;Scott Frazer,《&lt;a href=&#34;https://stackoverflow.com/questions/23548188/how-do-i-compile-python-3-4-with-custom-openssl&#34;&gt;How do I compile Python 3.4 with custom OpenSSL?&lt;/a&gt;》, Stack Overflow&lt;/li&gt;
&lt;/ol&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;13&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Thu, 02 Nov 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>在 Linux 上给用户赋予指定目录的读写权限</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;p&gt;在 Linux 上指定目录的读写权限赋予用户，有两种方法可以实现这个目标：第一种是使用 ACL (访问控制列表)，第二种是创建用户组来管理文件权限，下面会一一介绍。为了完成这个教程，我们将使用以下设置：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;操作系统：CentOS 7&lt;/li&gt;
&lt;li&gt;测试目录：/data/share&lt;/li&gt;
&lt;li&gt;测试用户：shenweiyan&lt;/li&gt;
&lt;li&gt;文件系统类型：ext4&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;请确认所有的命令都是使用 root 用户执行的，或者使用 sudo 命令来享受与之同样的权限。让我们开始吧！下面，先使用 mkdir 命令来创建一个名为 share 的目录。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;mkdir&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-p&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/data/share
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;1-acl&#34;&gt;1. ACL 权限设置&lt;a class=&#34;headerlink&#34; href=&#34;#1-acl&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;重要提示：&lt;/strong&gt;     &lt;br /&gt;
打算使用此方法的话，您需要确认您的 Linux 文件系统类型（如 ext3 和 ext4, NTFS, BTRFS）支持 ACL。&lt;/p&gt;
&lt;h3 id=&#34;11-acl&#34;&gt;1.1. 查看内核是否支持 ACL&lt;a class=&#34;headerlink&#34; href=&#34;#11-acl&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;依照以下命令在您的系统中检查当前文件系统类型，并且查看内核是否支持 ACL：**&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;df&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-T&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;awk&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $1,$2,$NF}&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;grep&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;^/dev&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-1-2&#34; name=&#34;__codelineno-1-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;grep&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-i&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;acl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/boot/config*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;从下方的截屏可以看到，文件系统类型是 ext4，并且从 &lt;code&gt;CONFIG_EXT4_FS_POSIX_ACL=y&lt;/code&gt; 选项可以发现内核是支持 POSIX ACL 的。
&lt;img alt=&#34;config-ext4-fs-posix-acl&#34; src=&#34;https://kg.weiyan.cc/2024/08/config-ext4-fs-posix-acl.webp&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;12-acl&#34;&gt;1.2. 挂载是否使用了 ACL&lt;a class=&#34;headerlink&#34; href=&#34;#12-acl&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;使用下面的命令，查看文件系统（分区）挂载时是否使用了 ACL 选项。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;tune2fs&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-l&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/dev/vda1&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;grep&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;acl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img alt=&#34;tune2fs-acl&#34; src=&#34;https://kg.weiyan.cc/2024/08/tune2fs-acl.webp&#34; /&gt;    &lt;br /&gt;
通过上边的输出可以发现，默认的挂载项目中已经对 ACL 进行了支持。如果发现结果不如所愿，你可以通过以下命令对指定分区（此例中使用 /dev/sda3）开启 ACL 的支持）。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;mount&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-o&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;remount,acl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/
&lt;a id=&#34;__codelineno-3-2&#34; name=&#34;__codelineno-3-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;tune2fs&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-o&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;acl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/dev/sda3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;13-acl&#34;&gt;1.3. 设置 ACL 权限&lt;a class=&#34;headerlink&#34; href=&#34;#13-acl&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;setfacl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-m&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;m:rx&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;文件名&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# 给 mask 的权限为 r-x ，使用 &amp;quot;m:rx&amp;quot;格式 &lt;/span&gt;
&lt;a id=&#34;__codelineno-4-2&#34; name=&#34;__codelineno-4-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-4-3&#34; name=&#34;__codelineno-4-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;setfacl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-m&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;u:用户名:权限&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-R&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;目录名&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# 递归 ACL 权限(针对目录现有的文件设置 ACL) &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;例如，指定目录 &lt;code&gt;share&lt;/code&gt; 的读写权限分配给名为 &lt;code&gt;shenweiyan&lt;/code&gt; 的用户了，依照以下命令执行即可。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 检查目录默认的 ACL 设置（Check the default ACL settings for the directory）&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-2&#34; name=&#34;__codelineno-5-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;getfacl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/data/share
&lt;a id=&#34;__codelineno-5-3&#34; name=&#34;__codelineno-5-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-5-4&#34; name=&#34;__codelineno-5-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 指定用户读写权限（Give rw access to user shenweiyan）&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-5&#34; name=&#34;__codelineno-5-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 对于目录必须增加 x (执行)权限, 否则无法进入目录&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-6&#34; name=&#34;__codelineno-5-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;setfacl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-m&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;user:shenweiyan:rwx&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/data/share
&lt;a id=&#34;__codelineno-5-7&#34; name=&#34;__codelineno-5-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-5-8&#34; name=&#34;__codelineno-5-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 再次检查目录 ACL 设置（Check new ACL settings for the directory）&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-9&#34; name=&#34;__codelineno-5-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;getfacl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/data/share
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img alt=&#34;setfacl-m-user&#34; src=&#34;https://kg.weiyan.cc/2024/08/setfacl-m-user.webp&#34; /&gt;    &lt;br /&gt;
在上方的截屏中，通过输出结果的第二行 getfacl 命令可以发现，用户 shenweiyan 已经成功的被赋予了 /data/share 目录的读写权限。&lt;/p&gt;
&lt;p&gt;如果想要获取 ACL 列表的更多信息。请参考：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.tecmint.com/set-access-control-lists-acls-and-disk-quotas-for-users-groups/&#34;&gt;如何使用访问控制列表（ACL）为用户/组设置磁盘配额&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.tecmint.com/rhcsa-exam-configure-acls-and-mount-nfs-samba-shares/&#34;&gt;如何使用访问控制列表（ACL）挂载网络共享&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;14-acl&#34;&gt;1.4. 删除 ACL 权限&lt;a class=&#34;headerlink&#34; href=&#34;#14-acl&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果用户名（组名）已经删除，可以使用 UID（GID）进行删除。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-6-1&#34; name=&#34;__codelineno-6-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;setfacl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-x&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;u:用户名&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;文件名&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# 删除指定用户的 ACL 权限&lt;/span&gt;
&lt;a id=&#34;__codelineno-6-2&#34; name=&#34;__codelineno-6-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;setfacl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-x&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;g:组名&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;文件名&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# 删除指定组的 ACL 权限 &lt;/span&gt;
&lt;a id=&#34;__codelineno-6-3&#34; name=&#34;__codelineno-6-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;setfacl&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-b&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;文件名&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# 删除文件下所有的 ACL 权限 &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;2&#34;&gt;2. 用户组权限设置&lt;a class=&#34;headerlink&#34; href=&#34;#2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&#34;21&#34;&gt;2.1. 变更属组&lt;a class=&#34;headerlink&#34; href=&#34;#21&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;如果用户已经拥有了默认的用户组（通常组名与用户名相同），就可以简单的通过变更文件夹的所属用户组来完成。&lt;/p&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-7-1&#34; name=&#34;__codelineno-7-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chgrp&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;shenweiyan&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;share&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;另外，我们也可以通过以下方法为多个用户（需要赋予指定目录读写权限的）新建一个用户组。如此一来，也就创建了一个共享目录。&lt;/p&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-8-1&#34; name=&#34;__codelineno-8-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-8-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;groupadd&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dbshare&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;22&#34;&gt;2.2. 把用户添加到属组&lt;a class=&#34;headerlink&#34; href=&#34;#22&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;接下来将用户 &lt;code&gt;shenweiyan&lt;/code&gt; 添加到 &lt;code&gt;dbshare&lt;/code&gt; 组中：&lt;/p&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-9-1&#34; name=&#34;__codelineno-9-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# add user to projects&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-2&#34; name=&#34;__codelineno-9-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;usermod&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;aG&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dbshare&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;shenweiyan&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-3&#34; name=&#34;__codelineno-9-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-9-4&#34; name=&#34;__codelineno-9-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# check users groups&lt;/span&gt;
&lt;a id=&#34;__codelineno-9-5&#34; name=&#34;__codelineno-9-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-9-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;groups&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tecmint&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;23&#34;&gt;2.3. 变更属组&lt;a class=&#34;headerlink&#34; href=&#34;#23&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;将目录的所属用户组变更为 &lt;code&gt;dbshare&lt;/code&gt;：&lt;/p&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-10-1&#34; name=&#34;__codelineno-10-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-10-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chgrp&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;projects&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;share&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;24&#34;&gt;2.4. 设置组员权限&lt;a class=&#34;headerlink&#34; href=&#34;#24&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;现在，给组成员设置读写权限。&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-11-1&#34; name=&#34;__codelineno-11-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;chmod&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-R&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0760&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/data/share
&lt;a id=&#34;__codelineno-11-2&#34; name=&#34;__codelineno-11-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-11-3&#34; name=&#34;__codelineno-11-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# check new permissions&lt;/span&gt;
&lt;a id=&#34;__codelineno-11-4&#34; name=&#34;__codelineno-11-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-11-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;$&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;ls&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-l&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/data/share
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ok，在 Linux 上给用户赋予指定目录的读写权限就介绍到这里 ！&lt;/p&gt;
&lt;h2 id=&#34;3&#34;&gt;3. 参考资料&lt;a class=&#34;headerlink&#34; href=&#34;#3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;高延斌，《&lt;a href=&#34;https://www.ibm.com/developerworks/cn/linux/l-acl/index.html&#34;&gt;Linux ACL 体验&lt;/a&gt;》，IBM Developer&lt;/li&gt;
&lt;li&gt;Mr-Ping，《在 Linux 上给用户赋予指定目录的读写权限》，Linux 中国&lt;/li&gt;
&lt;/ul&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;9&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Mon, 23 Oct 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>WebStack-Hugo | 一个静态响应式导航主题</title>
      
      
        
      <author>shenweiyan</author>
        
      
      
      
      <description>&lt;blockquote&gt;
&lt;p&gt;Via：&lt;a href=&#34;https://mp.weixin.qq.com/s/gVWGjxG9qd7qSyX3N8Zgag&#34;&gt;我给自己做了一个导航网站&lt;/a&gt; | &lt;a href=&#34;https://www.bioitee.com&#34;&gt;BioIT爱好者&lt;/a&gt;    &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;让更多人的人制作自己的导航网站。如果你觉得本主题对你有所帮助，欢迎请作者 &lt;a href=&#34;https://kg.weiyan.cc/0000/img/donate.webp&#34;&gt;喝杯咖啡&lt;/a&gt; &amp;gt;.&amp;lt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;_1&#34;&gt;主题开源地址&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;GitHub：&lt;a href=&#34;https://github.com/shenweiyan/WebStack-Hugo&#34;&gt;https://github.com/shenweiyan/WebStack-Hugo&lt;/a&gt;   &lt;/li&gt;
&lt;li&gt;Gitee：&lt;a href=&#34;https://gitee.com/shenweiyan/WebStack-Hugo&#34;&gt;https://gitee.com/shenweiyan/WebStack-Hugo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;_2&#34;&gt;主题展示地址&lt;a class=&#34;headerlink&#34; href=&#34;#_2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bioit.top/&#34;&gt;https://www.bioit.top/&lt;/a&gt; - WebStack-Hugo 网址导航&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://hao.bioitee.com/&#34;&gt;https://hao.bioitee.com/&lt;/a&gt; - 生信网址导航&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;_3&#34;&gt;为什么做这个网站&lt;a class=&#34;headerlink&#34; href=&#34;#_3&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;之所以想着要给自己倒腾一个导航网站，主要有几个原因：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;购买了一个域名，且也备案成功了，总想折腾点跟它有关的事情；&lt;/li&gt;
&lt;li&gt;经常在公司、家里（有时候还有其他的临时场所）更换电脑，每次同步书签（或者登陆一些导航网站）需要各种登陆，麻烦。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;说干就干，从 &lt;a href=&#34;https://github.com/WebStackPage/WebStackPage.github.io&#34;&gt;WebStack 的开源项目&lt;/a&gt;开始，断断续续的折腾了好几天，终于把轮子造起来了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kg.weiyan.cc/2023/11/webstack-hugo-collapse.png&#34; width=800&gt;
&lt;img src=&#34;https://kg.weiyan.cc/2023/11/webstack-hugo-expand.png&#34; width=800&gt;
&lt;img src=&#34;https://kg.weiyan.cc/2023/11/webstack-hugo-search.png&#34; width=800&gt;
&lt;img src=&#34;https://kg.weiyan.cc/2023/11/webstack-hugo-phone.png&#34; alt=&#34;webstack-apple&#34; width=600&gt;&lt;/p&gt;
&lt;h2 id=&#34;_4&#34;&gt;跟其他导航网站有什么区别&lt;a class=&#34;headerlink&#34; href=&#34;#_4&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;这是 Hugo 版 WebStack 主题。可以借助 Github/Gitee Pages 或者云平台直接托管部署，无需服务器。&lt;/p&gt;
&lt;p&gt;本项目是基于纯静态的网址导航网站 &lt;a href=&#34;https://github.com/WebStackPage/WebStackPage.github.io&#34;&gt;webstack.cc&lt;/a&gt; 制作的 &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt; 主题，其中部分代码参考了以下几个开源项目：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/WebStackPage/WebStackPage.github.io&#34;&gt;https://github.com/WebStackPage/WebStackPage.github.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/WebStackPage/WebStackPage.github.io&#34;&gt;https://github.com/liutongxu/liutongxu.github.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/iplaycode/webstack-hugo&#34;&gt;https://github.com/iplaycode/webstack-hugo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;总体说一下特点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;采用了一直以来最喜欢的 hugo 部署方式，方便高效。&lt;/li&gt;
&lt;li&gt;主要的配置信息都集成到了 &lt;strong&gt;config.toml&lt;/strong&gt;，一键完成各种自定义的配置。&lt;/li&gt;
&lt;li&gt;导航的各个信息都集成在 &lt;strong&gt;data/webstack.yml&lt;/strong&gt; 文件中，方便后续增删改动。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;language-yaml highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;YAML&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-0-1&#34; name=&#34;__codelineno-0-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;taxonomy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;科研办公&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-2&#34; name=&#34;__codelineno-0-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;icon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;fas fa-flask fa-lg&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-3&#34; name=&#34;__codelineno-0-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-4&#34; name=&#34;__codelineno-0-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;term&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;生物信息&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-5&#34; name=&#34;__codelineno-0-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;links&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-6&#34; name=&#34;__codelineno-0-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;NCBI&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-7&#34; name=&#34;__codelineno-0-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;logo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;n/ncbi.jpg&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-8&#34; name=&#34;__codelineno-0-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;https://www.ncbi.nlm.nih.gov/&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-9&#34; name=&#34;__codelineno-0-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;National Center for Biotechnology Information.&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-10&#34; name=&#34;__codelineno-0-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;Bioconda&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-11&#34; name=&#34;__codelineno-0-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;logo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;b/bioconda.jpg&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-12&#34; name=&#34;__codelineno-0-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;https://anaconda.org/bioconda/&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-13&#34; name=&#34;__codelineno-0-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;Bioconda&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Anaconda.org.&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-14&#34; name=&#34;__codelineno-0-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;term&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;云服务器&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-15&#34; name=&#34;__codelineno-0-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;links&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-16&#34; name=&#34;__codelineno-0-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;阿里云&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-17&#34; name=&#34;__codelineno-0-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;logo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;a/aliyun.jpg&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-18&#34; name=&#34;__codelineno-0-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;https://www.aliyun.com/&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-19&#34; name=&#34;__codelineno-0-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;上云就上阿里云。&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-20&#34; name=&#34;__codelineno-0-20&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-20&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;20 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;腾讯云&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-21&#34; name=&#34;__codelineno-0-21&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-21&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;21 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;logo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;c/cloud-tencent.jpg&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-22&#34; name=&#34;__codelineno-0-22&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-22&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;22 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;https://cloud.tencent.com/&lt;/span&gt;
&lt;a id=&#34;__codelineno-0-23&#34; name=&#34;__codelineno-0-23&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-0-23&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;23 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;产业智变，云启未来。&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;做了手机电脑自适应以及夜间模式。&lt;/li&gt;
&lt;li&gt;增加了搜索功能，以及下拉的热词选项（基于百度 API）。&lt;/li&gt;
&lt;li&gt;增加了一言、和风天气的 API（和风天气 API 已经官方已经不再支持，目前还没到到替代）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;windows&#34;&gt;Windows 下安装部署&lt;a class=&#34;headerlink&#34; href=&#34;#windows&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;本安装部署在 Windows 7 x64 上测试没问题，相关操作同样适用于 Windows 10，如有任何问题，欢迎留言或者微信与我联系。&lt;/p&gt;
&lt;h3 id=&#34;hugo&#34;&gt;第一，下载 hugo&lt;a class=&#34;headerlink&#34; href=&#34;#hugo&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;下载链接：&lt;a href=&#34;https://github.com/gohugoio/hugo/releases&#34;&gt;https://github.com/gohugoio/hugo/releases&lt;/a&gt;，在这里我们下载 &lt;a href=&#34;https://github.com/gohugoio/hugo/releases/download/v0.89.4/hugo_0.89.4_Windows-64bit.zip&#34;&gt;hugo_0.89.4_Windows-64bit.zip&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;download-hugo-windows&#34; src=&#34;https://kg.weiyan.cc/2023/11/download-hugo-windows.png&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;_5&#34;&gt;第二，解压&lt;a class=&#34;headerlink&#34; href=&#34;#_5&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;我们把 &lt;a href=&#34;https://github.com/gohugoio/hugo/releases/download/v0.89.4/hugo_0.89.4_Windows-64bit.zip&#34;&gt;hugo_0.89.4_Windows-64bit.zip&lt;/a&gt; 下载到 &lt;strong&gt;F:\WebStack&lt;/strong&gt; 目录下，然后解压到当前文件夹。&lt;/p&gt;
&lt;p&gt;解压完成后，在该目录会多出 &lt;code&gt;hugo.exe&lt;/code&gt;、&lt;code&gt;LICENSE&lt;/code&gt;、&lt;code&gt;README.md&lt;/code&gt; 三个文件：&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;unzip hugo_0.89.4_Windows-64bit&#34; src=&#34;https://kg.weiyan.cc/2023/11/unzip-hugo-0.89.4-windows-64bit.png&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;_6&#34;&gt;第三，检测是否安装成功&lt;a class=&#34;headerlink&#34; href=&#34;#_6&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;通过下面的方法，检测 &lt;code&gt;hugo&lt;/code&gt; 是否安装成功。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;🏷️ 温馨提示：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Windows 命令运行窗口中可以使用 Tab 进行命令行补全，例如你当前目录下有一个 WebStack-Hugo 目录，你在命令行窗口中输入一个 w 后按下 Tab 键，命令行就会自动出现 WebStack-Hugo！&lt;/p&gt;
&lt;p&gt;使用命令行补全，可以减少代码（或者文件名）的输入，方便快捷，又能减少错误！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;在 Windows 中使用 &lt;strong&gt;Win+R&lt;/strong&gt; 打开“&lt;strong&gt;运行&lt;/strong&gt;”对话框，在对话框中输入“&lt;strong&gt;cmd&lt;/strong&gt;”，点击确认。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt=&#34;win-r-cmd&#34; src=&#34;https://kg.weiyan.cc/2023/11/win-r-cmd.png&#34; /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在 Windows 运行窗口，先切换盘符到 &lt;strong&gt;F&lt;/strong&gt; 盘，然后进入 &lt;code&gt;hugo&lt;/code&gt; 的解压缩目录（&lt;strong&gt;F:\WebStack&lt;/strong&gt;），具体操作如下。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在光标处输入 &lt;strong&gt;F:&lt;/strong&gt;，然后按回车；&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;cmd-change-dir&#34; src=&#34;https://kg.weiyan.cc/2023/11/cmd-change-dir.png&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;我们就将盘符切换为 &lt;strong&gt;F&lt;/strong&gt; 盘；&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;cmd-f-dir&#34; src=&#34;https://kg.weiyan.cc/2023/11/cmd-f-dir.png&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;接着输入 &lt;strong&gt;cd WebStack&lt;/strong&gt;，回车，就进入了 &lt;strong&gt;F:\WebStack&lt;/strong&gt; 目录；使用 &lt;strong&gt;ls&lt;/strong&gt; 可以看到当前目录下的文件。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;webstack-win-ls&#34; src=&#34;https://kg.weiyan.cc/2023/11/webstack-win-ls.png&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;最后，输入 &lt;strong&gt;hugo.exe version&lt;/strong&gt;，回车，如图所示，则代表安装成功。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;hugo-exe-version&#34; src=&#34;https://kg.weiyan.cc/2023/11/hugo-exe-version.png&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;webstack-hugo&#34;&gt;第四，下载 WebStack-Hugo&lt;a class=&#34;headerlink&#34; href=&#34;#webstack-hugo&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;浏览器打开 &lt;a href=&#34;https://github.com/shenweiyan/WebStack-Hugo&#34;&gt;https://github.com/shenweiyan/WebStack-Hugo&lt;/a&gt;，点击 Code 下的 &lt;strong&gt;&#34;Download ZIP&#34;&lt;/strong&gt;，把 &lt;strong&gt;WebStack-hugo-main.zip&lt;/strong&gt; 下载到刚才 hugo 解压缩的目录（&lt;strong&gt;F:\WebStack&lt;/strong&gt;）。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;webstack-download-zip&#34; src=&#34;https://kg.weiyan.cc/2023/11/webstack-download-zip.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;webstack-hugo-main-zip&#34; src=&#34;https://kg.weiyan.cc/2023/11/webstack-hugo-main-zip.png&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;_7&#34;&gt;第五，解压和重命名&lt;a class=&#34;headerlink&#34; href=&#34;#_7&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;把 &lt;strong&gt;WebStack-Hugo-main.zip&lt;/strong&gt; 解压到当前目录。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;webstack-hugo-main-unzip&#34; src=&#34;https://kg.weiyan.cc/2023/11/webstack-hugo-main-unzip.png&#34; /&gt;
&lt;img alt=&#34;webstack-hugo-main-rename&#34; src=&#34;https://kg.weiyan.cc/2023/11/webstack-hugo-main-rename.png&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;_8&#34;&gt;第六，安装主题&lt;a class=&#34;headerlink&#34; href=&#34;#_8&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;首先，进入 &lt;strong&gt;F:\WebStack&lt;/strong&gt; 目录；&lt;/p&gt;
&lt;p&gt;然后，创建一个 &lt;strong&gt;themes&lt;/strong&gt; 的文件夹；&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;create-themes-dir&#34; src=&#34;https://kg.weiyan.cc/2023/11/create-themes-dir.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;接着，把解压后的 &lt;strong&gt;WebStack-Hugo&lt;/strong&gt; 整个文件夹移动到 &lt;strong&gt;themes&lt;/strong&gt; 中。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;mv-webstack-hugo-to-themes&#34; src=&#34;https://kg.weiyan.cc/2023/11/mv-webstack-hugo-to-themes.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;第四，将 &lt;code&gt;themes/WebStack-Hugo/exampleSite&lt;/code&gt; 目录下的所有文件复制到 hugo 站点根目录（即 &lt;code&gt;F:\WebStack&lt;/code&gt;）。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;cp-examplesite&#34; src=&#34;https://kg.weiyan.cc/2023/11/cp-examplesite.png&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;_9&#34;&gt;第七，启动预览&lt;a class=&#34;headerlink&#34; href=&#34;#_9&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在刚才已经打开的 Windows 命令运行窗口中，使用下面的命令执行 &lt;strong&gt;hugo server&lt;/strong&gt;，启动站点——Hugo 可以启动一个 Web 服务器，同时构建站点内容到内存中并在检测到文件更改后重新渲染，方便我们在开发环境实时预览对站点所做的更改。&lt;/p&gt;
&lt;div class=&#34;language-shell highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-1-1&#34; name=&#34;__codelineno-1-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-1-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hugo.exe&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img alt=&#34;hugo-exe-server&#34; src=&#34;https://kg.weiyan.cc/2023/11/hugo-exe-server.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;最后，在浏览器中打开 &lt;a href=&#34;http://127.0.0.1:1313/&#34;&gt;&lt;strong&gt;http://127.0.0.1:1313/&lt;/strong&gt;&lt;/a&gt;，即可看到生成的站点。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;webstack-hugo-1313&#34; src=&#34;https://kg.weiyan.cc/2023/11/webstack-hugo-1313.png&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;linux&#34;&gt;Linux 下安装部署&lt;a class=&#34;headerlink&#34; href=&#34;#linux&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;安装完本 WebStack-Hugo 主题后，将 exampleSite 目录下的文件复制到 hugo 站点根目录，根据需要把 config.toml 的一些信息改成自己的，导航的网址信息可通过 data 目录下 webstack.yml 修改。&lt;/p&gt;
&lt;p&gt;具体执行步骤如下：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-2-1&#34; name=&#34;__codelineno-2-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;mkdir&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/home/shenweiyan/mysite
&lt;a id=&#34;__codelineno-2-2&#34; name=&#34;__codelineno-2-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/home/shenweiyan/mysite
&lt;a id=&#34;__codelineno-2-3&#34; name=&#34;__codelineno-2-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-2-4&#34; name=&#34;__codelineno-2-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 安装 WebStack-Hugo 主题&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-5&#34; name=&#34;__codelineno-2-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;git&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;clone&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://github.com/shenweiyan/WebStack-Hugo.git&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;themes/WebStack-Hugo
&lt;a id=&#34;__codelineno-2-6&#34; name=&#34;__codelineno-2-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-2-7&#34; name=&#34;__codelineno-2-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 将 exampleSite 目录下的文件复制到 hugo 站点根目录&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-8&#34; name=&#34;__codelineno-2-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;/home/shenweiyan/mysite
&lt;a id=&#34;__codelineno-2-9&#34; name=&#34;__codelineno-2-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;cp&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-r&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;themes/WebStack-Hugo/exampleSite/*&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;./
&lt;a id=&#34;__codelineno-2-10&#34; name=&#34;__codelineno-2-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-2-11&#34; name=&#34;__codelineno-2-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 启动 hugo 站点&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-12&#34; name=&#34;__codelineno-2-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hugo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;server
&lt;a id=&#34;__codelineno-2-13&#34; name=&#34;__codelineno-2-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 如果你知道你的公网 ip, 如下面的 132.76.230.31, 可以使用下面的方式执行 hugo server&lt;/span&gt;
&lt;a id=&#34;__codelineno-2-14&#34; name=&#34;__codelineno-2-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-2-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hugo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;server&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--baseUrl&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;132&lt;/span&gt;.76.230.31&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;--bind&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;.0.0.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;也可以参考 &lt;a href=&#34;https://github.com/jetsung&#34;&gt;@jetsung&lt;/a&gt; 在 &lt;a href=&#34;https://github.com/shenweiyan/WebStack-Hugo/pull/15&#34;&gt;pull 15&lt;/a&gt; 所用的方法安装部署：&lt;/p&gt;
&lt;div class=&#34;language-bash highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Bash&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-3-1&#34; name=&#34;__codelineno-3-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 创建项目&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-2&#34; name=&#34;__codelineno-3-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;mkdir&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;navsites
&lt;a id=&#34;__codelineno-3-3&#34; name=&#34;__codelineno-3-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$_&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-4&#34; name=&#34;__codelineno-3-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-5&#34; name=&#34;__codelineno-3-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 初始化项目&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-6&#34; name=&#34;__codelineno-3-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;git&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;init
&lt;a id=&#34;__codelineno-3-7&#34; name=&#34;__codelineno-3-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-8&#34; name=&#34;__codelineno-3-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 将 WebStack-Hugo 源下载到 themes/WebStack-Hugo 文件夹&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-9&#34; name=&#34;__codelineno-3-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;git&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;submodule&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;add&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https://github.com/shenweiyan/WebStack-Hugo.git&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;themes/WebStack-Hugo
&lt;a id=&#34;__codelineno-3-10&#34; name=&#34;__codelineno-3-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;cp&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-r&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;themes/WebStack-Hugo/exampleSite/*&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;./
&lt;a id=&#34;__codelineno-3-11&#34; name=&#34;__codelineno-3-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-12&#34; name=&#34;__codelineno-3-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 安装 hugo&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-13&#34; name=&#34;__codelineno-3-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;go&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;install&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;github.com/gohugoio/hugo@latest
&lt;a id=&#34;__codelineno-3-14&#34; name=&#34;__codelineno-3-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-15&#34; name=&#34;__codelineno-3-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 本地测试&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-16&#34; name=&#34;__codelineno-3-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hugo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;server
&lt;a id=&#34;__codelineno-3-17&#34; name=&#34;__codelineno-3-17&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-17&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;17 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-3-18&#34; name=&#34;__codelineno-3-18&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-18&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;18 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;c1&#34;&gt;# 生成 docs 文件夹，将并静态内容生成至此处&lt;/span&gt;
&lt;a id=&#34;__codelineno-3-19&#34; name=&#34;__codelineno-3-19&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-3-19&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;19 &#34;&gt;&lt;/span&gt;&lt;/a&gt;hugo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-D
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;html&#34;&gt;导出 HTML 静态资源&lt;a class=&#34;headerlink&#34; href=&#34;#html&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Windows/Linux 下执行的 &lt;strong&gt;hugo server&lt;/strong&gt; 命令将会通过热加载的方式临时启动一个 Hugo 服务器（Hugo 可以启动一个 Web 服务器，同时构建站点内容到内存中并在检测到文件更改后重新渲染，方便我们在开发环境实时预览对站点所做的更改），这个时候我们打开浏览器 &lt;a href=&#34;http://127.0.0.1:1313/&#34;&gt;http://127.0.0.1:1313/&lt;/a&gt;，就可以看到我们站点的样子了。&lt;/p&gt;
&lt;p&gt;如果我们想要把我们的站点部署到 GitHub/Gitee Pages（或者本地的服务器），我们可以：&lt;/p&gt;
&lt;h3 id=&#34;1&#34;&gt;1. 生成静态页面内容&lt;a class=&#34;headerlink&#34; href=&#34;#1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;可以通过下面的命令，生成(构建)静态页面内容。&lt;/p&gt;
&lt;div class=&#34;language-python highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Python&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-4-1&#34; name=&#34;__codelineno-4-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-4-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;n&#34;&gt;hugo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;D&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;或者&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hugo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;minify&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这个命令会默认在 &lt;strong&gt;&lt;code&gt;public/&lt;/code&gt;&lt;/strong&gt; 目录中生成您的网站，当然您可以通过改变站点配置中的 &lt;strong&gt;&lt;code&gt;publishDir&lt;/code&gt;&lt;/strong&gt; 选项来配置这个输出目录。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;🏷️ Hugo 小知识 - 草案、未来和过期内容&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Hugo 允许您在网站内容的前言设定中设置文档的&lt;code&gt;draft&lt;/code&gt;，&lt;code&gt;publishdate&lt;/code&gt;甚至&lt;code&gt;expirydate&lt;/code&gt;字段。默认情况下，Hugo 不会发布下面内容：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;publishdate&lt;/code&gt; 发布日期值设定在未来的内容；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;draft:true&lt;/code&gt; 草案状态设置为真的内容；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;expirydate&lt;/code&gt; 过期日期值设置为过去某事件的内容。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这三个可以在本地开发和部署编译时通过对&lt;code&gt;hugo&lt;/code&gt;和&lt;code&gt;hugo server&lt;/code&gt;分别添加如下参数来重新设定，或者在配置文件中设定对应(不包含&lt;code&gt;--&lt;/code&gt;)域的 boolean 值：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;-F, --buildFuture include content with publishdate in the future&lt;/li&gt;
&lt;li&gt;-D, --buildDrafts include content marked as draft&lt;/li&gt;
&lt;li&gt;-E, --buildExpired include expired content&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;2&#34;&gt;2. 部署站点&lt;a class=&#34;headerlink&#34; href=&#34;#2&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;把生成的 &lt;code&gt;public/&lt;/code&gt; 静态内容目录上传到 GitHub，开启 GitHub/Gitee Pages，并且绑定 cname 域名即可。&lt;/p&gt;
&lt;h2 id=&#34;_10&#34;&gt;使用说明与技巧&lt;a class=&#34;headerlink&#34; href=&#34;#_10&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;这是一个开源的公益项目，你可以拿来制作自己的网址导航，也可以做与导航无关的网站。&lt;/p&gt;
&lt;h3 id=&#34;_11&#34;&gt;左导航栏图标&lt;a class=&#34;headerlink&#34; href=&#34;#_11&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;左侧、顶部导航栏图标用的都是 &lt;strong&gt;Font Awesome&lt;/strong&gt; 图标库 &lt;strong&gt;v5&lt;/strong&gt; 版本 &lt;strong&gt;Free&lt;/strong&gt; 的图标。链接如下：&lt;/p&gt;
&lt;p&gt;🔗 &lt;a href=&#34;https://fontawesome.com/v5/search?o=r&amp;amp;m=free&#34;&gt;https://fontawesome.com/v5/search?o=r&amp;amp;m=free&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;fontawesome-v5-free&#34; src=&#34;https://kg.weiyan.cc/2023/11/fontawesome-v5-free.png&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;_12&#34;&gt;调整头部搜索栏&lt;a class=&#34;headerlink&#34; href=&#34;#_12&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;头部搜索栏的默认位置可以通过下面的方法进行修改。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;直接修改 &lt;strong&gt;layouts/partials/content_search.html&lt;/strong&gt;，调整对应部分的位置。&lt;/li&gt;
&lt;li&gt;调整默认的搜索（即点击&#34;常用/搜索/工具 ....&#34; 时下指箭头的指向），把对应的 id 添加到对应的 label 里面。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt=&#34;set-default-search-bing&#34; src=&#34;https://kg.weiyan.cc/2023/11/set-default-search-bing.png&#34; /&gt;
&lt;img alt=&#34;view-default-search-bing&#34; src=&#34;https://kg.weiyan.cc/2023/11/view-default-search-bing.png&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;_13&#34;&gt;自定义头部导航&lt;a class=&#34;headerlink&#34; href=&#34;#_13&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/shenweiyan/WebStack-Hugo&#34;&gt;WebStack-Hugo&lt;/a&gt; 把头部的导航菜单的各个信息集成在了 &lt;strong&gt;data/header.yml&lt;/strong&gt; 文件中，每个人可以根据自己的需要调整。&lt;/p&gt;
&lt;div class=&#34;language-yaml highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;YAML&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-5-1&#34; name=&#34;__codelineno-5-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;首页&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-2&#34; name=&#34;__codelineno-5-2&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-2&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 2 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;icon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;fa fa-home&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-3&#34; name=&#34;__codelineno-5-3&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-3&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 3 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;link&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;./&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-4&#34; name=&#34;__codelineno-5-4&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-4&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 4 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-5-5&#34; name=&#34;__codelineno-5-5&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-5&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 5 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;作者&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-6&#34; name=&#34;__codelineno-5-6&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-6&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 6 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;icon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;fa fa-book&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-7&#34; name=&#34;__codelineno-5-7&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-7&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 7 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;link&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;https://www.yuque.com/shenweiyan&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-8&#34; name=&#34;__codelineno-5-8&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-8&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 8 &#34;&gt;&lt;/span&gt;&lt;/a&gt;
&lt;a id=&#34;__codelineno-5-9&#34; name=&#34;__codelineno-5-9&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-9&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34; 9 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;配置&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-10&#34; name=&#34;__codelineno-5-10&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-10&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;10 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;icon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;fa fa-cog&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-11&#34; name=&#34;__codelineno-5-11&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-11&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;11 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;link&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-12&#34; name=&#34;__codelineno-5-12&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-12&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;12 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-13&#34; name=&#34;__codelineno-5-13&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-13&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;13 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;源码&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-14&#34; name=&#34;__codelineno-5-14&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-14&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;14 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;#&amp;quot;&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-15&#34; name=&#34;__codelineno-5-15&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-15&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;15 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p p-Indicator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l l-Scalar l-Scalar-Plain&#34;&gt;图标&lt;/span&gt;
&lt;a id=&#34;__codelineno-5-16&#34; name=&#34;__codelineno-5-16&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-5-16&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;16 &#34;&gt;&lt;/span&gt;&lt;/a&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;#&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;_14&#34;&gt;获取网站图标&lt;a class=&#34;headerlink&#34; href=&#34;#_14&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://nav.bioitee.com/&#34;&gt;Bio &amp;amp; IT 网址导航&lt;/a&gt;默认使用的是个人收集的网站图标，主要是查看网站源码、百度、谷歌等途径把对应导航的图标下载下来，这个方法比较原始繁琐，适合导航不是很多的情况。&lt;/p&gt;
&lt;h4 id=&#34;_15&#34;&gt;一为&lt;a class=&#34;headerlink&#34; href=&#34;#_15&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;你也可以使用一为提供的的 &lt;a href=&#34;https://www.iowen.cn/tag/favicon/&#34;&gt;Favicon&lt;/a&gt; 图标 &lt;a href=&#34;https://www.iowen.cn/tag/api/&#34;&gt;API&lt;/a&gt;：&lt;a href=&#34;https://api.iowen.cn/doc/favicon.html&#34;&gt;获取网站 Favicon - 免费 API 数据接口调用服务平台&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;使用方法：&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;获取 Favicon 图标
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-6-1&#34; name=&#34;__codelineno-6-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-6-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;https://api.iowen.cn/favicon/www.iowen.cn.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;刷新缓存
&lt;div class=&#34;language-text highlight&#34;&gt;&lt;span class=&#34;filename&#34;&gt;Text Only&lt;/span&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;a id=&#34;__codelineno-7-1&#34; name=&#34;__codelineno-7-1&#34;&gt;&lt;/a&gt;&lt;a href=&#34;#__codelineno-7-1&#34;&gt;&lt;span class=&#34;linenos&#34; data-linenos=&#34;1 &#34;&gt;&lt;/span&gt;&lt;/a&gt;https://api.iowen.cn/favicon/www.iowen.cn.png?refresh=true
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将上方代码中的 &lt;code&gt;www.iowen.cn&lt;/code&gt; 替换为你需要获取的网址域名。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;faviconim&#34;&gt;Favicon.im&lt;a class=&#34;headerlink&#34; href=&#34;#faviconim&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;除了一为的 API，你也可以使用 &lt;a href=&#34;https://favicon.im/&#34;&gt;https://favicon.im/&lt;/a&gt; 来在网页中插入其他网站的 Favicon 图片，可以放大显示。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;favicon-im&#34; src=&#34;https://kg.weiyan.cc/2024/08/favicon-im.webp&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;favicon-extractor&#34;&gt;Favicon Extractor&lt;a class=&#34;headerlink&#34; href=&#34;#favicon-extractor&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;类似网站 &lt;a href=&#34;https://www.faviconextractor.com/&#34;&gt;Favicon Downloader&lt;/a&gt;，代码&lt;a href=&#34;https://github.com/seadfeng/favicon-downloader&#34;&gt;开源&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;favicon-extractor&#34; src=&#34;https://kg.weiyan.cc/2024/08/favicon-extractor.webp&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;_16&#34;&gt;已知问题&lt;a class=&#34;headerlink&#34; href=&#34;#_16&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;日间模式与夜间模式切换时候，头部搜索栏的背景图片切换不够流畅（个人的 js 知识有限，在 footer.html 做了一些简单的调整来实现），如果你有更好的想法，欢迎 PR 或者交流。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;_17&#34;&gt;感谢墙&lt;a class=&#34;headerlink&#34; href=&#34;#_17&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;本主题的部分代码参考了以下几个开源项目，特此感谢。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/WebStackPage/WebStackPage.github.io&#34;&gt;WebStackPage/WebStackPage.github.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/liutongxu/liutongxu.github.io&#34;&gt;liutongxu/liutongxu.github.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/iplaycode/webstack-hugo&#34;&gt;iplaycode/webstack-hugo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;感谢 &lt;a href=&#34;https://github.com/WebStackPage/WebStackPage.github.io&#34;&gt;WebStack&lt;/a&gt; 的作者 &lt;a href=&#34;https://twitter.com/decohack&#34;&gt;Viggo&lt;/a&gt; 的肯定和&lt;a href=&#34;https://twitter.com/decohack/status/1569188705478516738&#34;&gt;推广宣传&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;twitter-decohack-webstack-hugo&#34; src=&#34;https://kg.weiyan.cc/2023/11/twitter-decohack-webstack-hugo.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;感谢以下所有朋友对本主题所做出的贡献。     &lt;br /&gt;
&lt;strong&gt;&lt;a href=&#34;https://github.com/yinhanghang&#34;&gt;@yanbeiyinhanghang&lt;/a&gt;&lt;/strong&gt;    &lt;br /&gt;
&lt;strong&gt;&lt;a href=&#34;https://github.com/jetsung&#34;&gt;@jetsung&lt;/a&gt;&lt;/strong&gt;       &lt;/p&gt;
&lt;h2 id=&#34;_18&#34;&gt;赞赏&lt;a class=&#34;headerlink&#34; href=&#34;#_18&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;如果你觉得本项目对你有所帮助，欢迎请作者喝杯热咖啡 &amp;gt;.&amp;lt;     &lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;donate-wecaht-aliapy&#34; src=&#34;https://kg.weiyan.cc/0000/img/donate.webp&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;_19&#34;&gt;反馈与交流&lt;a class=&#34;headerlink&#34; href=&#34;#_19&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;最后，最重要的，秉承 WebStack 的宗旨，这是一个开源的公益项目，你可以拿来制作自己的网址导航，也可以做与导航无关的网站。&lt;/p&gt;
&lt;p&gt;WebStack 有非常多的魔改版本，这是其中一个。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如果你对本主题进行了一些个性化调整，欢迎在本项目中 **&lt;a href=&#34;https://github.com/shenweiyan/WebStack-Hugo/issues&#34;&gt;&lt;strong&gt;issues&lt;/strong&gt;&lt;/a&gt;&lt;/strong&gt; 中一起分享交流！**&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如果参考本主题构建了属于你自己的网址导航，欢迎在本评论区（或源码 **&lt;a href=&#34;https://github.com/shenweiyan/WebStack-Hugo/issues&#34;&gt;&lt;strong&gt;issues&lt;/strong&gt;&lt;/a&gt;&lt;/strong&gt; 区）留下你网站的访问链接 &amp;gt;.&amp;lt;**&lt;/p&gt;
&lt;script src=&#34;https://giscus.app/client.js&#34;
    data-repo=&#34;shenweiyan/Knowledge-Garden&#34;
    data-repo-id=&#34;R_kgDOKgxWlg&#34;
    data-mapping=&#34;number&#34;
    data-term=&#34;10&#34;
    data-reactions-enabled=&#34;1&#34;
    data-emit-metadata=&#34;0&#34;
    data-input-position=&#34;bottom&#34;
    data-theme=&#34;light&#34;
    data-lang=&#34;zh-CN&#34;
    crossorigin=&#34;anonymous&#34;
    async&gt;
&lt;/script&gt;</description>
      
      <pubDate>Mon, 23 Oct 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>技术文档</title>
      
      
        
      <author>沈维燕</author>
        
      
      
      
      <description>&lt;p&gt;Bio &amp;amp; IT 技术私房菜。&lt;/p&gt;
&lt;p&gt;这是作者关于生物信息学、互联网 IT、运维开发、软件安装部署、测评使用等方向的文章集合，大部分为原创。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;本节点的所有文章均来源于个人在 GitHub 的 &#34;&lt;a href=&#34;https://github.com/shenweiyan/Knowledge-Garden/discussions&#34;&gt;Knowledge-Garden&lt;/a&gt;&#34; 仓库讨论区。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;基于 &lt;a href=&#34;https://github.com/shenweiyan/Knowledge-Garden/blob/main/.github/workflows/mkdocs.yml&#34;&gt;GitHub Actions&lt;/a&gt; + 一系列 &lt;a href=&#34;https://github.com/shenweiyan/Knowledge-Garden/tree/main/script&#34;&gt;Python script&lt;/a&gt; 实现每天同步更新与部署。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;_1&#34;&gt;正确的打开方式&lt;a class=&#34;headerlink&#34; href=&#34;#_1&#34; title=&#34;Permanent link&#34;&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;这部分的文章内容仅仅代表我的个人观点，由于技术的更新，如果你发现有些内容已经失效或者错误，欢迎在评论区指出来，我希望我的文章能被别人整理能被修改，因为文章会有错误，也会需要时常更新。&lt;/p&gt;
&lt;div class=&#34;admonition tip&#34;&gt;
&lt;p class=&#34;admonition-title&#34;&gt;为什么我不在微信公众号上写文章 - 陈皓&lt;/p&gt;
&lt;p&gt;最重要的是，&lt;strong&gt;我希望我的文章和观点是有讨论的，希望我的文章能被指正和批评，最好是引发讨论和思辨&lt;/strong&gt;，这样才会让我们每一个人都可以在交流中成长。&lt;strong&gt;很多时候，文章本身并没有什么太大的价值，而引发的讨论和思辨才更有价值，这是我认为文章传播最正确的姿势。&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img alt=&#34;cookbook-cover&#34; src=&#34;https://shub.weiyan.tech/kgarden/mkdocs/cookbook.jpg&#34; /&gt;    &lt;/p&gt;</description>
      
      <pubDate>Mon, 24 Jul 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>可视化</title>
      
      
        
      <author>沈维燕</author>
        
      
      
      
      <description>&lt;p&gt;Python 与 R 语言数据可视化相关文章集。&lt;/p&gt;</description>
      
      <pubDate>Mon, 24 Jul 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>开发运维</title>
      
      
        
      <author>沈维燕</author>
        
      
      
      
      <description>&lt;p&gt;开发与运营维护相关文章。&lt;/p&gt;</description>
      
      <pubDate>Mon, 24 Jul 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>数据库</title>
      
      
        
      <author>沈维燕</author>
        
      
      
      
      <description>&lt;p&gt;数据库相关文章。&lt;/p&gt;</description>
      
      <pubDate>Mon, 24 Jul 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>生物信息</title>
      
      
        
      <author>沈维燕</author>
        
      
      
      
      <description>&lt;p&gt;生物信息学（bioinformatics）利用应用数学、信息学、统计学和计算机科学的方法研究生物学的问题。 生物信息学以各种各样的生物学数据为研究材料，通过计算机处理后再进行结果解读，处理方法包括对生物学数据的搜索（收集和筛选）、处理（编辑、整理、管理和显示）及利用（计算、模拟）。&lt;/p&gt;</description>
      
      <pubDate>Mon, 24 Jul 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
    <item>
      <title>编程技术</title>
      
      
        
      <author>沈维燕</author>
        
      
      
      
      <description>&lt;p&gt;编程技术犹如数字之舞，程序员是信息的诗人，用代码书写着未来的篇章。在这抽象的语言中，隐藏着解谜的艺术，每一行代码都是智慧的印记。编程是一场思维的盛宴，是探索未知的奇航。代码的韵律在屏幕上跃动，如同一曲华美的交响乐，指引着人类走向技术的巅峰。在这位千变万化的编码之道中，探寻无限可能，是程序员们的心之所向。&lt;/p&gt;</description>
      
      <pubDate>Mon, 24 Jul 2023 00:00:00 +0000</pubDate>
      
      
      
      
    </item>
    
  </channel>
</rss>