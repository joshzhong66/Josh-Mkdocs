{"config":{"lang":["en","zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u9996\u9875","text":"<p>\u672c\u7ad9\u70b9\u6587\u7ae0\u4e3b\u8981\u8bb0\u5f55\u4e2a\u4eba\u7684 \u65e5\u5e38\uff0c\u5305\u542b\u5bf9\u4e8e\u4e92\u8054\u7f51 IT\u3001\u8fd0\u7ef4\u3001\u5de5\u4f5c\u751f\u6d3b\u7684\u76f8\u5173\u6587\u7ae0\u6c47\u603b\u3002</p> <p></p> <p>\u975e\u5e38\u559c\u6b22\u7eaa\u4f2f\u4f26\u7684\u540d\u8a00-\u5982\u4e0b\uff1a</p> <p>\u6211\u4eec\u5df2\u7ecf\u8d70\u5f97\u592a\u8fdc\uff0c\u4ee5\u81f3\u4e8e\u5fd8\u4e86\u5f53\u521d\u4e3a\u4ec0\u4e48\u800c\u51fa\u53d1\u3002</p> <p>\u518d\u9065\u8fdc\u7684\u76ee\u6807\uff0c\u4e5f\u7ecf\u4e0d\u8d77\u6267\u7740\u7684\u575a\u6301\u3002</p> <p>\u7528\u8bb0\u5fc6\u62e5\u62b1\u7740\u8fc7\u53bb\uff0c\u7528\u5e0c\u671b\u62e5\u62b1\u7740\u672a\u6765\u3002</p> <p>\u601d\u60f3\u662f\u5929\u7a7a\u4e2d\u7684\u9e1f\uff0c\u5728\u8bed\u8a00\u7684\u7b3c\u91cc\uff0c\u4e5f\u8bb8\u4f1a\u5c55\u7ffc\uff0c\u5374\u4e0d\u4f1a\u98de\u7fd4\u3002</p> <p>\u7b2c\u4e00\u6b21\uff0c\u5f53\u5b83\u672c\u53ef\u8fdb\u53d6\u65f6\uff0c\u5374\u6545\u4f5c\u8c26\u5351\uff1b</p> <p>\u7b2c\u4e8c\u6b21\uff0c\u5f53\u5b83\u5728\u7a7a\u865a\u65f6\uff0c\u7528\u7231\u6b32\u6765\u586b\u5145\uff1b</p> <p>\u7b2c\u4e09\u6b21\uff0c\u5728\u56f0\u96be\u548c\u5bb9\u6613\u4e4b\u95f4\uff0c\u5b83\u9009\u62e9\u4e86\u5bb9\u6613\uff1b</p> <p>\u7b2c\u56db\u6b21\uff0c\u5b83\u72af\u4e86\u9519\uff0c\u5374\u501f\u7531\u522b\u4eba\u4e5f\u4f1a\u72af\u9519\u6765\u5bbd\u6170\u81ea\u5df1\uff1b</p> <p>\u7b2c\u4e94\u6b21\uff0c\u5b83\u81ea\u7531\u8f6f\u5f31\uff0c\u5374\u628a\u5b83\u8ba4\u4e3a\u662f\u751f\u547d\u7684\u575a\u97e7\uff1b</p> <p>\u7b2c\u516d\u6b21\uff0c\u5f53\u5b83\u9119\u5937\u4e00\u5f20\u4e11\u6076\u7684\u5634\u8138\u65f6\uff0c\u5374\u4e0d\u77e5\u90a3\u6b63\u662f\u81ea\u5df1\u9762\u5177\u4e2d\u7684\u4e00\u526f\uff1b</p> <p>\u7b2c\u4e03\u6b21\uff0c\u5b83\u4fa7\u8eab\u4e8e\u751f\u6d3b\u7684\u6c61\u6ce5\u4e2d\uff0c\u867d\u4e0d\u7518\u5fc3\uff0c\u5374\u53c8\u754f\u9996\u754f\u5c3e\u3002 \u2014\u2014\u300a\u6211\u66fe\u4e03\u6b21\u9119\u89c6\u6211\u7684\u7075\u9b42\u300b</p>"},{"location":"blog/","title":"\u535a\u5ba2\u6587\u7ae0","text":"<p>\u8fd9\u662f\u9996\u53d1\u4e8e GitHub Discussions\uff0c\u5e76\u5b9a\u671f\u540c\u6b65\u66f4\u65b0\u81f3 Material for MkDocs \u672c\u7ad9\u70b9\u4e0a\u7684\u535a\u5ba2\u6587\u7ae0\u3002</p> \u672c\u7ad9\u70b9\u6240\u6709\u535a\u5ba2\u6587\u7ae0\u5f52\u6863 2024 <ul> <li>2024-08-31 CentOS7 \u914d\u7f6e\u963f\u91cc\u4e91\u7684YUM\u6e90 </li> </ul>"},{"location":"blog/archives/","title":"\u535a\u5ba2\u5f52\u6863","text":"<p>{{ blog_archives }}</p>"},{"location":"blog/categories/","title":"\u535a\u5ba2\u5206\u7c7b","text":"<p>{{ blog_categories }}</p>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/","title":"CentOS7 \u914d\u7f6eNTP","text":""},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#ntp","title":"\u4e00\u3001NTP\u6982\u5ff5","text":"<p>\u7f51\u7edc\u65f6\u95f4\u534f\u8bae\uff08NTP, Network Time Protocol\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u540c\u6b65\u65f6\u95f4\u7684\u534f\u8bae\u3002NTP \u5141\u8bb8\u8ba1\u7b97\u673a\u548c\u5176\u4ed6\u7f51\u7edc\u8bbe\u5907\u4fdd\u6301\u4e00\u81f4\u7684\u65f6\u95f4\uff0c\u5373\u4f7f\u5728\u4e0d\u540c\u7684\u5730\u7406\u4f4d\u7f6e\u548c\u4e0d\u540c\u7684\u7f51\u7edc\u73af\u5883\u4e2d\u4e5f\u80fd\u505a\u5230\u65f6\u95f4\u540c\u6b65\u3002NTP \u4e3b\u8981\u7528\u4e8e\u786e\u4fdd\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u8bbe\u5907\u548c\u670d\u52a1\u90fd\u6709\u7edf\u4e00\u7684\u65f6\u95f4\uff0c\u4ee5\u4fbf\u4e8e\u65e5\u5fd7\u8bb0\u5f55\u3001\u4e8b\u4ef6\u6392\u5e8f\u3001\u5b9a\u65f6\u4efb\u52a1\u7b49\u3002</p>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#ntp_1","title":"\u4e8c\u3001NTP\u670d\u52a1\u5de5\u5177","text":"<p><code>ntpdate</code>\u3001<code>ntp</code> \u548c <code>chrony</code> \u662f\u4e09\u4e2a\u7528\u4e8e\u65f6\u95f4\u540c\u6b65\u7684\u5de5\u5177\u548c\u670d\u52a1\uff0c\u6bcf\u4e2a\u5de5\u5177\u90fd\u6709\u5176\u7279\u5b9a\u7684\u7528\u9014\u548c\u7279\u70b9\u3002\u4ee5\u4e0b\u662f\u5bf9\u8fd9\u4e09\u79cd\u5de5\u5177\u7684\u8be6\u7ec6\u6bd4\u8f83\u548c\u8bf4\u660e\uff1a</p> <ol> <li><code>ntpdate</code>\uff1a</li> <li>\u529f\u80fd\uff1a<code>ntpdate</code> \u662f\u4e00\u4e2a\u7528\u4e8e\u624b\u52a8\u540c\u6b65\u7cfb\u7edf\u65f6\u95f4\u7684\u5de5\u5177\u3002\u5b83\u4f1a\u5411\u6307\u5b9a\u7684 NTP \u670d\u52a1\u5668\u53d1\u9001\u65f6\u95f4\u8bf7\u6c42\uff0c\u5e76\u6839\u636e\u8fd4\u56de\u7684\u65f6\u95f4\u66f4\u65b0\u7cfb\u7edf\u65f6\u949f\u3002</li> <li>\u7279\u70b9\uff1a<ul> <li>\u4e00\u6b21\u6027\u540c\u6b65\uff1a<code>ntpdate</code> \u4ec5\u6267\u884c\u4e00\u6b21\u65f6\u95f4\u540c\u6b65\u64cd\u4f5c\uff0c\u5e76\u4e0d\u4f1a\u6301\u7eed\u8fd0\u884c\u3002\u5b83\u9002\u7528\u4e8e\u9700\u8981\u4e34\u65f6\u66f4\u65b0\u7cfb\u7edf\u65f6\u95f4\u7684\u573a\u666f\u3002</li> <li>\u4e0d\u9002\u5408\u6301\u7eed\u540c\u6b65\uff1a\u4e0d\u9002\u5408\u9700\u8981\u6301\u7eed\u65f6\u95f4\u540c\u6b65\u7684\u73af\u5883\uff0c\u56e0\u4e3a\u5b83\u4e0d\u4f1a\u6301\u7eed\u8fd0\u884c\u5e76\u76d1\u63a7\u65f6\u95f4\u504f\u5dee\u3002</li> </ul> </li> <li>\u6ce8\u610f\uff1a<code>ntpdate</code> \u5df2\u88ab\u8ba4\u4e3a\u662f\u8fc7\u65f6\u7684\u5de5\u5177\uff0c\u73b0\u4ee3\u7cfb\u7edf\u901a\u5e38\u63a8\u8350\u4f7f\u7528 <code>chrony</code> \u6216 <code>ntpd</code>\u3002</li> <li><code>ntp</code>\uff1a</li> <li>\u529f\u80fd\uff1a<code>ntp</code> \u662f\u4e00\u4e2a\u5b88\u62a4\u8fdb\u7a0b (<code>ntpd</code>)\uff0c\u8d1f\u8d23\u6301\u7eed\u5730\u540c\u6b65\u7cfb\u7edf\u65f6\u95f4\u3002\u5b83\u4f1a\u5b9a\u671f\u4e0e NTP \u670d\u52a1\u5668\u901a\u4fe1\uff0c\u81ea\u52a8\u8c03\u6574\u7cfb\u7edf\u65f6\u95f4\uff0c\u4ee5\u4fdd\u6301\u51c6\u786e\u6027\u3002</li> <li>\u7279\u70b9\uff1a<ul> <li>\u6301\u7eed\u8fd0\u884c\uff1a<code>ntpd</code> \u662f\u4e00\u4e2a\u5b88\u62a4\u8fdb\u7a0b\uff0c\u6301\u7eed\u8fd0\u884c\u5e76\u7ef4\u62a4\u7cfb\u7edf\u65f6\u95f4\u540c\u6b65\u3002</li> <li>\u590d\u6742\u914d\u7f6e\uff1a\u914d\u7f6e\u8f83\u4e3a\u590d\u6742\uff0c\u652f\u6301\u591a\u79cd\u540c\u6b65\u6a21\u5f0f\u548c\u9ad8\u7ea7\u7279\u6027\u3002</li> <li>\u81ea\u52a8\u8c03\u6574\uff1a\u4f1a\u6839\u636e\u7f51\u7edc\u5ef6\u8fdf\u7b49\u56e0\u7d20\u81ea\u52a8\u8c03\u6574\u65f6\u95f4\uff0c\u4ee5\u63d0\u9ad8\u540c\u6b65\u7cbe\u5ea6\u3002</li> </ul> </li> <li>\u6ce8\u610f\uff1a<code>ntpd</code> \u7684\u65f6\u95f4\u540c\u6b65\u901f\u5ea6\u8f83\u6162\uff0c\u4f46\u7a33\u5b9a\u6027\u548c\u7cbe\u5ea6\u8f83\u9ad8\uff0c\u9002\u5408\u957f\u671f\u8fd0\u884c\u7684\u670d\u52a1\u5668\u3002</li> <li><code>chrony</code>\uff1a</li> <li>\u529f\u80fd\uff1a<code>chrony</code> \u662f\u4e00\u4e2a\u73b0\u4ee3\u7684\u65f6\u95f4\u540c\u6b65\u5de5\u5177\uff0c\u65e8\u5728\u53d6\u4ee3\u4f20\u7edf\u7684 NTP \u5de5\u5177\u3002\u5b83\u5305\u62ec\u4e24\u4e2a\u4e3b\u8981\u7ec4\u4ef6\uff1a<code>chronyd</code>\uff08\u670d\u52a1\u5b88\u62a4\u8fdb\u7a0b\uff09\u548c <code>chronyc</code>\uff08\u547d\u4ee4\u884c\u5ba2\u6237\u7aef\uff09\u3002</li> <li>\u7279\u70b9\uff1a<ul> <li>\u5feb\u901f\u540c\u6b65\uff1a<code>chrony</code> \u63d0\u4f9b\u66f4\u5feb\u7684\u65f6\u95f4\u540c\u6b65\u901f\u5ea6\uff0c\u5c24\u5176\u5728\u865a\u62df\u73af\u5883\u548c\u4e0d\u7a33\u5b9a\u7684\u7f51\u7edc\u6761\u4ef6\u4e0b\u8868\u73b0\u4f18\u8d8a\u3002</li> <li>\u9ad8\u6548\uff1a\u9002\u5408\u7ecf\u5e38\u5904\u4e8e\u53d8\u5316\u7684\u7f51\u7edc\u73af\u5883\u6216\u9891\u7e41\u91cd\u542f\u7684\u7cfb\u7edf\u3002</li> <li>\u7cbe\u5ea6\u9ad8\uff1a\u63d0\u4f9b\u66f4\u7cbe\u786e\u7684\u65f6\u95f4\u540c\u6b65\u670d\u52a1\uff0c\u652f\u6301\u66f4\u5e7f\u6cdb\u7684\u73af\u5883\u548c\u5e94\u7528\u573a\u666f\u3002</li> </ul> </li> <li>\u6ce8\u610f\uff1a<code>chrony</code> \u63d0\u4f9b\u7684\u529f\u80fd\u66f4\u52a0\u73b0\u4ee3\u5316\u548c\u9ad8\u6548\uff0c\u662f\u8bb8\u591a\u7cfb\u7edf\u7ba1\u7406\u5458\u63a8\u8350\u7684\u65f6\u95f4\u540c\u6b65\u89e3\u51b3\u65b9\u6848\u3002</li> </ol> <p>\u4e0b\u9762\u5206\u522b\u4ecb\u7ecd\u4e09\u79cd\u5de5\u5177\u7684\u5b89\u88c5\u548c\u4f7f\u7528\u3002</p>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#ntp_2","title":"\u4e09\u3001\u5e38\u7528\u7684NTP\u670d\u52a1\u5668","text":"<ul> <li> <p>Google NTP \u670d\u52a1\u5668\uff1a</p> </li> <li> <p><code>time.google.com</code>\uff1b</p> </li> <li> <p>Google \u63d0\u4f9b\u7684 NTP \u670d\u52a1\uff0c\u5177\u6709\u8f83\u9ad8\u7684\u53ef\u9760\u6027\u548c\u5168\u7403\u5206\u5e03\u7684\u670d\u52a1\u5668\u3002</p> </li> <li> <p>NTP Pool Project \u670d\u52a1\u5668\uff1a</p> </li> <li> <p><code>pool.ntp.org</code>\uff1b</p> </li> <li> <p>\u8fd9\u4e2a\u9879\u76ee\u63d0\u4f9b\u4e86\u5168\u7403\u5206\u5e03\u7684 NTP \u670d\u52a1\u5668\u96c6\u7fa4\uff0c\u6309\u5730\u57df\u53ef\u7ec6\u5206\uff0c\u5982 <code>cn.pool.ntp.org</code> \u4e13\u7528\u4e8e\u4e2d\u56fd\u5730\u533a\u3002</p> </li> <li> <p>\u963f\u91cc\u4e91 NTP \u670d\u52a1\u5668\uff1a</p> </li> <li> <p><code>ntp.aliyun.com</code>\uff1b</p> </li> <li> <p><code>ntp1.aliyun.com</code>\uff1b</p> </li> <li> <p>\u963f\u91cc\u4e91\u63d0\u4f9b\u7684 NTP \u670d\u52a1\uff0c\u5728\u4e2d\u56fd\u5883\u5185\u5ef6\u8fdf\u8f83\u4f4e\uff0c\u9002\u5408\u56fd\u5185\u7528\u6237\u4f7f\u7528\u3002</p> </li> <li> <p>\u534e\u4e3a\u4e91 NTP \u670d\u52a1\u5668\uff1a</p> </li> <li> <p><code>ntp1.cloud.huawei.com</code>\uff1b</p> </li> <li> <p><code>ntp2.cloud.huawei.com</code>\uff1b</p> </li> <li> <p><code>ntp3.cloud.huawei.com</code>\uff1b</p> </li> <li> <p>\u534e\u4e3a\u4e91\u63d0\u4f9b\u7684 NTP \u670d\u52a1\uff0c\u5177\u6709\u9ad8\u53ef\u9760\u6027\u3002</p> </li> <li> <p>\u56fd\u5bb6\u6388\u65f6\u4e2d\u5fc3 NTP \u670d\u52a1\u5668\uff1a</p> </li> <li> <p><code>ntp.ntsc.ac.cn</code>\uff1b</p> </li> <li> <p>\u4e2d\u56fd\u79d1\u5b66\u9662\u56fd\u5bb6\u6388\u65f6\u4e2d\u5fc3\u63d0\u4f9b\u7684 NTP \u670d\u52a1\uff0c\u4e13\u95e8\u4e3a\u4e2d\u56fd\u5883\u5185\u7528\u6237\u63d0\u4f9b\u9ad8\u7cbe\u5ea6\u7684\u65f6\u95f4\u540c\u6b65\u3002</p> </li> <li> <p>\u817e\u8baf\u4e91 NTP \u670d\u52a1\u5668\uff1a</p> </li> <li> <p><code>ntp.tencent.com</code>\uff1b</p> </li> <li> <p>\u817e\u8baf\u4e91\u63d0\u4f9b\u7684 NTP \u670d\u52a1\uff0c\u9002\u7528\u4e8e\u56fd\u5185\u7528\u6237\u3002</p> </li> <li> <p>Microsoft NTP \u670d\u52a1\u5668\uff1a</p> </li> <li> <p><code>time.windows.com</code></p> </li> <li> <p>Microsoft \u63d0\u4f9b\u7684 NTP \u670d\u52a1\uff0c\u9002\u5408 Windows \u7528\u6237\u3002</p> </li> </ul>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#ntpdate","title":"\u56db\u3001\u5b89\u88c5\u5e76\u4f7f\u7528ntpdate\u5de5\u5177","text":""},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#1","title":"1.\u4fee\u6539\u7cfb\u7edf\u65f6\u95f4","text":"<p>\u8fd9\u91cc\u6211\u4eec\u5148\u4fee\u6539\u7cfb\u7edf\u65f6\u95f4\uff0c\u4f7f\u7528 <code>data</code> \u547d\u4ee4\u968f\u4fbf\u4fee\u6539\u4e3a\u4e00\u4e2a\u65f6\u95f4\uff1a</p> Bash<pre><code># \u67e5\u770b\u5f53\u524d\u65f6\u95f4\ndate\n# \u663e\u793a\u5f53\u524d\u65f6\u95f4\nMon Aug 19 22:01:01 CST 2024\n\n# \u4fee\u6539\u5f53\u524d\u65f6\u95f4\u4e3a2024\u5e748\u670818\u65e515:30\ndate -s \"2024-08-18 15:30:00\"\n# \u518d\u6b21\u67e5\u770b\u5f53\u524d\u65f6\u95f4\ndate\n# \u663e\u793a\u5f53\u524d\u65f6\u95f4\nSun Aug 18 15:30:03 CST 2024\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528\u65f6\u95f4\u6233\u6765\u4fee\u6539\uff1a</p> Bash<pre><code># \u67e5\u770b\u5f53\u524d\u65f6\u95f4\u6233\ndate +%s\n# \u663e\u793a\u5f53\u524d\u65f6\u95f4\u6233\n1724075698\n\n# \u4fee\u6539\u5f53\u524d\u65f6\u95f4\u6233\ndate 112523092020.18\n# \u518d\u6b21\u67e5\u770b\u5f53\u524d\u65f6\u95f4\ndate\n# \u663e\u793a\u5f53\u524d\u65f6\u95f4\n2020\u5e74 11\u6708 25\u65e5 \u661f\u671f\u4e09 23:09:18 CST\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#2ntpdate","title":"2.\u5b89\u88c5ntpdate\u5de5\u5177","text":"<p>\u4f7f\u7528 <code>yum</code> \u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\uff1a</p> Bash<pre><code>yum install -y ntpdate\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#3ntpdate","title":"3.\u4f7f\u7528ntpdate\u5de5\u5177","text":"<p>\u4f7f\u7528 <code>ntpdate</code> \u547d\u4ee4\u66f4\u65b0\u7cfb\u7edf\u65f6\u95f4\uff1a</p> Bash<pre><code>ntpdate ntp.aliyun.com\n# \u663e\u793a\u4fe1\u606f\n19 Aug 22:05:44 ntpdate[8026]: step time server 203.107.6.88 offset 109868.479535 sec\n</code></pre> <p>\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u963f\u91cc\u4e91\u7684 NTP \u670d\u52a1\u5668\uff0c\u5728\u4e2d\u56fd\u5883\u5185\u5ef6\u8fdf\u8f83\u4f4e\uff0c\u9002\u5408\u56fd\u5185\u7528\u6237\u4f7f\u7528\u3002</p> <p>\u518d\u6b21\u901a\u8fc7 <code>date</code> \u547d\u4ee4\u67e5\u770b\u5f53\u524d\u65f6\u95f4\uff0c\u53d1\u73b0\u5df2\u6b63\u5e38\uff1a</p> Bash<pre><code>date\n# \u663e\u793a\u5f53\u524d\u65f6\u95f4\nMon Aug 19 22:06:10 CST 2024\n</code></pre> <p>\u4f7f\u7528 <code>hwclock</code> \u547d\u4ee4\u663e\u793a\u7cfb\u7edf\u786c\u4ef6\u65f6\u949f\u7684\u5f53\u524d\u65f6\u95f4\uff1a</p> Bash<pre><code>hwclock --show\n# \u6216\u8005\u66f4\u7b80\u6d01\u7684\u7248\u672c\nhwclock -r\n\n# \u663e\u793a\u4fe1\u606f\nMon 19 Aug 2024 10:08:08 PM CST  -0.428151 seconds\n</code></pre> <p><code>-0.428151 seconds</code>\uff1a\u8868\u793a\u786c\u4ef6\u65f6\u949f\u4e0e\u7cfb\u7edf\u65f6\u949f\u4e4b\u95f4\u7684\u65f6\u95f4\u5dee\uff0c\u5355\u4f4d\u4e3a\u79d2\uff0c\u8fd9\u91cc\u8868\u793a\u786c\u4ef6\u65f6\u949f\u6bd4\u7cfb\u7edf\u65f6\u949f\u6162\u7ea6 <code>0.428</code> \u79d2\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u7cfb\u7edf\u65f6\u949f\u7684\u65f6\u95f4\u540c\u6b65\u5230\u786c\u4ef6\u65f6\u949f\uff1a</p> Bash<pre><code>hwclock --systohc\n</code></pre> <p>\u6216\u8005\u5c06\u786c\u4ef6\u65f6\u949f\u7684\u65f6\u95f4\u540c\u6b65\u5230\u7cfb\u7edf\u65f6\u949f\uff1a</p> Bash<pre><code>hwclock --hctosys\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528 <code>timedatectl</code> \u547d\u4ee4\u8bbe\u7f6e\u65f6\u533a\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4e3a\u4e2d\u56fd\u6807\u51c6\u65f6\u95f4\uff08CST\uff0cAsia/Shanghai \u65f6\u533a\uff09\uff1a</p> Bash<pre><code>timedatectl set-timezone Asia/Shanghai\n</code></pre> <p>\u53ef\u4ee5\u8bbe\u7f6e\u5b9a\u65f6\u4efb\u52a1\uff0c\u6bcf\u5929\u5728\u4e2d\u534812\u70b9\u81ea\u52a8\u8fd0\u884c <code>ntpdate</code> \u547d\u4ee4\uff0c\u5e76\u4ece <code>ntp.aliyun.com</code> \u670d\u52a1\u5668\u540c\u6b65\u7cfb\u7edf\u65f6\u95f4\uff1a</p> Bash<pre><code># \u914d\u7f6e\u5b9a\u65f6\u4efb\u52a1\ncrontab -e\n# \u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\n00 12 * * * /sbin/ntpdate ntp.aliyun.com\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#ntp_3","title":"\u4e94\u3001\u5b89\u88c5\u5e76\u4f7f\u7528ntp\u5de5\u5177","text":""},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#1ntp","title":"1.\u914d\u7f6entp\u670d\u52a1\u7aef","text":""},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#11-ntp","title":"1.1 \u5b89\u88c5ntp\u5de5\u5177","text":"<p>\u4f7f\u7528 <code>yum</code> \u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\uff1a</p> Bash<pre><code>yum install -y ntp\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#12-ntp","title":"1.2 \u4fee\u6539ntp\u914d\u7f6e\u6587\u4ef6","text":"<p>\u7f16\u8f91 <code>ntp</code>\u7684\u914d\u7f6e\u6587\u4ef6 <code>/etc/ntp.conf</code>\uff0c\u914d\u7f6e\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Bash<pre><code># \u914d\u7f6e NTP \u670d\u52a1\u5668\u7684\u4e0a\u6e38\u65f6\u95f4\u6e90\nserver ntp.aliyun.com iburst\nserver ntp1.aliyun.com iburst\n# \u5141\u8bb8\u7279\u5b9a IP \u8303\u56f4\u7684\u5ba2\u6237\u7aef\u8bbf\u95ee\nrestrict 10.22.51.0 mask 255.255.255.0 nomodify notrap\n</code></pre> <p>\u547d\u4ee4\u53c2\u6570\u89e3\u91ca\u8bf4\u660e\uff1a</p> <ul> <li> <p><code>iburst</code>\uff1a\u7528\u4e8e\u52a0\u901f NTP \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u65f6\u95f4\u540c\u6b65\u8fc7\u7a0b\uff0c\u7279\u522b\u662f\u5728\u521d\u59cb\u540c\u6b65\u65f6\u3002</p> </li> <li> <p><code>restrict</code> \uff1a\u8be5\u6307\u4ee4\u7528\u4e8e\u914d\u7f6e NTP \u670d\u52a1\u5668\u7684\u8bbf\u95ee\u63a7\u5236\u7b56\u7565\uff0c\u4ee5\u63a7\u5236\u54ea\u4e9b\u5ba2\u6237\u7aef\u53ef\u4ee5\u4e0e NTP \u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\uff0c\u4ee5\u53ca\u53ef\u4ee5\u6267\u884c\u7684\u64cd\u4f5c\u3002</p> </li> <li> <p><code>nomodify</code>\uff1a\u8fd9\u4e2a\u9009\u9879\u7981\u6b62\u5ba2\u6237\u7aef\u4fee\u6539 NTP \u670d\u52a1\u5668\u7684\u914d\u7f6e\uff0c\u5ba2\u6237\u7aef\u4e0d\u80fd\u5bf9 NTP \u670d\u52a1\u5668\u8fdb\u884c\u914d\u7f6e\u66f4\u6539\u3002</p> </li> <li><code>notrap</code>\uff1a\u8fd9\u4e2a\u9009\u9879\u7981\u6b62\u5ba2\u6237\u7aef\u4f7f\u7528 NTP \u670d\u52a1\u5668\u7684 \u201ctrap\u201d \u529f\u80fd\uff0cNTP \u670d\u52a1\u5668\u4e0d\u4f1a\u4e3a\u8fd9\u4e2a\u5ba2\u6237\u7aef\u63d0\u4f9b\u5bf9\u7279\u5b9a\u4e8b\u4ef6\u7684\u901a\u77e5\u3002</li> </ul>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#13-ntpd","title":"1.3 \u542f\u52a8ntpd\u670d\u52a1","text":"Bash<pre><code># \u542f\u52a8ntpd\u670d\u52a1\nsystemctl start ntpd\n# \u67e5\u770b\u670d\u52a1\u72b6\u6001\nsystemctl status ntpd\n# \u8bbe\u7f6e\u670d\u52a1\u5f00\u673a\u81ea\u542f\nsystemctl enable ntpd\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#14","title":"1.4 \u68c0\u67e5\u65f6\u95f4\u540c\u6b65\u72b6\u6001","text":"<p>\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u65f6\u95f4\u6e90\u5217\u8868\uff1a</p> Bash<pre><code>ntpq -p\n</code></pre> <p>\u663e\u793a\u4fe1\u606f\u5982\u4e0b\uff1a</p> Bash<pre><code>     remote           refid      st t when poll reach   delay   offset  jitter\n==============================================================================\n*203.107.6.88    100.107.25.114   2 u    5  128  377   48.779   -8.512   6.644\n+120.25.115.20   10.137.53.7      2 u   14  128   71    6.127  -11.582   7.182\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#2ntp","title":"2.\u914d\u7f6entp\u5ba2\u6237\u7aef","text":""},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#21-ntp","title":"2.1 \u5b89\u88c5ntp\u5de5\u5177","text":"<p>\u4f7f\u7528 <code>yum</code> \u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\uff1a</p> Bash<pre><code>yum install -y ntp\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#22-ntp","title":"2.2 \u4fee\u6539ntp\u914d\u7f6e\u6587\u4ef6","text":"<p>\u7f16\u8f91 <code>ntp</code>\u7684\u914d\u7f6e\u6587\u4ef6 <code>/etc/ntp.conf</code>\uff0c\u914d\u7f6e\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Bash<pre><code># \u8bbe\u7f6e NTP \u670d\u52a1\u5668\u7684\u5730\u5740\nserver 10.22.51.49 iburst\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#23-ntpd","title":"2.3 \u542f\u52a8ntpd\u670d\u52a1","text":"Bash<pre><code># \u542f\u52a8ntpd\u670d\u52a1\nsystemctl start ntpd\n# \u67e5\u770b\u670d\u52a1\u72b6\u6001\nsystemctl status ntpd\n# \u8bbe\u7f6e\u670d\u52a1\u5f00\u673a\u81ea\u542f\nsystemctl enable ntpd\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#3","title":"3.\u9a8c\u8bc1\u914d\u7f6e","text":"<p>\u5728\u5ba2\u6237\u7aef\u4e0a\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u68c0\u67e5 NTP \u670d\u52a1\u72b6\u6001\u548c\u540c\u6b65\u60c5\u51b5\uff1a</p> Bash<pre><code>ntpq -p\n</code></pre> <p>\u6267\u884c\u540e\u663e\u793a\u7684\u4fe1\u606f\u5982\u4e0b\uff1a</p> Bash<pre><code>     remote           refid      st t when poll reach   delay   offset  jitter\n==============================================================================\n*10.22.51.49     203.107.6.88     3 u   17   64    1    0.542    0.073   0.077\n</code></pre> <p>\u663e\u793a <code>*</code> \u53f7\uff0c\u8bf4\u660e\u5df2\u7ecf\u540c\u6b65\u6210\u529f\u3002</p> <p>\u8f93\u51fa\u5b57\u6bb5\u89e3\u91ca\uff1a</p> <ul> <li><code>remote</code>\uff1a\u663e\u793a\u5f53\u524d NTP \u5ba2\u6237\u7aef\u6b63\u5728\u4f7f\u7528\u7684\u4e3b\u670d\u52a1\u5668\u7684\u5730\u5740\uff0c\u524d\u9762\u7684 <code>*</code> \u8868\u793a\u8fd9\u662f\u88ab\u9009\u4e3a\u4e3b\u65f6\u95f4\u6e90\u7684\u670d\u52a1\u5668\u3002</li> <li><code>refid</code>\uff1a\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u53c2\u8003 ID\uff0c\u6307\u793a\u5b83\u4ece\u54ea\u4e2a\u670d\u52a1\u5668\u6216\u65f6\u95f4\u6e90\u83b7\u5f97\u65f6\u95f4\u3002</li> <li><code>st</code>\uff1a\u663e\u793a\u670d\u52a1\u5668\u7684\u5c42\u7ea7\uff0c\u5c42\u7ea7\u8d8a\u5c0f\u8868\u793a\u8ddd\u79bb\u51c6\u786e\u65f6\u95f4\u6e90\u8d8a\u8fd1\u3002\u4f8b\u5982\uff0c<code>1</code> \u8868\u793a\u76f4\u63a5\u4e0e\u5916\u90e8\u65f6\u95f4\u6e90\u540c\u6b65\uff0c<code>2</code> \u8868\u793a\u4e0e\u4e00\u4e2a\u5c42\u7ea7\u4e3a <code>1</code> \u7684\u670d\u52a1\u5668\u540c\u6b65\u3002\u8fd9\u91cc <code>3</code> \u8868\u793a\u8fd9\u662f\u7b2c\u4e09\u5c42\u670d\u52a1\u5668\uff08\u5373\u5b83\u662f\u4e0e\u7b2c\u4e8c\u5c42\u670d\u52a1\u5668\u540c\u6b65\u7684\uff09\u3002</li> <li><code>t</code>\uff1a\u8868\u793a\u65f6\u95f4\u540c\u6b65\u7684\u7c7b\u578b\uff0c\u5e38\u89c1\u7684\u6709 <code>u</code>\uff08UDP\uff09\u6216 <code>l</code>\uff08\u672c\u5730\uff09\u7b49\u3002\u8fd9\u91cc\u662f <code>u</code>\uff08UDP\uff09\uff0c\u901a\u5e38\u6307\u4f7f\u7528 UDP \u534f\u8bae\u8fdb\u884c\u540c\u6b65\u3002</li> <li><code>when</code>\uff1a\u663e\u793a\u4e0a\u6b21\u4e0e\u8fdc\u7a0b\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u79d2\u3002\u8fd9\u91cc\u8868\u793a\u4e0a\u6b21\u4e0e\u8fd9\u4e2a\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u7684\u65f6\u95f4\u4e3a 17 \u79d2\u524d\u3002</li> <li><code>poll</code>\uff1a\u663e\u793a\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u8bf7\u6c42\u95f4\u9694\uff0c\u5355\u4f4d\u662f\u79d2\uff0c\u8868\u793a\u5ba2\u6237\u7aef\u591a\u4e45\u4f1a\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\u3002\u8fd9\u91cc\u8868\u793a\u8bf7\u6c42\u95f4\u9694\u4e3a 64 \u79d2\u3002\u8fd9\u4e2a\u95f4\u9694\u662f\u52a8\u6001\u8c03\u6574\u7684\uff0c\u7528\u4e8e\u5e73\u8861\u65f6\u95f4\u540c\u6b65\u7684\u9891\u7387\u548c\u7f51\u7edc\u8d1f\u8f7d\u3002</li> <li><code>reach</code>\uff1a\u663e\u793a\u5230\u8fbe\u670d\u52a1\u5668\u7684\u54cd\u5e94\u72b6\u6001\uff0c\u901a\u5e38\u662f\u4e00\u4e2a\u516b\u4f4d\u7684\u516b\u8fdb\u5236\u6570\uff0c\u6bcf\u4e00\u4f4d\u8868\u793a\u4e00\u4e2a\u8bf7\u6c42\u662f\u5426\u6210\u529f\u63a5\u6536\u5230\u54cd\u5e94\u3002\u8fd9\u91cc <code>1</code> \u8868\u793a\u6700\u8fd1\u7684\u4e00\u6b21\u8bf7\u6c42\u6210\u529f\u5f97\u5230\u4e86\u54cd\u5e94\u3002<code>377</code> \u4ee3\u8868\u4e4b\u524d\u6709\u591a\u4e2a\u8bf7\u6c42\u7684\u54cd\u5e94\u72b6\u6001\uff0c<code>1</code> \u8868\u793a\u6700\u540e\u4e00\u6b21\u8bf7\u6c42\u6210\u529f\uff0c\u5176\u4ed6\u4e03\u4f4d\u90fd\u662f <code>1</code>\u3002</li> <li><code>delay</code>\uff1a\u663e\u793a\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u5f80\u8fd4\u5ef6\u8fdf\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\u3002</li> <li><code>offset</code>\uff1a\u663e\u793a\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u65f6\u95f4\u504f\u5dee\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\u3002\u8fd9\u4e2a\u503c\u8868\u660e\u5ba2\u6237\u7aef\u65f6\u95f4\u4e0e\u670d\u52a1\u5668\u65f6\u95f4\u4e4b\u95f4\u7684\u5dee\u5f02\u3002</li> <li><code>jitter</code>\uff1a\u663e\u793a\u65f6\u95f4\u540c\u6b65\u7684\u6296\u52a8\uff0c\u5373\u65f6\u95f4\u504f\u5dee\u7684\u6ce2\u52a8\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\u3002</li> </ul> <p>\u603b\u7ed3\uff1a\u4ece\u8fd9\u4e2a\u8f93\u51fa\u7ed3\u679c\u6765\u770b\uff0c NTP \u5ba2\u6237\u7aef\u4e0e\u4e3b\u670d\u52a1\u5668 <code>10.22.51.49</code> \u6b63\u5728\u6b63\u5e38\u540c\u6b65\uff0c\u4e14\u4e3b\u670d\u52a1\u5668\u7684\u65f6\u95f4\u6e90\u88ab\u9009\u4e2d\u4f5c\u4e3a\u540c\u6b65\u6e90\u3002\u5ef6\u8fdf\u548c\u504f\u5dee\u90fd\u5f88\u5c0f\uff0c\u8bf4\u660e\u540c\u6b65\u72b6\u6001\u826f\u597d\u3002<code>reach</code> \u4e3a <code>1</code> \u8868\u793a\u6700\u8fd1\u7684\u8bf7\u6c42\u6210\u529f\u5f97\u5230\u4e86\u54cd\u5e94\uff0c\u8fd9\u8868\u660e\u8fde\u63a5\u7a33\u5b9a\u3002</p>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#4","title":"4.\u6d4b\u8bd5\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u7684\u65f6\u95f4\u540c\u6b65\u60c5\u51b5","text":""},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#41","title":"4.1 \u4e34\u65f6\u4fee\u6539\u670d\u52a1\u7aef\u65f6\u95f4","text":"<p>\u4f7f\u7528 <code>date</code> \u547d\u4ee4\u4e34\u65f6\u4fee\u6539\u670d\u52a1\u7aef\u7684\u7cfb\u7edf\u65f6\u95f4\uff1a</p> Bash<pre><code>date -s \"2024-08-19 12:00:00\"\n</code></pre> <p>\u786e\u8ba4\u65f6\u95f4\u5df2\u88ab\u4fee\u6539\uff1a</p> Bash<pre><code>date\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#42","title":"4.2 \u9a8c\u8bc1\u65f6\u95f4\u540c\u6b65\u60c5\u51b5","text":"<p>\u5728\u5ba2\u6237\u7aef\u4e0a\u91cd\u542fntpd\u670d\u52a1\uff1a</p> Bash<pre><code>systemctl restart ntpd\n</code></pre> <p>\u518d\u6b21\u67e5\u770b\u5ba2\u6237\u7aef\u7684\u7cfb\u7edf\u65f6\u95f4\uff0c\u53d1\u73b0\u65f6\u95f4\u5df2\u6210\u529f\u540c\u6b65\uff1a</p> Bash<pre><code>date\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#chrony","title":"\u516d\u3001\u5b89\u88c5\u5e76\u4f7f\u7528chrony\u5de5\u5177","text":""},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#1chrony","title":"1.\u914d\u7f6echrony\u670d\u52a1\u7aef","text":""},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#11-chrony","title":"1.1 \u5b89\u88c5chrony\u5de5\u5177","text":"<p>\u4f7f\u7528 <code>yum</code> \u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\uff1a</p> Bash<pre><code>yum install -y chrony\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#12-chrony","title":"1.2 \u4fee\u6539chrony\u914d\u7f6e\u6587\u4ef6","text":"<p>\u7f16\u8f91 <code>chrony</code>\u7684\u914d\u7f6e\u6587\u4ef6 <code>/etc/chrony.conf</code>\uff0c\u914d\u7f6e\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Bash<pre><code># \u914d\u7f6e NTP \u670d\u52a1\u5668\u7684\u4e0a\u6e38\u65f6\u95f4\u6e90\nserver ntp.aliyun.com iburst\nserver ntp1.aliyun.com iburst\n# \u5141\u8bb8\u7279\u5b9a IP \u8303\u56f4\u7684\u5ba2\u6237\u7aef\u8bbf\u95ee\nallow 10.22.51.0/24\n# \u5f00\u542f\u624b\u52a8\u6821\u51c6\u65f6\u95f4\u529f\u80fd\uff0c\u6307\u5b9a\u672c\u5730\u65f6\u949f\u4f5c\u4e3a\u65f6\u95f4\u6e90\nlocal stratum 10\n</code></pre> <p>\u547d\u4ee4\u53c2\u6570\u89e3\u91ca\u8bf4\u660e\uff1a</p> <ul> <li><code>local stratum 10</code>\uff1a\u662f\u5728 NTP \u914d\u7f6e\u4e2d\u7528\u4e8e\u8bbe\u7f6e\u672c\u5730\u65f6\u95f4\u6e90\u7684\u5c42\u7ea7\uff08stratum\uff09\u7684\u4e00\u6761\u547d\u4ee4\u3002\u5b83\u901a\u5e38\u7528\u4e8e\u6307\u5b9a\u672c\u5730\u65f6\u949f\u7684\u5c42\u7ea7\uff0c<code>stratum</code> \u8868\u793a\u65f6\u95f4\u6e90\u7684\u5c42\u7ea7\u6216\u8ddd\u79bb\u4e3b\u65f6\u95f4\u6e90\u7684\u8ddd\u79bb\u3002</li> <li><code>local</code>\uff1a\u8868\u793a\u4f7f\u7528\u672c\u5730\u8ba1\u7b97\u673a\u7684\u65f6\u949f\u4f5c\u4e3a\u65f6\u95f4\u6e90\u3002</li> <li><code>stratum 10</code>\uff1a\u8bbe\u7f6e\u672c\u5730\u65f6\u949f\u7684 <code>stratum</code> \u5c42\u7ea7\u4e3a 10\u3002\u8fd9\u4e2a\u503c\u901a\u5e38\u8bbe\u7f6e\u4e3a\u8f83\u9ad8\u7684\u5c42\u7ea7\uff0c\u8868\u793a\u672c\u5730\u65f6\u949f\u662f\u4e00\u4e2a\u5907\u7528\u65f6\u95f4\u6e90\uff0c\u800c\u4e0d\u662f\u4e3b\u8981\u65f6\u95f4\u6e90\u3002</li> </ul>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#13-chronyd","title":"1.3 \u542f\u52a8chronyd\u670d\u52a1","text":"Bash<pre><code># \u542f\u52a8chronyd\u670d\u52a1\nsystemctl start chronyd\n# \u67e5\u770b\u670d\u52a1\u72b6\u6001\nsystemctl status chronyd\n# \u8bbe\u7f6e\u670d\u52a1\u5f00\u673a\u81ea\u542f\nsystemctl enable chronyd\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#14_1","title":"1.4 \u68c0\u67e5\u65f6\u95f4\u540c\u6b65\u72b6\u6001","text":"<p>\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u65f6\u95f4\u6e90\u5217\u8868\uff1a</p> Bash<pre><code>chronyc sources\n</code></pre> <p>\u663e\u793a\u4fe1\u606f\u5982\u4e0b\uff1a</p> Bash<pre><code>MS Name/IP address         Stratum Poll Reach LastRx Last sample               \n===============================================================================\n^- 203.107.6.88                  2   6    77    12  -1920us[-2251us] +/-   31ms\n^* 120.25.115.20                 2   6   157     7   -104us[ -439us] +/- 4163us\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#2chrony","title":"2.\u914d\u7f6echrony\u5ba2\u6237\u7aef","text":""},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#21-chrony","title":"2.1 \u5b89\u88c5chrony\u5de5\u5177","text":"<p>\u4f7f\u7528 <code>yum</code> \u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\uff1a</p> Bash<pre><code>yum install -y chrony\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#22-chrony","title":"2.2 \u4fee\u6539chrony\u914d\u7f6e\u6587\u4ef6","text":"<p>\u7f16\u8f91 <code>chrony</code>\u7684\u914d\u7f6e\u6587\u4ef6 <code>/etc/chrony.conf</code>\uff0c\u914d\u7f6e\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Bash<pre><code># \u8bbe\u7f6e NTP \u670d\u52a1\u5668\u7684\u5730\u5740\nserver 10.22.51.63 iburst\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#23-chronyd","title":"2.3 \u542f\u52a8chronyd\u670d\u52a1","text":"Bash<pre><code># \u542f\u52a8chronyd\u670d\u52a1\nsystemctl start chronyd\n# \u67e5\u770b\u670d\u52a1\u72b6\u6001\nsystemctl status chronyd\n# \u8bbe\u7f6e\u670d\u52a1\u5f00\u673a\u81ea\u542f\nsystemctl enable chronyd\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#3_1","title":"3.\u9a8c\u8bc1\u914d\u7f6e","text":"<p>\u5728\u5ba2\u6237\u7aef\u4e0a\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u68c0\u67e5 Chrony \u670d\u52a1\u72b6\u6001\u548c\u540c\u6b65\u60c5\u51b5\uff1a</p> Bash<pre><code>chronyc sources\n</code></pre> <p>\u6267\u884c\u540e\u663e\u793a\u7684\u4fe1\u606f\u5982\u4e0b\uff1a</p> Bash<pre><code>210 Number of sources = 1\nMS Name/IP address         Stratum Poll Reach LastRx Last sample               \n===============================================================================\n^* 10.22.51.63                   3   6    37    54   +371ns[+1304us] +/-   31ms\n</code></pre> <p>\u663e\u793a <code>*</code> \u53f7\uff0c\u8bf4\u660e\u5df2\u7ecf\u540c\u6b65\u6210\u529f\u3002</p> <p>\u8f93\u51fa\u5b57\u6bb5\u89e3\u91ca\uff1a</p> <ul> <li><code>^\\*</code>\uff1a<code>^*</code> \u8868\u793a\u5f53\u524d\u88ab\u9009\u62e9\u7684\u4e3b\u8981\u65f6\u95f4\u6e90\u3002<code>*</code> \u8868\u793a\u8fd9\u662f\u5f53\u524d\u4f7f\u7528\u7684\u4e3b\u8981\u65f6\u95f4\u6e90\uff0c<code>^</code> \u8868\u793a\u5b83\u88ab\u9009\u4e2d\uff0c\u4f46 <code>chrony</code> \u53ef\u80fd\u6b63\u5728\u8bc4\u4f30\u5176\u4ed6\u65f6\u95f4\u6e90\u3002</li> <li><code>*</code>\uff1a\u8868\u793a\u5f53\u524d\u540c\u6b65\u7684\u6e90\u3002</li> <li><code>+</code>\uff1a\u8868\u793a\u53ef\u9009\u7684\u65f6\u95f4\u6e90\u3002</li> <li><code>-</code>\uff1a\u8868\u793a\u88ab\u7ec4\u5408\u7b97\u6cd5\u6392\u9664\u7684\u65f6\u95f4\u6e90\u3002</li> <li><code>?</code>\uff1a\u8868\u793a\u8fde\u63a5\u5df2\u4e22\u5931\u6216\u6570\u636e\u5305\u672a\u901a\u8fc7\u6d4b\u8bd5\u7684\u65f6\u95f4\u6e90\u3002</li> <li><code>x</code>\uff1a\u8868\u793a\u865a\u5047\u7684\u65f6\u949f\u6e90\uff0c\u5373\u5b83\u7684\u65f6\u95f4\u4e0e\u5927\u591a\u6570\u5176\u4ed6\u6e90\u4e0d\u4e00\u81f4\u3002</li> <li><code>~</code>\uff1a\u8868\u793a\u8be5\u65f6\u95f4\u6e90\u6709\u592a\u591a\u53ef\u53d8\u6027\u7684\u6765\u6e90\u3002</li> <li><code>10.22.51.63</code>\uff1a\u65f6\u95f4\u6e90\u7684 IP \u5730\u5740\u3002\u5f53\u524d\u7684\u4e3b\u8981\u65f6\u95f4\u6e90\u662f <code>10.22.51.63</code>\u3002</li> <li><code>3</code>\uff1a\u65f6\u95f4\u6e90\u7684 <code>stratum</code> \u5c42\u7ea7\u3002\u5c42\u7ea7\u4e3a 3 \u8868\u793a\u5b83\u662f\u4ece <code>stratum 2</code> \u65f6\u95f4\u6e90\u83b7\u53d6\u65f6\u95f4\u7684\u3002</li> <li><code>6</code>\uff1a\u8f6e\u8be2\u95f4\u9694\uff08\u5355\u4f4d\u662f\u79d2\uff09\uff0c<code>6</code> \u8868\u793a <code>chrony</code> \u6bcf\u9694 6 \u79d2\u5411\u8be5\u65f6\u95f4\u6e90\u8bf7\u6c42\u6570\u636e\u3002</li> <li><code>37</code>\uff1a<code>reach</code> \u503c\uff0c\u4ee5\u516b\u8fdb\u5236\u8868\u793a\u3002<code>37</code> \u8868\u793a <code>chrony</code> \u5df2\u7ecf\u6210\u529f\u5730\u4e0e\u65f6\u95f4\u6e90\u8fdb\u884c\u4e86 37 \u6b21\u901a\u4fe1\u3002</li> <li><code>54</code>\uff1a<code>LastRx</code>\uff0c\u4e0a\u6b21\u63a5\u6536\u6570\u636e\u7684\u65f6\u95f4\u95f4\u9694\uff08\u5355\u4f4d\u662f\u79d2\uff09\uff0c<code>54</code> \u8868\u793a 54 \u79d2\u524d\u63a5\u6536\u5230\u6570\u636e\u3002</li> <li><code>+371ns[+1304us]</code>\uff1a<code>Last sample</code> \u90e8\u5206\u663e\u793a\u4e86\u4e0a\u6b21\u63a5\u6536\u5230\u6570\u636e\u65f6\u7684\u504f\u5dee\u548c\u6296\u52a8\uff1a</li> <li><code>+371ns</code> \u8868\u793a\u4ece\u65f6\u95f4\u6e90\u7684\u65f6\u95f4\u504f\u5dee\u4e3a +371 \u7eb3\u79d2\u3002</li> <li><code>[+1304us]</code> \u8868\u793a\u65f6\u95f4\u6e90\u7684\u65f6\u95f4\u4e0e\u5ba2\u6237\u7aef\u65f6\u95f4\u4e4b\u95f4\u7684\u504f\u5dee\u4e3a +1304 \u5fae\u79d2\u3002</li> <li><code>+/- 31ms</code>\uff1a<code>jitter</code>\uff0c\u8868\u793a\u6d4b\u91cf\u7684\u6296\u52a8\u6216\u6ce2\u52a8\uff0c<code>31ms</code> \u8868\u793a\u65f6\u95f4\u6d4b\u91cf\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7684\u6296\u52a8\u8303\u56f4\u4e3a \u00b131 \u6beb\u79d2\u3002</li> </ul>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#4_1","title":"4.\u6d4b\u8bd5\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u7684\u65f6\u95f4\u540c\u6b65\u60c5\u51b5","text":""},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#41_1","title":"4.1 \u4e34\u65f6\u4fee\u6539\u670d\u52a1\u7aef\u65f6\u95f4","text":"<p>\u4f7f\u7528 <code>date</code> \u547d\u4ee4\u4e34\u65f6\u4fee\u6539\u670d\u52a1\u7aef\u7684\u7cfb\u7edf\u65f6\u95f4\uff1a</p> Bash<pre><code>date -s \"2024-08-19 12:00:00\"\n</code></pre> <p>\u786e\u8ba4\u65f6\u95f4\u5df2\u88ab\u4fee\u6539\uff1a</p> Bash<pre><code>date\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#42_1","title":"4.2 \u9a8c\u8bc1\u65f6\u95f4\u540c\u6b65\u60c5\u51b5","text":"<p>\u5728\u5ba2\u6237\u7aef\u4e0a\u91cd\u542fchronyd\u670d\u52a1\uff1a</p> Bash<pre><code>systemctl restart chronyd\n</code></pre> <p>\u518d\u6b21\u67e5\u770b\u5ba2\u6237\u7aef\u7684\u7cfb\u7edf\u65f6\u95f4\uff0c\u53d1\u73b0\u65f6\u95f4\u5df2\u6210\u529f\u540c\u6b65\uff1a</p> Bash<pre><code>date\n</code></pre> <p>\u6b64\u65f6\u67e5\u770b\u65f6\u95f4\u540c\u6b65\u72b6\u6001\uff1a</p> Bash<pre><code>chronyc sources\n</code></pre> <p>\u663e\u793a\u4fe1\u606f\u5982\u4e0b\uff1a</p> Bash<pre><code>210 Number of sources = 1\nMS Name/IP address         Stratum Poll Reach LastRx Last sample               \n===============================================================================\n^* 10.22.51.63                  10   6    17    36  -4183ns[  -26us] +/-   76us\n</code></pre> <p>\u53ef\u53d1\u73b0\u8be5\u670d\u52a1\u5668\u7684\u5c42\u6570\u663e\u793a\u4e3a\u7b2c <code>10</code> \u5c42\uff0c\u8868\u793a\u65f6\u95f4\u6e90\u4e0d\u53ef\u9760\uff0c\u5373\u624b\u52a8\u6388\u4e88\u65f6\u95f4\u3002</p> <p>\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728\u670d\u52a1\u7aef\u4e0a\u53ef\u67e5\u770b\u54ea\u4e9b\u5ba2\u6237\u7aef\u6b63\u5728\u540c\u6b65\u65f6\u95f4\uff1a</p> Bash<pre><code>chronyc clients\n</code></pre> <p>\u663e\u793a\u4fe1\u606f\u5982\u4e0b\uff1a</p> Bash<pre><code>Hostname                      NTP   Drop Int IntL Last     Cmd   Drop Int  Last\n===============================================================================\n10.22.51.65                    10      0   7   -    10       0      0   -     -\n</code></pre>"},{"location":"blog/posts/CentOS7%E9%85%8D%E7%BD%AENTP/#_1","title":"\u4e03\u3001\u603b\u7ed3","text":"<p>\u5efa\u8bae\u53ea\u9700\u8981\u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u914d\u7f6entp\u6216chrony\u5de5\u5177\uff0c\u7136\u540e\u5176\u4ed6\u670d\u52a1\u5668\u4f7f\u7528ntpdate\u5de5\u5177\u624b\u52a8\u53bb\u6307\u5411\u8be5\u670d\u52a1\u5668\u6765\u540c\u6b65\u65f6\u95f4\u5373\u53ef\u3002</p>"},{"location":"blog/posts/Centos7%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E7%9A%84yum%E6%BA%90/","title":"Centos7 \u914d\u7f6e\u963f\u91cc\u4e91\u7684 YUM \u6e90","text":"","tags":["CentOS"]},{"location":"blog/posts/Centos7%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E7%9A%84yum%E6%BA%90/#centos7yum","title":"Centos7\u914d\u7f6e\u963f\u91cc\u4e91\u7684yum\u6e90","text":"<p>1.\u5b89\u88c5wget</p> Text Only<pre><code>yum install -y wget\n</code></pre> <p>2.\u5907\u4efd\u670d\u52a1\u5668\u539f\u6709\u7684yum\u6e90\u6587\u4ef6</p> Text Only<pre><code>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\n</code></pre> <p>3.\u4e0b\u8f7d\u963f\u91cc\u4e91\u955c\u50cf\u6587\u4ef6</p> Text Only<pre><code>wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\n</code></pre> <p>4.\u6e05\u7406\u7f13\u5b58</p> Text Only<pre><code>yum clean all\n</code></pre> <p>5.\u751f\u6210\u7f13\u5b58</p> Text Only<pre><code>yum makecache\n</code></pre> <p>6.\u66f4\u65b0\u6700\u65b0\u6e90\u8bbe\u7f6e</p> Text Only<pre><code>yum update -y\n</code></pre>","tags":["CentOS"]},{"location":"tech/","title":"\u6280\u672f\u6587\u6863","text":"<p>Bio &amp; IT \u6280\u672f\u79c1\u623f\u83dc\u3002</p> <p>\u8fd9\u662f\u4f5c\u8005\u5173\u4e8e\u751f\u7269\u4fe1\u606f\u5b66\u3001\u4e92\u8054\u7f51 IT\u3001\u8fd0\u7ef4\u5f00\u53d1\u3001\u8f6f\u4ef6\u5b89\u88c5\u90e8\u7f72\u3001\u6d4b\u8bc4\u4f7f\u7528\u7b49\u65b9\u5411\u7684\u6587\u7ae0\u96c6\u5408\uff0c\u5927\u90e8\u5206\u4e3a\u539f\u521b\u3002</p> <ol> <li> <p>\u672c\u8282\u70b9\u7684\u6240\u6709\u6587\u7ae0\u5747\u6765\u6e90\u4e8e\u4e2a\u4eba\u5728 GitHub \u7684 \"Knowledge-Garden\" \u4ed3\u5e93\u8ba8\u8bba\u533a\u3002</p> </li> <li> <p>\u57fa\u4e8e GitHub Actions + \u4e00\u7cfb\u5217 Python script \u5b9e\u73b0\u6bcf\u5929\u540c\u6b65\u66f4\u65b0\u4e0e\u90e8\u7f72\u3002</p> </li> </ol>"},{"location":"tech/#_1","title":"\u6b63\u786e\u7684\u6253\u5f00\u65b9\u5f0f","text":"<p>\u8fd9\u90e8\u5206\u7684\u6587\u7ae0\u5185\u5bb9\u4ec5\u4ec5\u4ee3\u8868\u6211\u7684\u4e2a\u4eba\u89c2\u70b9\uff0c\u7531\u4e8e\u6280\u672f\u7684\u66f4\u65b0\uff0c\u5982\u679c\u4f60\u53d1\u73b0\u6709\u4e9b\u5185\u5bb9\u5df2\u7ecf\u5931\u6548\u6216\u8005\u9519\u8bef\uff0c\u6b22\u8fce\u5728\u8bc4\u8bba\u533a\u6307\u51fa\u6765\uff0c\u6211\u5e0c\u671b\u6211\u7684\u6587\u7ae0\u80fd\u88ab\u522b\u4eba\u6574\u7406\u80fd\u88ab\u4fee\u6539\uff0c\u56e0\u4e3a\u6587\u7ae0\u4f1a\u6709\u9519\u8bef\uff0c\u4e5f\u4f1a\u9700\u8981\u65f6\u5e38\u66f4\u65b0\u3002</p> <p>\u4e3a\u4ec0\u4e48\u6211\u4e0d\u5728\u5fae\u4fe1\u516c\u4f17\u53f7\u4e0a\u5199\u6587\u7ae0 - \u9648\u7693</p> <p>\u6700\u91cd\u8981\u7684\u662f\uff0c\u6211\u5e0c\u671b\u6211\u7684\u6587\u7ae0\u548c\u89c2\u70b9\u662f\u6709\u8ba8\u8bba\u7684\uff0c\u5e0c\u671b\u6211\u7684\u6587\u7ae0\u80fd\u88ab\u6307\u6b63\u548c\u6279\u8bc4\uff0c\u6700\u597d\u662f\u5f15\u53d1\u8ba8\u8bba\u548c\u601d\u8fa8\uff0c\u8fd9\u6837\u624d\u4f1a\u8ba9\u6211\u4eec\u6bcf\u4e00\u4e2a\u4eba\u90fd\u53ef\u4ee5\u5728\u4ea4\u6d41\u4e2d\u6210\u957f\u3002\u5f88\u591a\u65f6\u5019\uff0c\u6587\u7ae0\u672c\u8eab\u5e76\u6ca1\u6709\u4ec0\u4e48\u592a\u5927\u7684\u4ef7\u503c\uff0c\u800c\u5f15\u53d1\u7684\u8ba8\u8bba\u548c\u601d\u8fa8\u624d\u66f4\u6709\u4ef7\u503c\uff0c\u8fd9\u662f\u6211\u8ba4\u4e3a\u6587\u7ae0\u4f20\u64ad\u6700\u6b63\u786e\u7684\u59ff\u52bf\u3002</p> <p> </p>"},{"location":"tech/%E5%8F%AF%E8%A7%86%E5%8C%96/","title":"\u53ef\u89c6\u5316","text":"<p>Python \u4e0e R \u8bed\u8a00\u6570\u636e\u53ef\u89c6\u5316\u76f8\u5173\u6587\u7ae0\u96c6\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/","title":"\u5f00\u53d1\u8fd0\u7ef4","text":"<p>\u5f00\u53d1\u4e0e\u8fd0\u8425\u7ef4\u62a4\u76f8\u5173\u6587\u7ae0\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/","title":"Python \u4e2d tkinter \u6e90\u7801\u5b89\u88c5\u4f7f\u7528\u4e0e\u4e2d\u6587\u4e71\u7801","text":"<p>\u4e3b\u8981\u662f\u56e0\u4e3a\u4e0b\u9762\u8fd9\u4e24\u4e2a\u539f\u56e0\uff0c\u6240\u4ee5\u51b3\u5b9a\u4ece\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\u53bb\u6298\u817e\u4e00\u4e0b tkinter\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u8bb0\u5f55\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/#_tkinter-not-found","title":"_tkinter not found","text":"<p>Python 3 \u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\uff0c\u6267\u884c <code>make</code> \u8fc7\u7a0b\u4e2d\u63d0\u793a <code>_tkinter not found</code>\uff0c\u5982\u4e0b\uff1a Bash<pre><code>$ make\n......\nPython build finished successfully!\nThe necessary bits to build these optional modules were not found:\n_tkinter \n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/#_1","title":"\u4e2d\u6587\u4e71\u7801","text":"<p>\u4f7f\u7528 Anaconda 3\uff08conda 4.5.11\uff09\u7684 tkinter python \u5305\uff08conda install -c conda-forge tk\uff09\u5f00\u53d1 GUI \u754c\u9762\u7a0b\u5e8f\u8fc7\u7a0b\u4e2d\uff0c\u53d1\u73b0 UI \u754c\u9762\u51fa\u73b0\u7684\u4e2d\u6587 Unicode \u4e71\u7801\u4e00\u76f4\u6ca1\u529e\u6cd5\u89e3\u51b3\u3002</p> Python<pre><code>#-*- coding: utf-8 -*-\n\nimport sys\n\nfrom tkinter import *\ntop=Tk()\ntop.wm_title(\"\u83dc\u5355\")\ntop.geometry(\"800x600+300+100\") # \u521b\u5efa\u4e00\u4e2a\u83dc\u5355\u9879\uff0c\u7c7b\u4f3c\u4e8e\u5bfc\u822a\u680f\nmenubar=Menu(top) # \u521b\u5efa\u83dc\u5355\u9879\nfmenu1=Menu(top)\n# \u5982\u679c\u8be5\u83dc\u5355\u65f6\u9876\u5c42\u83dc\u5355\u7684\u4e00\u4e2a\u83dc\u5355\u9879\uff0c\u5219\u5b83\u6dfb\u52a0\u7684\u662f\u4e0b\u62c9\u83dc\u5355\u7684\u83dc\u5355\nfor item in ['\u65b0\u5efa\u6587\u4ef6', '\u6253\u5f00\u6587\u4ef6','\u7ed3\u679c\u4fdd\u5b58']:\n    fmenu1.add_command(label=item)\n\nfmenu2=Menu(top)\nfor item in ['\u7a0b\u5e8f\u8bbe\u7f6e','\u7a0b\u5e8f\u8fd0\u884c']:\n    fmenu2.add_command(label=item)\n\nfmenu3=Menu(top)\nfor item in ['\u4f7f\u7528\u6559\u7a0b', '\u7248\u6743\u4fe1\u606f', '\u68c0\u67e5\u66f4\u65b0']:\n    fmenu3.add_command(label=item)\n\n# add_cascade \u7684\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u5c5e\u6027\u5c31\u662f menu \u5c5e\u6027\uff0c\u5b83\u6307\u660e\u4e86\u8981\u628a\u90a3\u4e2a\u83dc\u5355\u7ea7\u8054\u5230\u8be5\u83dc\u5355\u9879\u4e0a\n# \u5f53\u7136\uff0c\u8fd8\u5fc5\u4e0d\u53ef\u5c11\u7684\u5c31\u662f label \u5c5e\u6027\uff0c\u7528\u4e8e\u6307\u5b9a\u8be5\u83dc\u5355\u9879\u7684\u540d\u79f0\nmenubar.add_cascade(label='\u6587\u4ef6', menu=fmenu1)\nmenubar.add_cascade(label=\"\u7a0b\u5e8f\", menu=fmenu2)\nmenubar.add_cascade(label=\"\u5e2e\u52a9\", menu=fmenu3)\n\n# \u6700\u540e\u53ef\u4ee5\u7528\u7a97\u53e3\u7684 menu \u5c5e\u6027\u6307\u5b9a\u6211\u4eec\u4f7f\u7528\u54ea\u4e00\u4e2a\u4f5c\u4e3a\u5b83\u7684\u9876\u5c42\u83dc\u5355\ntop['menu']=menubar\ntop.mainloop()\n</code></pre> <p></p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u786e\u8ba4\u4e00\u4e0b\u662f\u4e0d\u662f Tk \u672c\u8eab\u7684\u95ee\u9898\uff1a Text Only<pre><code>echo 'pack [button .h -text \"Hello, World! \u663e\u793a\u4e2d\u6587\" -command exit]' | wish\n</code></pre> - \u6b63\u5e38\u663e\u793a   </p> <ul> <li>\u4e2d\u6587\u4e71\u7801   </li> </ul> <p>\u4e00\u4e9b\u53c2\u8003\u8d44\u6599\uff1a</p> <ul> <li>Python 3.x \u4e2d\u6587\u7f16\u7801\u8f6c\u6362\u7684\u95ee\u9898\uff1ahttps://bbs.bccn.net/thread-479560-1-1.html</li> <li>Python 2.6 Tk \u4e2d\u6587\u4e71\u7801\u89e3\u6c7a\u65b9\u6cd5\uff1ahttp://blogkrogh.blogspot.com/2011/03/python-26-tk.html</li> <li>tkinter \u4e71\u7801\uff0cpyqt4 \u4e71\u7801\uff1ahttp://aboutweb.lofter.com/post/11743e_6f7e4a5</li> </ul> <p>\u4e0a\u9762\u51e0\u79cd\u65b9\u6cd5\u6d4b\u8bd5\u540e\uff0c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\u3002\u5728 google \u4e0a\u4e00\u756a\u641c\u7d22\u548c\u6765\u56de\u6d4b\u8bd5\u4e4b\u540e\uff0c\u53d1\u73b0\u4e86\u51e0\u70b9\u4fe1\u606f\uff1a</p> <ul> <li>\u6709\u4eba\u8bf4\uff0c\u53ef\u80fd\u662f tcl/tk \u5b89\u88c5\u4e0d\u5b8c\u6574\u9020\u6210\u7684\u3002</li> <li>tcl/tk \u91cd\u88c5\u540e\u9700\u8981\u5bf9 Python \u91cd\u65b0\u7f16\u8bd1 tkinter \u624d\u80fd\u8d77\u4f5c\u7528\u3002</li> <li>conda install -c conda-forge tk\uff0c\u867d\u7136\u6ca1\u6709\u4efb\u4f55\u62a5\u9519\uff0cpython2 \u4e2d import tkinter \u4e5f\u6b63\u5e38\uff0c\u4f46 conda \u7684\u8f6f\u4ef6\u5b89\u88c5\u5c31\u50cf\u4e00\u4e2a\u9ed1\u76d2\u5b50\uff0c\u65e0\u6cd5\u786e\u8ba4 tcl/tk \u662f\u5426\u5b8c\u6574\u5b89\u88c5\u3002</li> <li>python \u7684 PyPI \u4ed3\u5e93\u4e2d\u662f\u6ca1\u6709 tkinter \u5305\u7684\uff0c\u60f3\u8981\u4f7f\u7528 <code>pip install tkinter</code> \u5378\u8f7d\u6216\u8005\u91cd\u88c5\u90fd\u662f\u884c\u4e0d\u901a\u7684\u3002</li> <li>\u7f51\u4e0a\u4e5f\u6709\u4eba\u8bf4\u53ef\u4ee5\u4f7f\u7528 <code>yum install python3-tk/python-tk</code> \u89e3\u51b3\uff0c\u4f46\u5bf9\u4e8e\u672c\u4eba\u6765\u8bf4\uff0c\u6ca1\u7528\u3002</li> </ul>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/#tcl-tk-tkinter","title":"\u4ec0\u4e48\u662f tcl, tk, tkinter","text":"<p>The\u00a0tkinter\u00a0package (\u201cTk interface\u201d) is the standard Python interface to the Tk GUI toolkit. Both Tk and\u00a0tkinter\u00a0are available on most Unix platforms, as well as on Windows systems. (Tk itself is not part of Python; it is maintained at ActiveState.)</p> <p>Running\u00a0<code>python\u00a0-m\u00a0tkinter</code>\u00a0from the command line should open a window demonstrating a simple Tk interface, letting you know that\u00a0tkinter\u00a0is properly installed on your system, and also showing what version of Tcl/Tk is installed, so you can read the Tcl/Tk documentation specific to that version.</p> <p>From https://docs.python.org/3/library/tkinter.html</p> <p>Tcl \u662f\"\u5de5\u5177\u63a7\u5236\u8bed\u8a00\uff08Tool Control Language\uff09\"\u7684\u7f29\u5199\u3002Tk \u662f Tcl \"\u56fe\u5f62\u5de5\u5177\u7bb1\" \u7684\u6269\u5c55\uff0c\u5b83\u63d0\u4f9b\u5404\u79cd\u6807\u51c6\u7684 GUI \u63a5\u53e3\u9879\uff0c\u4ee5\u5229\u4e8e\u8fc5\u901f\u8fdb\u884c\u9ad8\u7ea7\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u3002</p> <p>tkinter \u5305\uff08\"Tk \u63a5\u53e3\"\uff09\u662f Tk GUI \u5de5\u5177\u5305\u7684\u6807\u51c6 Python \u63a5\u53e3\u3002 Tk \u548c \u00a0tkinter \u5728\u5927\u591a\u6570 Unix \u5e73\u53f0\u4ee5\u53ca Windows \u7cfb\u7edf\u4e0a\u90fd\u53ef\u7528\uff08Tk \u672c\u8eab\u4e0d\u662f Python \u7684\u4e00\u90e8\u5206\uff0c\u5b83\u5728 ActiveState \u4e2d\u7ef4\u62a4\uff09\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ece\u547d\u4ee4\u884c\u8fd0\u884c \u00a0<code>python -m\u00a0tkinter</code>\u6765\u68c0\u67e5 \u00a0tkinter \u662f\u5426\u5df2\u6b63\u786e\u5b89\u88c5\u5728\u7cfb\u7edf\u4e0a\u3002\u5982\u679c\u5df2\u7ecf\u5b89\u88c5\u8be5\u547d\u4ee4\u4f1a\u6253\u5f00\u4e00\u4e2a\u7b80\u5355\u7684 Tk \u754c\u9762\uff0c\u8be5\u754c\u9762\u9664\u4e86\u8ba9\u6211\u4eec\u77e5\u9053 tkinter \u5df2\u6b63\u786e\u5b89\u88c5\uff0c\u5e76\u4e14\u8fd8\u663e\u793a\u5b89\u88c5\u4e86\u54ea\u4e2a\u7248\u672c\u7684 Tcl/Tk\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u9605\u8bfb\u7279\u5b9a\u4e8e\u8be5\u7248\u672c\u7684 Tcl/Tk \u6587\u6863\u3002</p> <p></p> <p>\u5982\u679c \u00a0tkinter\u00a0 \u6ca1\u6709\u5b89\u88c5\uff0c\u5219\u4f1a\u63d0\u793a\u627e\u4e0d\u5230\u8be5\u5305\uff08\u6ce8\u610f\u5728 Python 2 \u4e2d\u8be5\u5305\u5305\u540d\u4e3a Tkinter\uff0cPython 3 \u4e2d\u4e3a tkinter\uff09\uff1a</p> <p></p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u5c1d\u8bd5\u5728 Python \u2154 \u4e2d\u5b89\u88c5 Tcl/Tk\uff0c\u5e76\u91cd\u65b0\u7f16\u8bd1 Python \u2154\uff0c\u5df2\u5b8c\u6210 Tkinter \u5b89\u88c5\uff08tkinter \u4e3a Python \u7684\u6807\u51c6\u5e93\uff0c\u6807\u51c6\u5e93\u7684\u5b89\u88c5\u9700\u8981\u91cd\u65b0\u7f16\u8bd1 Python \uff1f\uff09\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/#activetcl","title":"ActiveTcl \u5b89\u88c5","text":"<p>ActiveTcl \u662f ActiveState \u53d1\u5e03\u7684\u5173\u4e8e Tcl/Tk \u7684\u53d1\u884c\u7248\u672c\uff0c\u8be5\u53d1\u884c\u7248\u672c\u5305\u542b\u4e86\u6700\u65b0\u7248\u672c\u7684 Tk \u548c Tcl \u7a0b\u5e8f\uff0c\u6211\u4eec\u4e0b\u8f7d\u5176\u514d\u8d39\u7684\u793e\u533a\u7248\u672c\u8fdb\u884c\u5b89\u88c5\u5373\u53ef\u3002</p> <p>\u53c2\u8003\u4e0b\u8f7d\u94fe\u63a5\uff1ahttps://www.activestate.com/products/activetcl/downloads/ \u53c2\u8003\u5b89\u88c5\u6559\u7a0b\uff1ahttps://tkdocs.com/tutorial/install.html</p> <p>\u4ee5\u4e0b\u4e3a CentOS 6.5 \u4e0b ActiveTcl-8.6.9 \u7684\u4e00\u4e9b\u5b89\u88c5\u8bb0\u5f55\uff0c\u4ec5\u4f5c\u53c2\u8003\u3002</p> Bash<pre><code>$ curl -fL \"https://shenweiyan-generic.pkg.coding.net/btscl/activetcl/ActiveTcl-8.6.9.8609.2-x86_64-linux-glibc-2.5-dcd3ff05d.tar.gz?version=8.6.9.8609.2\" -o ActiveTcl-8.6.9.8609.2-x86_64-linux-glibc-2.5-dcd3ff05d.tar.gz\n$ tar zvxf ActiveTcl-8.6.9.8609.2-x86_64-linux-glibc-2.5-dcd3ff05d.tar.gz\n$ cd ActiveTcl-8.6.9.8609.2-x86_64-linux-glibc-2.5-dcd3ff05d\n$ ./install.sh\n......\nCancel         [no]  =&gt; [RET]\nAccept License [yes] =&gt; 'A' &gt;&gt;A\n\nPlease specify the installation directory.\nPath [/opt/ActiveTcl-8.6]: /Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9\n\nPlease specify the directory for the demos.\nPath [/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/demos]:\n\nPlease specify the runtime installation directory.\n\nThis is the directory the applications will see as their installation directory\nwhen searching for packages and libraries, instead of the directory the files\nwere copied to. In most circumstances this is the same as the installation\ndirectory chosen before.\nPath [/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9]:\n\nPress return to begin installation\n     Installation Directory:  /Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9\n     Demos Directory:         /Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/demos\n     Runtime Directory:       See Installation Directory\nCancel =&gt; C\nNext   =&gt; [RET] &gt;&gt;\n\nInstalling ActiveTcl ...\n        Creating directory /Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/share ...\n        Creating directory /Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/share/man ...\n        ......\n\nPlease do not forget to extend your PATH and MANPATH variables to\nget access to the applications and manpages distributed with ActiveTcl.\n\nFor a csh or compatible perform\n    setenv PATH \"/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/bin:$PATH\"\n\nFor a sh or similar perform\n    PATH=\"/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/bin:$PATH\"\n    export PATH\n\nSome shells (bash for example) allow\n    export PATH=\"/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/bin:$PATH\"\n\nSimilar changes are required for MANPATH\nFinish &gt;&gt;\n</code></pre> <p>ActiveTcl \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u9700\u8981\u628a path \u6dfb\u52a0\u81f3\u73af\u5883\u53d8\u91cf\uff08~/.bashrc\uff09: Text Only<pre><code>export PATH=\"/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/bin:$PATH\"\n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/#tcltk","title":"Tcl/Tk","text":"<p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u76f4\u63a5\u53bb https://sourceforge.net/projects/tcl/files/Tcl/ \u76f4\u63a5\u901a\u8fc7\u6e90\u7801\u7684\u65b9\u5f0f\u53bb\u7f16\u8bd1\u5b89\u88c5 Tcl/Tk\uff0c\u5c24\u5176\u662f\u5f53\u4f60\u7684\u7cfb\u7edf\u7248\u672c\u6bd4\u8f83\u4f4e\uff0c\u9700\u8981\u4f4e\u7248\u672c\u7684 Tcl/Tk\uff0c\u8fd9\u79cd\u65b9\u6cd5\u4f1a\u6bd4\u8f83\u5408\u9002\u3002</p> <p>\u4ee5 tcl8.5.19-src.tar.gz/tk8.5.19-src.tar.gz \u4e3a\u4f8b\uff0c\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u76f4\u63a5\u89e3\u538b\uff0c\u7136\u540e\u6267\u884c\u5e38\u89c4\u5b89\u88c5\u5373\u53ef\u3002 Text Only<pre><code>cd tcl8.5.19/unix\n./configure\nmake\nmake test\nmake install\n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/#python","title":"Python \u91cd\u65b0\u7f16\u8bd1\u5b89\u88c5","text":"<p>\u53c2\u8003\uff1aWhat\u2019s New In Python 3.11 - doc.python.org</p> <p>\ud83d\udce2 \u6ce8\u610f\uff1a</p> <ol> <li>Python 3.11.x \u8d77\uff08\u5982 Python-3.11.3\uff09\u4e2d\u7684 <code>configure</code> \u5df2\u7ecf\u628a <code>--with-tcltk-includes</code>\u548c<code>--with-tcltk-libs</code>\u8fd9\u4e24\u4e2a\u53c2\u6570\u79fb\u9664\uff01\u5e76\u4f7f\u7528 <code>TCLTK_CFLAGS</code> \u548c <code>TCLTK_LIBS</code> \u66ff\u4ee3\uff01\uff01\uff01</li> <li>Python 3.10.x (\u53ca\u4ee5\u4e0b\u7248\u672c\uff0c\u5982 Python-3.9.16) \u4ee5\u53ca Python 2.x.x \u5728 <code>configure</code> \u4e2d <code>--with-tcltk-includes</code>\u548c<code>--with-tcltk-libs</code>\u90fd\u662f\u6709\u7684\uff0c\u901a\u8fc7\u8fd9\u4e24\u4e2a\u53c2\u6570\u53ef\u4ee5\u89e3\u51b3 Tkinter \u7684\u95ee\u9898\uff01\uff01\uff01</li> </ol>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/#python-3","title":"Python 3","text":"<p>\u8fd9\u91cc\u4ee5 Python-3.11.6 \u4e3a\u4f8b\uff0c\u53c2\u8003 Python 3.11.0 install doesn\u2019t recognize homebrew Tcl/Tk due to --with-tcltk-libs, --with-tcltk-includes switches being removed from 3.11 - pyenv#2499\uff0c\u5728\u7f16\u8bd1\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u4f7f\u7528 <code>TCLTK_CFLAGS</code> \u548c <code>TCLTK_LIBS</code> \u89e3\u51b3 <code>_tkinter</code> \u7f3a\u5931\u7684\u95ee\u9898\u3002 Text Only<pre><code>export TCLTK_LIBS=\"-L/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/lib -ltcl8.6 -ltk8.6\"\nexport TCLTK_CFLAGS=\"-I/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/include\"\n\ncd Python-3.11.6\n/configure --prefix=/Bioinfo/Pipeline/SoftWare/python-3.11.6 ......\nmake &amp;&amp; make install\n</code></pre></p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/#python-2","title":"Python 2","text":"<p>\u60f3\u8981\u5728 Python 2.7 \u5b89\u88c5 Tkinter\uff0c\u9700\u8981\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u901a\u8fc7 <code>--with-tcltk-includes</code> \u548c <code>--with-tcltk-libs</code> \u4e2d\u6307\u5b9a ActiveTcl \u7684\u5934\u6587\u4ef6\u4ee5\u53ca\u5e93\u6240\u5728\u8def\u5f84\u3002</p> <p>\u5982\u679c\u5728\u6267\u884c\u7f16\u8bd1\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u51fa\u73b0\u65e0\u6cd5\u627e\u5230 libXss.so.1 \u5171\u4eab\u52a8\u6001\u5e93\u62a5\u9519\uff1a</p> Bash<pre><code>$ tar zvxf Python-2.7.15.tgz\n$ cd Python-2.7.15\n$ ./configure --prefix=/usr/local/software/python-2.7 --with-tcltk-includes='-I/usr/local/software/ActiveTcl-8.6/include' --with-tcltk-libs='/usr/local/software/ActiveTcl-8.6/lib/libtcl8.6.so /usr/local/software/ActiveTcl-8.6/lib/libtk8.6.so' --enable-optimizations\n$ make\n\n......\n\nwarning: building with the bundled copy of libffi is deprecated on this platform.  It will not be distributed with Python 3.7\n*** WARNING: renaming \"_tkinter\" since importing it failed: libXss.so.1: cannot open shared object file: No such file or directory\n\nPython build finished successfully!\nThe necessary bits to build these optional modules were not found:\n_dbm                  _gdbm\nTo find the necessary bits, look in setup.py in detect_modules() for the module's name.\n\nThe following modules found by detect_modules() in setup.py, have been\nbuilt by the Makefile instead, as configured by the Setup files:\natexit                pwd                   time\n\nFollowing modules built successfully but were removed because they could not be imported:\n_tkinter\n\nrunning build_scripts\n\n......\n</code></pre> <p>CentOS \u4e0b\u8bf7\u53c2\u8003\u4ee5\u4e0b\u89e3\u51b3\u65b9\u6cd5\uff1a Text Only<pre><code>$ sudo yum install libXScrnSaver libXScrnSaver-devel\n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/#tkinter","title":"\u8c03\u7528 Tkinter","text":"<p>Python \u2154 \u91cd\u65b0\u7f16\u8bd1\u5b8c\u540e\uff0c\u6267\u884c\u4e00\u4e0b\u4e0b\u9762\u7684\u547d\u4ee4\u5373\u53ef\u663e\u793a Tk \u7684 ui \u754c\u9762\uff0c\u4ee5\u53ca\u76f8\u5e94\u7684 Tcl/Tk \u7248\u672c\u3002 Text Only<pre><code>python2 -m Tkinter   # python 2\npython3 -m tkinter   # python 3\n</code></pre> </p> <p>\u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u91cd\u65b0\u8fd0\u884c\u5f00\u5934\u7684 GUI \u754c\u9762\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u770b\u5230\u4e2d\u6587\u5df2\u7ecf\u6b63\u5e38\u663e\u793a\uff1a </p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python-%E4%B8%AD-tkinter-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-dis12/#_2","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>Download And Install Tcl: ActiveTcl\uff0chttps://www.activestate.com/products/activetcl/downloads/</li> <li>Installing Tk\uff0chttps://tkdocs.com/tutorial/install.html</li> <li>Python \u4e0b\"No module named _tkinter\"\u95ee\u9898\u89e3\u51b3\u8fc7\u7a0b\u5206\u6790\uff0chttps://www.jianshu.com/p/0baa9657377f</li> <li>Python GUI \u7f16\u7a0b(Tkinter)\u6587\u4ef6\u5bf9\u8bdd\u6846\uff0chttps://my.oschina.net/u/2245781/blog/661533</li> </ul>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/","title":"Python3 \u6e90\u7801\u5b89\u88c5","text":"<p>\u7f16\u7a0b\uff0c\u4f5c\u4e3a\u751f\u7269\u4fe1\u606f\u5b66\u7684\u4e00\u4e2a\u57fa\u7840\u6027\u6280\u80fd\uff0c\u662f\u4efb\u4f55\u4e00\u4e2a\u751f\u4fe1\u5de5\u7a0b\u5e08\u90fd\u65e0\u6cd5\u7ed5\u5f00\u8bdd\u9898\u3002\u4e5f\u8bb8\u6709\u4e9b\u4eba\u8fd8\u5728\u7ea0\u7ed3 Perl \u548c Python \u5230\u5e95\u5e94\u8be5\u5b66\u4e60\u54ea\u4e00\u4e2a\uff0c\u4f46\u4f5c\u4e3a\u76ee\u524d\u6700\u706b\u6700\u6d41\u884c\u7684\u7f16\u7a0b\u8bed\u8a00 Python \u8fd8\u662f\u975e\u5e38\u503c\u5f97\u5c1d\u8bd5\u7684\u3002\u5b83\u4e0d\u4f46\u53ef\u4ee5\u8fdb\u884c\u6587\u672c\u5904\u7406\uff0c\u5728\u7edf\u8ba1\u3001\u7f51\u7ad9\u3001\u6e38\u620f\u3001\u722c\u866b\u3001\u6570\u636e\u53ef\u89c6\u5316\u7b49\u65b9\u9762\u4e5f\u6709\u975e\u5e38\u5f3a\u5927\u7684\u5e94\u7528\uff0c\u6bd4\u8d77\u66fe\u7ecf\u7684 Perl \u771f\u7684\u5f3a\u5927\u548c\u5168\u9762\u5f88\u591a\uff0c\u4e14\u6bd4 Perl \u66f4\u5bb9\u6613\u5165\u624b\u3002\u4e0d\u7ba1\u4ece\u957f\u8fdc\u53d1\u5c55\uff0c\u8fd8\u662f\u77ed\u671f\u9700\u8981\uff0c\u5b66\u4f1a Python\uff0c\u770b\u61c2 Perl (\u6216\u8005\u5148\u5b66 \u00a0 Python\uff0c\u540e\u5b66 Perl) \u5e94\u8be5\u662f\u6bcf\u4e00\u4e2a\u751f\u4fe1\u5de5\u7a0b\u5fc5\u5907\u7684\u57fa\u7840\u6280\u80fd\u4e4b\u4e00\u3002</p> <p>\u5de5\u6b32\u5584\u5176\u4e8b\uff0c\u5fc5\u5148\u5229\u5176\u5668\u3002\u5173\u4e8e Python \u5b89\u88c5\u6559\u7a0b\u5728\u7f51\u4e0a\u4e00\u641c\u4e00\u5927\u628a\uff0c\u4f46\u603b\u611f\u89c9\u4e0d\u591f\u5168\u9762\uff0c\u5c24\u5176\u5bf9\u4e8e\u4e2d\u95f4\u51fa\u73b0\u7684\u4e00\u4e9b\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6cd5\u4e0d\u5c3d\u5982\u4eba\u610f\u3002\u9274\u4e8e\u6b64\uff0c\u672c\u6587\u57fa\u4e8e \u00a0CentOS/RHEL Linux \u5bf9 Python \u7684\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\u8fdb\u884c\u4e86\u4e00\u4e0b\u7b80\u5355\u7684\u603b\u7ed3\uff0c\u8bb0\u5f55\u5982\u4e0b\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_1","title":"\u5b89\u88c5\u73af\u5883","text":"<p>Red Hat 6.5 + GCC 4.4.7\uff08GCC-7.3.0 - \u6b64\u7248\u672c gcc \u4e3a\u624b\u52a8\u5b89\u88c5\uff09\u3002</p> <p>GCC \u9ad8\u7ea7\u7248\u672c\u624b\u52a8\u6216\u8005 <code>yum</code> \u5b89\u88c5\u53c2\u8003\u4ee5\u4e0b\u6587\u7ae0\uff1a - SCL+Devtoolset \u5b89\u88c5\u4e0e\u4f7f\u7528\u7b14\u8bb0 \u00b7 \u8bed\u96c0 - \u975e root \u7528\u6237\u624b\u52a8\u7f16\u8bd1\u5b89\u88c5 GCC \u00b7 \u8bed\u96c0</p> Bash<pre><code>$ lsb_release -a\nLSB Version:    :base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch\nDistributor ID: RedHatEnterpriseServer\nDescription:    Red Hat Enterprise Linux Server release 6.5 (Santiago)\nRelease:        6.5\nCodename:       Santiago\n\n$ gcc --version\ngcc (GCC) 4.4.7 20120313 (Red Hat 4.4.7-4)\nCopyright (C) 2010 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_2","title":"\u89e3\u51b3\u4f9d\u8d56","text":"<p>\u5982\u679c\u60a8\u62e5\u6709 root \u6743\u9650\uff0c\u8bf7\u6267\u4ee5\u4e0b\u4f9d\u8d56\u5b89\u88c5\uff1a</p> Bash<pre><code>yum install zlib\nyum install zlib-devel\nyum install openssl\nyum install openssl-devel\nyum install libffi\nyum install libffi-devel\nyum install readline readline-devel sqlite sqlite-devel tk-devel\n</code></pre> \u7f3a\u5c11\u5e93\u540d\u79f0 \u5b89\u88c5\u547d\u4ee4 _uuid yum install libuuid-devel readline yum install readline-devel _tkinter yum install tk-devel _ffi yum install libffi-devel _curses yum install ncurses-libs _sqlite yum install sqlite-devel _bz2 yum isntall bzip2-devel _ssl yum install openssl-devel _gdbm yum install gdbm-devel _dbi yum install libdbi-devel _zlib yum install zlib-devel lzma yum install xz-develyum install python-backports-lzma <p>\u5982\u679c\u60a8\u6ca1\u6709 root \u6743\u9650\uff0c\u53ef\u4ee5\u53c2\u8003\u300a\u624b\u628a\u624b\u6559\u4f60\u5728 Linux \u6e90\u7801\u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684 R\u300b\u4e00\u6587\uff0c\u624b\u52a8\u4e00\u4e2a\u4e2a\u53bb\u89e3\u51b3\u4ee5\u4e0a\u7684\u4f9d\u8d56\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_sqlite3","title":"_sqlite3","text":"<p>\u6267\u884c make \u8fc7\u7a0b\u4e2d\u63d0\u793a _sqlite3 not found\uff0c\u5982\u4e0b\uff1a</p> Bash<pre><code>$ make\n......\nPython build finished successfully!\nThe necessary bits to build these optional modules were not found:\n_sqlite3              _ssl\nTo find the necessary bits, look in setup.py in detect_modules() for the module's name.\n\nThe following modules found by detect_modules() in setup.py, have been\nbuilt by the Makefile instead, as configured by the Setup files:\n_abc                  atexit                pwd\ntime\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#sqlite3","title":"\u7cfb\u7edf\u5df2\u5b89\u88c5 sqlite3","text":"<p>\u5982\u679c\u6267\u884c rpm -qa|grep sqlite \u770b\u5230 sqlite \u548c sqlite-devel \u90fd\u5df2\u7ecf\u5b89\u88c5\uff08libsqlite3.so \u9ed8\u8ba4\u4fdd\u5b58\u5728 /usr/lib64 \u4e0b\uff1b <code>sqlite3.h</code> \u9ed8\u8ba4\u4fdd\u5b58\u5728 <code>/usr/include</code> \u4e0b\uff09\u3002</p> Bash<pre><code>$ sqlite3 -version\n3.6.20\n\n$ ll /usr/lib64/libsqlite3.so\nlrwxrwxrwx 1 root root 19 Apr 23  2015 /usr/lib64/libsqlite3.so -&gt; libsqlite3.so.0.8.6\n\n$ ll /usr/include/sqlite3.h\n-rw-r--r-- 1 root root 263K Nov 25  2009 /usr/include/sqlite3.h\n</code></pre> <p>\u4f46\u662f\uff0c\u6267\u884c <code>make</code> \u4f9d\u7136\u51fa\u73b0\u4ee5\u4e0a\u62a5\u9519\uff0c\u53c2\u8003\u4e0b\u9762\u7684\u65b9\u6cd5\u300apython build from source: cannot build optional module sqlite3 - Stack Overflow\u300b\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#sqlite3_1","title":"\u624b\u52a8\u5b89\u88c5 sqlite3","text":"Bash<pre><code>$ wget https://www.sqlite.org/2021/sqlite-autoconf-3360000.tar.gz --no-check-certificate\n$ tar zvxf sqlite-autoconf-3360000.tar.gz\n$ cd sqlite-autoconf-3360000\n$ ./configure --prefix=/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0\n$ make\n$ make install\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#sqlite3_2","title":"\u914d\u7f6e sqlite3","text":""},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#1","title":"1. \u914d\u7f6e\u73af\u5883","text":"Bash<pre><code>$ export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib:$LD_LIBRARY_PATH\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#2","title":"2. \u8c03\u6574\u6e90\u7801\u6216\u7f16\u8bd1","text":"<p>\u5bf9\u4e8e 3.11.x \u4ee5\u4e0a\u7248\u672c\u7684 Python \u53ef\u4ee5\u5728 <code>configure</code> \u6307\u5b9a\u81ea\u5b9a\u4e49\u5b89\u88c5\u7684 sqlite3 \u8def\u5f84\u89e3\u51b3 <code>_sqlite3</code> \u4f9d\u8d56\u3002 Text Only<pre><code>./configure ... \\\n    LDFLAGS=\"-L/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib\" \\\n    CPPFLAGS=\"-I/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/include\" \n</code></pre></p> <p>\u6709\u4e9b\u4f4e\u7248\u672c\u7684 Python (\u5982 3.7) \u53ef\u80fd\u9700\u8981\u518d\u6e90\u7801\u6587\u4ef6\u4e2d\u52a0\u5165 <code>sqlite3.h</code> \u7684\u6587\u4ef6\u8def\u5f84\u3002</p> <ol> <li>\u627e\u5230 sqlite3.h \u6587\u4ef6\u7684\u4fdd\u5b58\u76ee\u5f55\u3002</li> <li>\u4fee\u6539 setup.py \u6587\u4ef6\uff0c\u5728 sqlite_inc_paths \u4e2d\u52a0\u4e0a sqlite3.h \u7684\u6587\u4ef6\u8def\u5f84\u3002</li> </ol> Bash<pre><code>sqlite_inc_paths = [ '/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/include',\n                     '/usr/include',\n                     '/usr/include/sqlite',\n                     '/usr/include/sqlite3',\n                     '/usr/local/include',\n                     '/usr/local/include/sqlite',\n                     '/usr/local/include/sqlite3',\n                   ]\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_ssl","title":"_ssl","text":"<p>Python3 \u9700\u8981\u5f15\u7528 <code>openssl</code>\u00a0 \u6a21\u5757\uff0c\u4f46\u662f python3.7+ \u5728 CentOS \u4e2d\u8981\u6c42\u7684 openssl \u7248\u672c\u6700\u4f4e\u4e3a 1.0.2\uff0c\u800c CentOS \u9ed8\u8ba4\u7684\u4e3a 1.0.1\uff08CentOS-6.x \u901a\u8fc7 <code>yum</code>\u00a0 \u6e90\u5b89\u88c5\u7684 openssl \u7684\u6700\u9ad8\u7248\u672c\u662f 1.0.1\uff09\uff0c\u6240\u4ee5\u9700\u8981\u624b\u52a8\u66f4\u65b0 openssl\u3002</p> <p>\u5bf9\u4e8e openssl \u7248\u672c\u7684\u9009\u62e9\uff0c\u5efa\u8bae\u81f3\u5c11\u9009\u62e9 1.1.1+ \u7248\u672c\uff1a</p> <ol> <li>urllib3 v2.0 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'OpenSSL 1.0.2k-fips  26 Jan 2017'. See: https://github.com/urllib3/urllib3/issues/2168</li> <li>Python requires an OpenSSL 1.0.2 or 1.1 compatible libssl with X509_VERIFY_PARAM_set1_host().</li> </ol> Bash<pre><code># \u4e0b\u8f7d\nwget http://www.openssl.org/source/openssl-1.1.1.tar.gz\n\n# \u89e3\u538b\u7f29\ntar -zxvf openssl-1.1.1.tar.gz\n\n# \u8fdb\u5165\u76ee\u5f55\u5b89\u88c5\ncd openssl-1.1.1\n\n# \u8fdb\u884c\u914d\u7f6e\u4e0b\uff0c\u81ea\u5b9a\u4e49\n./config --prefix=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1 shared zlib\n\n# \u7f16\u8bd1\u5e76\u5b89\u88c5\nmake &amp;&amp; make install\n\n# \u914d\u7f6e\u5230\u7528\u6237\u73af\u5883\u53d8\u91cf\uff0c\u968f\u5904\u4f7f\u7528\necho \"export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib:$LD_LIBRARY_PATH\" &gt;&gt; $HOME/.bashrc\n\n# \u662f\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u751f\u6548\nsource $HOME/.bashrc\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff1a</p> <ol> <li>openssl\u00a0\u7f16\u8bd1\uff08config\uff09\u7684\u65f6\u5019 \u5fc5\u987b\u8981\u52a0\u4e0a shared\u00a0 \u53c2\u6570\uff0c\u5426\u8005\u6e90\u7801\u5b89\u88c5 Python \u5373\u4f7f\u6dfb\u52a0\u4e86 <code>--with-openssl</code>\u00a0\u7684\u81ea\u5b9a\u4e49\u8def\u5f84\uff0c\u4f9d\u7136\u4f1a\u5bfc\u81f4 <code>Could not build the ssl module!</code>\u00a0\u62a5\u9519\uff01</li> <li>\u4ece https://www.openssl.org/source/\u00a0\u4e0b\u8f7d\u7684\u6e90\u7801 openssl-1.0.2s\u3001openssl-1.0.2m\uff0c\u5305\u62ec \u00a0CentOS-7.5 \u4f7f\u7528 <code>yum</code>\u00a0\u5b89\u88c5\u7684\u6700\u9ad8\u7248\u672c\u7684 openssl-1.0.2k \u76ee\u524d\u53d1\u73b0\u4f9d\u7136\u4f1a\u5bfc\u81f4 <code>Could not build the ssl module</code>\u00a0\uff0c\u5efa\u8bae\u4ece https://www.openssl.org/source/old/\u00a0\u4e0b\u8f7d 1.1.1 \u7684\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\u3002</li> </ol> <p>\u6700\u540e\uff0c\u5728 Python \u6267\u884c <code>configure</code> \u7684\u65f6\u5019\u6307\u5b9a openssl \u7684\u76f8\u5173\u53c2\u6570\uff1a Text Only<pre><code>./configure ... \\\n    --with-openssl=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1 \\\n    --with-openssl-rpath=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib \\\n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_tkinter","title":"_tkinter","text":"<p>Tkinter \u6a21\u5757\u7f3a\u5931\u662f\u4e00\u4e2a\u6bd4\u8f83\u68d8\u624b\u7684\u95ee\u9898\uff0c\u4e3a\u6b64\u4e13\u95e8\u5199\u4e86\u4e00\u7bc7\u6587\u7ae0\u6765\u4ecb\u7ecd\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u5177\u4f53\u8bf7\u53c2\u8003\uff1aPython \u4e2d tkinter \u6e90\u7801\u5b89\u88c5\u4f7f\u7528\u4e0e\u4e2d\u6587\u4e71\u7801 - Knowledge-Garden#12</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_dbm","title":"_dbm","text":"<p><code>_dbm</code> \u548c <code>_gdbm</code> \u7684\u6a21\u5757\u7f3a\u5931\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u624b\u52a8\u7684\u65b9\u6cd5\u89e3\u51b3\u3002</p> Text Only<pre><code>wget https://ftp.gnu.org/gnu/gdbm/gdbm-1.23.tar.gz\ntar -zxvf gdbm-1.23.tar.gz\n./configure --prefix=/Bioinfo/Pipeline/SoftWare/gdbm-1.23 --enable-libgdbm-compat  --enable-debug\nmake &amp;&amp; make install\n</code></pre> <p>\u6700\u540e\uff0c\u589e\u52a0\u73af\u5883\u53d8\u91cf\uff0c\u5e76\u8c03\u6574 Python \u6267\u884c <code>configure</code> \u65f6\u7684\u53c2\u6570\uff1a Text Only<pre><code>export PATH=/Bioinfo/Pipeline/SoftWare/gdbm-1.23/bin:$PATH\nexport LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib:$LD_LIBRARY_PATH\n\n./configure ... \\\n    LDFLAGS=\"-L/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib\" \\\n    CPPFLAGS=\"-I/Bioinfo/Pipeline/SoftWare/gdbm-1.23/include\"\n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_lzma","title":"_lzma","text":"<p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e0b\u9762\u7684\u65b9\u6cd5\u53ef\u4ee5\u89e3\u51b3\u8be5\u95ee\u9898\uff08\u5982\u679c\u60a8\u6709 root \u6743\u9650\u7684\u8bdd\uff09\u3002</p> Bash<pre><code># For ubuntu:\n$ sudo apt-get install liblzma-dev\n\n# For centos:\n$ yum install xz-devel\n</code></pre> <p>\u666e\u901a\u7528\u6237\u53ef\u4ee5\u624b\u52a8\u5b89\u88c5\u89e3\u51b3\uff1a</p> Bash<pre><code>$ wget https://tukaani.org/xz/xz-5.2.5.tar.gz --no-check-certificat\n$ tar zvxf xz-5.2.5.tar.gz\n$ cd xz-5.2.5\n$ ./configure --prefix=/Bioinfo/Pipeline/SoftWare/xz-5.2.5\n$ make\n$ make install\n</code></pre> <p>\u6700\u540e\uff0c\u914d\u7f6e\u73af\u5883\uff1a</p> Bash<pre><code>$ export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/xz-5.2.5/lib:$LD_LIBRARY_PATH\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_ctypes","title":"_ctypes","text":"<p>\u5728 CentOS 6.x \u5b89\u88c5 <code>libffi-devel</code>\u00a0 \u7684\u65f6\u5019\u51fa\u73b0\u4ee5\u4e0b\u95ee\u9898\uff1a</p> Bash<pre><code>$ yum install libffi-devel\nLoaded plugins: product-id, refresh-packagekit, search-disabled-repos, security, subscription-manager\nThis system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.\nSetting up Install Process\ncdrom                                                                                                                                         | 4.1 kB     00:00 ...\nNo package libffi-devel available.\nError: Nothing to do\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u5b89\u88c5\uff1a Bash<pre><code>[root@log01 ~]# rpm -ivh http://mirror.centos.org/centos/6/os/x86_64/Packages/libffi-devel-3.0.5-3.2.el6.x86_64.rpm\nRetrieving http://mirror.centos.org/centos/6/os/x86_64/Packages/libffi-devel-3.0.5-3.2.el6.x86_64.rpm\nwarning: /var/tmp/rpm-tmp.V9ihbu: Header V3 RSA/SHA256 Signature, key ID c105b9de: NOKEY\nPreparing...                ########################################### [100%]\n   1:libffi-devel           ########################################### [100%]\n[root@log01 ~]# rpm -qa|grep libffi\nlibffi-3.0.5-3.2.el6.x86_64\nlibffi-devel-3.0.5-3.2.el6.x86_64\n</code></pre></p> <p>\u624b\u52a8\u7684\u6e90\u7801\u65b9\u6cd5\u5b89\u88c5\u5982\u4e0b\uff1a Bash<pre><code>$ wget ftp://sourceware.org/pub/libffi/libffi-3.2.1.tar.gz\n$ tar zvxf libffi-3.2.1.tar.gz\n$ ./configure --prefix=/Bioinfo/Pipeline/SoftWare/libffi-3.2.1\n$ make\n$ make install\n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#pygraphviz","title":"pygraphviz","text":"<p>\u5982\u679c\u4f60\u4e0d\u9700\u8981\u4f7f\u7528 pygraphviz\uff0c\u53ef\u4ee5\u4e0d\u7528\u7ba1\u8fd9\u4e2a\u4f9d\u8d56\u3002</p> <p>PyGraphviz is a Python interface to the Graphviz graph layout and visualization package. With PyGraphviz you can create, edit, read, write, and draw graphs using Python to access the Graphviz graph data structure and layout algorithms.</p> <p>PyGraphviz \u662f Graphviz \u56fe\u5f62\u5e03\u5c40\u548c\u53ef\u89c6\u5316\u5305\u7684 Python \u63a5\u53e3\u3002 \u501f\u52a9 PyGraphviz\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Python \u521b\u5efa\u3001\u7f16\u8f91\u3001\u8bfb\u53d6\u3001\u5199\u5165\u548c\u7ed8\u5236\u56fe\u5f62\uff0c\u4ee5\u8bbf\u95ee Graphviz \u56fe\u5f62\u6570\u636e\u7ed3\u6784\u548c\u5e03\u5c40\u7b97\u6cd5\u3002</p> Bash<pre><code>$ /Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/pip3 install pygraphviz\nCollecting pygraphviz\n  Using cached https://files.pythonhosted.org/packages/7e/b1/d6d849ddaf6f11036f9980d433f383d4c13d1ebcfc3cd09bc845bda7e433/pygraphviz-1.5.zip\nInstalling collected packages: pygraphviz\n  Running setup.py install for pygraphviz ... error\n    Complete output from command /Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/python3.7 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-_zdjdg0j/pygraphviz/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-g0mz7lrq/install-record.txt --single-version-externally-managed --compile:\n    running install\n    Trying dpkg\n    Failed to find dpkg\n    Trying pkg-config\n    Package libcgraph was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `libcgraph.pc'\n    to the PKG_CONFIG_PATH environment variable\n    No package 'libcgraph' found\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n      File \"/tmp/pip-install-_zdjdg0j/pygraphviz/setup.py\", line 93, in &lt;module&gt;\n        tests_require=['nose&gt;=1.3.7', 'doctest-ignore-unicode&gt;=0.1.2', 'mock&gt;=2.0.0'],\n      File \"/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/site-packages/setuptools/__init__.py\", line 145, in setup\n        return distutils.core.setup(**attrs)\n      File \"/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/distutils/core.py\", line 148, in setup\n        dist.run_commands()\n      File \"/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/distutils/dist.py\", line 966, in run_commands\n        self.run_command(cmd)\n      File \"/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/distutils/dist.py\", line 985, in run_command\n        cmd_obj.run()\n      File \"/tmp/pip-install-_zdjdg0j/pygraphviz/setup_commands.py\", line 44, in modified_run\n        self.include_path, self.library_path = get_graphviz_dirs()\n      File \"/tmp/pip-install-_zdjdg0j/pygraphviz/setup_extra.py\", line 162, in get_graphviz_dirs\n        include_dirs, library_dirs = _try_configure(include_dirs, library_dirs, _pkg_config)\n      File \"/tmp/pip-install-_zdjdg0j/pygraphviz/setup_extra.py\", line 117, in _try_configure\n        i, l = try_function()\n      File \"/tmp/pip-install-_zdjdg0j/pygraphviz/setup_extra.py\", line 72, in _pkg_config\n        output = S.check_output(['pkg-config', '--libs-only-L', 'libcgraph'])\n      File \"/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/subprocess.py\", line 395, in check_output\n        **kwargs).stdout\n      File \"/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/subprocess.py\", line 487, in run\n        output=stdout, stderr=stderr)\n    subprocess.CalledProcessError: Command '['pkg-config', '--libs-only-L', 'libcgraph']' returned non-zero exit status 1.\n\n    ----------------------------------------\nCommand \"/Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/python3.7 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-_zdjdg0j/pygraphviz/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-g0mz7lrq/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-install-_zdjdg0j/pygraphviz/\n</code></pre> <p>\u53c2\u8003\uff1a\u300aInstallation:fatal error: 'graphviz/cgraph.h' file not found\u300b</p> Bash<pre><code>$ wget https://graphviz.gitlab.io/pub/graphviz/stable/SOURCES/graphviz.tar.gz\n$ tar zvxf graphviz.tar.gz\n$ cd graphviz-2.40.1\n$ ./configure --prefix=/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1\n$ make &amp;&amp; make install\n</code></pre> <p>\u63a8\u8350\u628a\u5b89\u88c5\u597d\u7684 graphviz \u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\uff0c\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u51fa\u73b0\uff1a\"pygraphviz/graphviz_wrap.c:2987:29: fatal error: graphviz/cgraph.h: No such file or directory\" \u65e0\u6cd5\u627e\u5230\u5934\u6587\u4ef6\u7684\u5f02\u5e38\u3002</p> Bash<pre><code>export PKG_CONFIG_PATH=/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib/pkgconfig:$PKG_CONFIG_PATH\nexport LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib:$LD_LIBRARY_PATH\nexport C_INCLUDE_PATH=/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include:$C_INCLUDE_PATH\nexport CPLUS_INCLUDE_PATH=/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include:$CPLUS_INCLUDE_PATH\n</code></pre> <p>\u5982\u679c graphviz \u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\uff0c <code>pygraphviz</code>\u00a0\u7684 python \u5305\u53ef\u4ee5\u53c2\u8003\u4e0b\u9762\u7684\u65b9\u6cd5\u5b89\u88c5\uff1a</p> Bash<pre><code>$ /Bioinfo/Pipeline/SoftWare/Python-3.7.3/bin/pip3 install --global-option=build_ext --global-option=\"-I/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include\" --global-option=\"-L/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib\" pygraphviz\n/Bioinfo/Pipeline/SoftWare/Python-3.7.3/lib/python3.7/site-packages/pip/_internal/commands/install.py:207: UserWarning: Disabling all use of wheels due to the use of --build-options / --global-options / --install-options.\n  cmdoptions.check_install_build_global(options)\nCollecting pygraphviz\n  Using cached https://files.pythonhosted.org/packages/7e/b1/d6d849ddaf6f11036f9980d433f383d4c13d1ebcfc3cd09bc845bda7e433/pygraphviz-1.5.zip\nInstalling collected packages: pygraphviz\n  Running setup.py install for pygraphviz ... done\nSuccessfully installed pygraphviz-1.5\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_3","title":"\u7f16\u8bd1\u5b89\u88c5","text":"<p>\u8fd9\u91cc\u7684\u7f16\u8bd1\u5b89\u88c5\uff0c\u4ee5 Python-3.11.6 \u4e3a\u793a\u4f8b\u3002</p> <p>\u7b2c\u4e00\uff0c\u4e0b\u8f7d Python \u6e90\u7801\uff0c\u89e3\u538b\u3002</p> Bash<pre><code># \u5b98\u7f51\u4e0b\u8f7d\u5730\u5740 https://www.python.org/downloads\nwget https://www.python.org/ftp/python/3.11.6/Python-3.11.6.tgz\n\n# \u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55\ntar zvxf Python-3.11.6.tgz -C /usr/local/src\n</code></pre> <p>\u7b2c\u4e8c\uff0c\u8fdb\u5165\u89e3\u538b\u7684\u6e90\u7801\u8def\u5f84\uff0c\u7f16\u8bd1 Python \u6e90\u7801\u3002</p> Bash<pre><code>$ export PKG_CONFIG_PATH=/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib/pkgconfig:$PKG_CONFIG_PATH\n$ export PKG_CONFIG_PATH=/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib/pkgconfig:$PKG_CONFIG_PATH\n\n$ export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib64:$LD_LIBRARY_PATH\n$ export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib:$LD_LIBRARY_PATH\n$ export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib:$LD_LIBRARY_PATH\n$ export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib:$LD_LIBRARY_PATH\n$ export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib:$LD_LIBRARY_PATH\n$ export LD_LIBRARY_PATH=/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/lib:$LD_LIBRARY_PATH\n\n$ export TCLTK_LIBS=\"-L/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/lib -ltcl8.6 -ltk8.6\"\n$ export TCLTK_CFLAGS=\"-I/Bioinfo/Pipeline/SoftWare/ActiveTcl-8.6.9/include\"\n\n$ ./configure \\\n--enable-optimizations \\\n--prefix=/Bioinfo/Pipeline/SoftWare/Python-3.11.6 \\\n--with-openssl=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1 \\\n--with-openssl-rpath=/Bioinfo/Pipeline/SoftWare/openssl-1.1.1/lib \\\nCC=/Bioinfo/Pipeline/SoftWare/gcc-7.3.0/bin/gcc \\\nCXX=/Bioinfo/Pipeline/SoftWare/gcc-7.3.0/bin/c++ \\\nLDFLAGS=\"-L/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib64 \\\n         -L/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib \\\n         -L/RiboBio/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/lib \\\n         -L/Bioinfo/Pipeline/SoftWare/gdbm-1.23/lib\" \\\nCPPFLAGS=\"-I/Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/include \\\n          -I/Bioinfo/Pipeline/SoftWare/sqlite-3.36.0/include \\\n          -I/Bioinfo/Pipeline/SoftWare/gdbm-1.23/include\" \\\nPKG_CONFIG_PATH=\"/Bioinfo/Pipeline/SoftWare/libffi-3.2.1/lib/pkgconfig: \\\n                 /Bioinfo/Pipeline/SoftWare/graphviz-2.40.1/lib/pkgconfig\"\n</code></pre> <ul> <li><code>--enable-optimizations</code>\u00a0 \u662f\u4f18\u5316\u9009\u9879\uff08LTO\uff0cPGO\u00a0 \u7b49\uff09\u52a0\u4e0a\u8fd9\u4e2a \u00a0flag\u00a0 \u7f16\u8bd1\u540e\uff0c\u6027\u80fd\u6709 \u00a010%\u00a0 \u5de6\u53f3\u7684\u4f18\u5316\uff0c\u4f46\u662f\u8fd9\u4f1a\u660e\u663e\u7684\u589e\u52a0\u7f16\u8bd1\u65f6\u95f4\u3002\u5efa\u8bae\u4f7f\u7528\u8fd9\u4e2a\u53c2\u6570\uff1b</li> <li><code>--prefix</code>\u00a0 \u58f0\u660e\u5b89\u88c5\u8def\u5f84\uff1b</li> <li>\u5b89\u88c5\u591a\u4e2a python \u7684\u7248\u672c\uff0c\u5982\u679c\u4e0d\u5f00\u542f<code>--enable-shared</code>\uff0c\u6307\u5b9a\u4e0d\u540c\u8def\u5f84\u5373\u53ef\u3002\u5f53\u5f00\u542f<code>--enable-shared</code> \u65f6\uff0c\u9ed8\u8ba4\u53ea\u6709\u4e00\u4e2a\u7248\u672c\u7684 python\u3002</li> <li>Python 3 \u7f16\u8bd1\u53ef\u4ee5\u5728 configure \u6216\u8005\u73af\u5883\u53d8\u91cf\u4e2d\u6307\u5b9a OpenSSL \u5b89\u88c5\u8def\u5f84\u8fdb\u884c\u7f16\u8bd1\u7684\u65b9\u5f0f\u89e3\u51b3 OpenSSL \u4f9d\u8d56\uff0c\u5426\u5219 <code>make</code>\u00a0 \u8fc7\u7a0b\u53ef\u80fd\u51fa\u9519\u3002</li> </ul> Bash<pre><code>$ make\n......\nThe following modules found by detect_modules() in setup.py, have been\nbuilt by the Makefile instead, as configured by the Setup files:\n_abc                  atexit                pwd\ntime\n\n\nFailed to build these modules:\n_ctypes               _hashlib              _ssl\n\n\nCould not build the ssl module!\nPython requires an OpenSSL 1.0.2 or 1.1 compatible libssl with X509_VERIFY_PARAM_set1_host().\nLibreSSL 2.6.4 and earlier do not provide the necessary APIs, https://github.com/libressl-portable/portable/issues/381\n\n......\n</code></pre> <ul> <li><code>make</code>\u00a0\u8fc7\u7a0b\u5982\u679c\u51fa\u73b0 <code>ModuleNotFoundError: No module named '_ctypes'</code>\u00a0\u6216\u8005 <code>INFO: Could not locate ffi libs and/or headers</code>\u00a0\u53c2\u8003\uff1ahttps://groups.google.com/forum/#!topic/comp.lang.python/npv-wzmytzo</li> </ul> <p></p> <ul> <li>\u5bf9\u4e8e\u4f4e\u7248\u672c\u7684 Python \u5982\u679c\u6307\u5b9a\u00a0<code>--with-openssl=DIR</code>\u00a0\u4f9d\u7136\u65e0\u6cd5\u89e3\u51b3 ssl \u6a21\u5757\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u53c2\u8003\u4fee\u6539 Modules/Setup.dist \u6587\u4ef6\uff08\u9ed8\u8ba4\u8fd9\u5757\u662f\u6ce8\u91ca\u7684\uff0c\u653e\u5f00\u6ce8\u91ca\u5373\u53ef\u3002\u8fd9\u5757\u529f\u80fd\u662f\u5f00\u542f SSL \u6a21\u5757\uff0c\u4e0d\u7136\u4f1a\u51fa\u73b0\u5b89\u88c5\u5b8c\u6bd5\u540e\uff0c\u63d0\u793a\u627e\u4e0d\u5230 ssl \u6a21\u5757\u7684\u9519\u8bef\uff09\u518d\u6267\u884c configure\uff0c\u4fee\u6539\u5185\u5bb9\u5982\u4e0b\uff1a</li> </ul> Bash<pre><code># Socket module helper for SSL support; you must comment out the other\n# socket line above, and possibly edit the SSL variable:\nSSL=/usr/local/ssl\n_ssl _ssl.c \\\n    -DUSE_SSL -I$(SSL)/include -I$(SSL)/include/openssl \\\n    -L$(SSL)/lib -lssl -lcrypto\n</code></pre> <p>\u7b2c\u4e09\uff0cMakefile \u751f\u540e\u4f9d\u6b21\u5728\u5f53\u524d\u8def\u5f84\u6267\u884c\u7f16\u8bd1\u548c\u5b89\u88c5\u547d\u4ee4\u3002</p> Bash<pre><code>make &amp;&amp; make install\n</code></pre> <p>\u7b2c\u56db\uff0c\u5b89\u88c5\u5b8c\u6210\u3002\u4ee5\u4e0a\u547d\u4ee4\u6267\u884c\u5b8c\u6bd5\uff0c\u4e14\u65e0\u62a5\u9519\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5c06\u9ed8\u8ba4 python \u6362\u5c06\u5207\u6362\u81f3 3.11.6\uff08\u4e00\u822c\u4e0d\u5efa\u8bae\u66ff\u6362\uff0c\u4e2a\u4eba\u5efa\u8bae\u628a\u81ea\u5b9a\u4e49\u5b89\u88c5\u7684 Python bin \u8def\u5f84\u6dfb\u52a0\u5230 PATH \u73af\u5883\u53d8\u91cf\u5373\u53ef\uff09\uff1a</p> Bash<pre><code># \u66ff\u6362\u7cfb\u7edf\u81ea\u5e26\u7684 python\uff08\u4e0d\u5efa\u8bae\uff09\nmv /usr/bin/python /usr/bin/python2\nln -s /Bioinfo/Pipeline/SoftWare/Python-3.11.6/bin/python3 /usr/bin/python3\n\n# \u6dfb\u52a0\u65b0 Python \u5230 PATH \u73af\u5883\u53d8\u91cf\uff08\u5efa\u8bae\uff09\necho \"export PATH=/Bioinfo/Pipeline/SoftWare/Python-3.11.6/bin:$PATH\" &gt;&gt;~/.bashrc\nsource ~/.bashrc\n</code></pre> <p>\u8fd0\u884c\u547d\u4ee4 <code>python -V</code>\u00a0\uff0c\u67e5\u770b\u662f\u5426\u51fa\u73b0 3.11.6\u00a0 \u7684\u7248\u672c\uff0c\u51fa\u73b0\u5373\u4e3a\u5b89\u88c5\u6210\u529f\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_4","title":"\u5176\u4ed6\u5de5\u5177","text":"<p>Python &gt;= 3.10 \u5728\u5b89\u88c5\u65f6\u5019\uff0c\u9ed8\u8ba4\u4f1a\u540c\u65f6\u5b89\u88c5 pip3\uff01\u5982\u679c\u4f60\u7684 python &lt; 3.10\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u9762\u7684\u65b9\u6cd5\u5b89\u88c5 pip\u3002</p> Bash<pre><code># \u4e0b\u8f7d setuptools \u548c pip \u5b89\u88c5\u7a0b\u5e8f\ncurl https://bootstrap.pypa.io/get-pip.py -o get-pip.py\npython3 get-pip.py\n</code></pre> <p>\u81f3\u6b64\uff0cCentOS Linux release\u00a06.5 \u4e0b\u7684 python-3.11.6\u00a0 \u5168\u90e8\u5b89\u88c5\u5b8c\u6210\u3002\u5982\u679c\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u5176\u4ed6\u7684\u62a5\u9519\uff0c\u5efa\u8bae\u628a error \u5173\u952e\u4fe1\u606f\u76f4\u63a5\u590d\u5236\u5230 Google \u8fdb\u884c\u68c0\u7d22\uff0c\u53c2\u8003\u5176\u4ed6\u4eba\u7684\u89e3\u51b3\u65b9\u6cd5\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_5","title":"\u5176\u4ed6\u5f02\u5e38\u4e0e\u89e3\u51b3","text":""},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_bz2","title":"_bz2","text":"<ul> <li>\u7cfb\u7edf\uff1aCentOS Linux release 7.7.1908 (Core)</li> <li>GCC\uff1agcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-39)</li> </ul> <p>\u5728 CentOS 7 \u4e2d\u5b89\u88c5 Python-3.6.9 \u4e2d\u53d1\u73b0 make \u8fc7\u7a0b\u4e2d\u4e00\u76f4\u63d0\u793a\uff1a\"ModuleNotFoundError: No module named '_bz2'\"\uff0c\u5c3d\u7ba1 <code>sudo yum install bzip2 bzip2-devel</code>\u00a0 \u5df2\u7ecf\u5b89\u88c5\u4e86 bzip2 \u7684\u4f9d\u8d56\uff0c\u95ee\u9898\u8fd8\u662f\u4e0d\u5f97\u5176\u89e3\u3002\u6700\u540e\u53c2\u8003 stackoverflow \u4e0a\u7684\u300aCorrectly building local python3, with bz2 support\u300b\uff0c\u7ec8\u4e8e\u89e3\u51b3\u95ee\u9898\uff0c\u4e0b\u9762\u8bb0\u5f55\u4e00\u4e0b\u3002 Correctly building local python3, with bz2 support</p> <p>\u624b\u52a8\u5b89\u88c5 bzip2\uff1a</p> Bash<pre><code>wget https://nchc.dl.sourceforge.net/project/bzip2/bzip2-1.0.6.tar.gz\ntar zvxf bzip2-1.0.6.tar.gz\ncd bzip2-1.0.6\nmake -f Makefile_libbz2_so  # \u8fd9\u4e00\u6b65\u662f\u751f\u6210 libbz2.so.1.0.6 \u7684\u52a8\u6001\u5e93\u6587\u4ef6\nmake\nmake install PREFIX=/usr/local/software/bzip2-1.0.6\ncp libbz2.so.1.0.6 /usr/local/software/bzip2-1.0.6/lib/\n</code></pre> <p>\u51e0\u70b9\u8bf4\u660e\uff1a</p> <ul> <li>bzip2 \u7684\u5b98\u7f51 \u00a0http://www.bzip.org/\u00a0 \u5df2\u7ecf\u628a bzip2 \u7684\u6e90\u7801\u4e0b\u8f7d\u94fe\u63a5\u653e\u5230\u4e86 \u00a0SourceForge\uff0c\u7f51\u7edc\u4e0a\u4e00\u4e9b\u4ece \u00a0http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz\u00a0 \u4e0b\u8f7d\u7684\u505a\u6cd5\u5df2\u7ecf\u5931\u6548\u3002</li> <li>SourceForge \u4e0a bzip2 \u7684\u6700\u65b0\u7248\u672c\u8fd8\u662f 1.0.6\uff08Last modified 2018-11-3\uff09\uff0c\u66f4\u9ad8\u7ea7\u7248\u672c\u7684 bzip2 \u6211\u4e5f\u4e0d\u77e5\u9053\u662f\u5426\u5b58\u5728\uff0c\u4e5f\u4e0d\u77e5\u9053\u80fd\u4e0d\u80fd\u7528\u3002</li> </ul> <p></p> <p>\u7f16\u8bd1\u5b89\u88c5 Python-3.6.9\uff1a</p> Bash<pre><code>$ wget https://www.python.org/ftp/python/3.6.9/Python-3.6.9.tgz\n$ tar zvxf Python-3.6.9.tgz\n$ cd Python-3.6.9\n$ ./configure --enable-optimizations --prefix=/usr/local/software/python-3.6 CFLAGS=\"-I/usr/local/software/bzip2-1.0.6/include\" LDFLAGS=\"-L/usr/local/software/bzip2-1.0.6/lib\"\n$ make\n$ make install\n</code></pre> <ul> <li>Python-3.6.9 \u4e2d\u7684 <code>./configure --help</code>\u00a0\u4e2d\u6ca1\u6709 <code>--with-openssl</code>\u00a0\u53c2\u6570\uff01\u6709\u70b9\u795e\u5947\uff0c\u6211\u4e5f\u4e0d\u77e5\u9053\u539f\u56e0\u3002</li> <li>\u5b89\u88c5\u5b8c\u6210\u53ef\u4ee5\u7528 <code>from _bz2 import BZ2Compressor, BZ2Decompressor</code>\u00a0\u6d4b\u8bd5\u4e00\u4e0b <code>_bz2</code>\u00a0 \u662f\u5426\u53ef\u7528\u3002</li> </ul>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-11-02-Python3-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85-dis13/#_6","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>\u884c\u8005\u65e0\u7586-ITer,\u300apython2.7 \u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\u300b, \u535a\u5ba2\u56ed</li> <li>Scott Frazer,\u300aHow do I compile Python 3.4 with custom OpenSSL?\u300b, Stack Overflow</li> </ol>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-12-01-Python3-%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-with-openssl-%E6%97%A0%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98-dis27/","title":"Python3 \u7f16\u8bd1\u5b89\u88c5 --with-openssl \u65e0\u6548\u7684\u95ee\u9898","text":"<p>\u5f88\u591a\u4eba\u5728\u4f7f\u7528 Python3 \u7ecf\u5e38\u4f1a\u9047\u5230\u4e00\u4e9b openssl \u7248\u672c\u592a\u4f4e\u4ece\u800c\u5bfc\u81f4\u5305\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\u7684\u95ee\u9898\uff0c\u5c24\u5176\u662f <code>urllib3</code> \u8fd9\u4e2a\u5305\u3002 Python<pre><code>Python 3.9.18 (main, Sep  7 2023, 14:32:17) \n[GCC 4.8.5 20150623 (Red Hat 4.8.5-44)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import requests\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/local/software/python-3.9.18/lib/python3.9/site-packages/requests/__init__.py\", line 43, in &lt;module&gt;\n    import urllib3\n  File \"/usr/local/software/python-3.9.18/lib/python3.9/site-packages/urllib3/__init__.py\", line 41, in &lt;module&gt;\n    raise ImportError(\nImportError: urllib3 v2.0 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'OpenSSL 1.0.2k-fips  26 Jan 2017'. See: https://github.com/urllib3/urllib3/issues/2168\n&gt;&gt;&gt; import ssl\n&gt;&gt;&gt; import urllib3\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/local/software/python-3.9.18/lib/python3.9/site-packages/urllib3/__init__.py\", line 41, in &lt;module&gt;\n    raise ImportError(\nImportError: urllib3 v2.0 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'OpenSSL 1.0.2k-fips  26 Jan 2017'. See: https://github.com/urllib3/urllib3/issues/2168\n</code></pre></p> <p>\u7f51\u7edc\u4e0a\u6709\u5f88\u591a\u5173\u4e8e\u8fd9\u65b9\u9762\u7684\u6559\u7a0b\uff0c\u4e3b\u8981\u89e3\u51b3\u65b9\u6848\uff1a</p> <ol> <li>\u964d\u7ea7 <code>urllib3</code> \u7684\u7248\u672c\uff0c\u4f8b\u5982\uff1a<code>pip install --upgrade urllib3==1.26.15</code>\uff1b</li> <li>\u91cd\u65b0\u5b89\u88c5\u4e00\u4e2a\u66f4\u9ad8\u7248\u672c\u7684 OpenSSL\uff0c\u7136\u540e\u5907\u4efd\u5e76\u66ff\u6362\u7cfb\u7edf\u539f\u6765\u7684 openssl\uff0c\u6700\u540e\u91cd\u65b0\u7f16\u8bd1\u5b89\u88c5 Python\u3002</li> </ol> <p>\u4e2a\u4eba\u89c9\u5f97\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u90fd\u4e0d\u591f\u597d\uff0c\u5c24\u5176\u662f\u7b2c\u4e8c\u4e2a\u65b9\u6cd5 \u2014\u2014 </p> <ul> <li>\u65b0\u88c5\u4e86\u4e00\u4e2a\u66f4\u9ad8\u7248\u672c\u7684 OpenSSL\uff0c\u4f46\u662f\u53c8\u4e0d\u60f3\u66ff\u6362\u7cfb\u7edf\u539f\u6765\u7684 openssl \u4ee5\u514d\u51fa\u73b0\u65b0\u7684\u95ee\u9898\uff08\u6216\u8005\u6ca1\u6709\u7ba1\u7406\u5458\u6743\u9650\uff09\uff1b</li> <li>\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u4f7f\u7528 <code>--with-openssl</code> \u6307\u5b9a\u4e86\u65b0\u88c5\u7684 OpenSSL \u8def\u5f84\uff0c\u7f16\u8bd1\u5b89\u88c5\u5b8c\u6210\u540e Python \u4ecd\u7136\u4f7f\u7528\u65e7\u7248\u672c\u7684 OpenSSL\uff1b</li> </ul> <p>\u5f88\u4e0d\u5e78\u7684\u662f\uff0c\u4e2a\u4eba\u5728 CentOS 7.3 + Python-3.9.18 \u5c31\u9047\u5230\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002</p> <ol> <li> <p>\u65b0\u88c5\u4e86 OpenSSL 3.0.10  Text Only<pre><code>wget https://www.openssl.org/source/openssl-3.0.10.tar.gz --no-check-certificate\ntar zvxf openssl-3.0.10.tar.gz\ncd openssl-3.0.10\n./config --prefix=/usr/local/software/openssl-3.0.10 shared zlib\nmake &amp;&amp; make install\n</code></pre></p> </li> <li> <p>\u6dfb\u52a0 <code>~/.bashrc</code> \u73af\u5883\u53d8\u91cf Text Only<pre><code>export PATH=/usr/local/software/openssl-3.0.10/bin:$PATH\nexport LD_LIBRARY_PATH=/usr/local/software/openssl-3.0.10/lib64:$LD_LIBRARY_PATH\n</code></pre></p> </li> <li> <p>\u91cd\u65b0\u7f16\u8bd1\u5b89\u88c5 Python-3.9.18 Text Only<pre><code>./configure --prefix=/usr/local/software/python-3.9.18 --with-openssl=/usr/local/software/openssl-3.0.10/\nmake &amp;&amp; make install\n</code></pre></p> </li> </ol> <p>\u7b49\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u4f60\u4f1a\u795e\u5947\u7684\u53d1\u73b0\u91cd\u65b0\u7f16\u8bd1\u5b89\u88c5\u540e Python 3.9.18 \u4ecd\u7136\u4f7f\u7528\u65e7\u7248\u672c\u7684 OpenSSL (OpenSSL 1.0.2k-fips  26 Jan 2017)\uff01</p> <p>\u5176\u5b9e\uff0c\u8fd9\u8fd8\u662f\u56e0\u4e3a Python \u5728\u91cd\u65b0\u7f16\u8bd1\u7684\u65f6\u5019\u6ca1\u6709\u8bc6\u522b\u5230\u65b0\u7f16\u8bd1\u7684 OpenSSL\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u628a\u91cd\u65b0\u7f16\u8bd1\u7684\u547d\u4ee4\u8c03\u6574\u4e00\u4e0b\uff1a Text Only<pre><code>/configure --prefix=/usr/local/software/python-3.9.18 \\\n--with-openssl=/usr/local/software/openssl-3.0.10/ \\\nLDFLAGS=\"-L/usr/local/software/openssl-3.0.10/lib64\" \\\nCPPFLAGS=\"-I/usr/local/software/openssl-3.0.10/include\" \\\nPKG_CONFIG_PATH=\"/usr/local/software/openssl-3.0.10/lib64/pkgconfig\"\n</code></pre></p> <p>\u8fd9\u6837\u5b50\u4e00\u6765\uff0c\u95ee\u9898\u5c31\u8fce\u5203\u800c\u89e3\u4e86\uff0c\u7f16\u8bd1\u5b89\u88c5\u5b8c\u540e\uff0c\u4f60\u4f1a\u53d1\u73b0 Python 3.9.18 \u5df2\u7ecf\u6210\u529f\u7528\u7528\u4e0a\u4e86 OpenSSL 3.0.10 1 Aug 2023\uff1a Text Only<pre><code>$ python3 -c \"import ssl; print(ssl.OPENSSL_VERSION)\"\nOpenSSL 3.0.10 1 Aug 2023\n</code></pre> </p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Python/2023-12-01-Python3-%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-with-openssl-%E6%97%A0%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98-dis27/#_1","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>Drop support for OpenSSL&lt;1.1.1 - urllib3/urllib3#2168</li> </ol>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Windows/2024-01-09-%E8%8B%B9%E6%9E%9C%E5%AD%97%E4%BD%93-PingFang-SC-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-dis49/","title":"\u82f9\u679c\u5b57\u4f53 PingFang SC \u7684\u4e00\u4e9b\u8e29\u5751\u8bb0\u5f55","text":"<p>\u66fe\u7ecf\u5728 \u300a\u4e3a Windows \u7cfb\u7edf\u66ff\u6362\u4f18\u96c5\u7684\u82f9\u679c\u5b57\u4f53\u300b\u4e2d\u63d0\u5230\u53ef\u5728 Windows \u4e2d\u4f7f\u7528\u82f9\u65b9\u5b57\u4f53\u66ff\u4ee3\u9ed8\u8ba4\u7684\u5fae\u8f6f\u96c5\u9ed1\uff0c\u8fd9\u91cc\u5c31\u6709\u4e00\u4e2a\u95ee\u9898\u5373\u9700\u8981\u5728 Wondows \u4e0b\u5b89\u88c5\u82f9\u65b9\u5b57\u4f53 \u2014\u2014 \u5982\u679c\u4f60\u7684\u5b57\u4f53\u5b89\u88c5\u9519\u8bef\uff0c\u5f88\u6709\u53ef\u80fd\u5bfc\u81f4\u4f60\u7684\u6d4f\u89c8\u5668\u6216\u5176\u4ed6\u5e94\u7528\u51fa\u73b0\u4e71\u7801\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Windows/2024-01-09-%E8%8B%B9%E6%9E%9C%E5%AD%97%E4%BD%93-PingFang-SC-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-dis49/#_1","title":"\u6d4f\u89c8\u5668\u4e71\u7801","text":"<p>\u51fa\u73b0\u8fd9\u4e2a\u7684\u539f\u56e0\u4e3b\u8981\u662f\u7ad9\u70b9\u4f7f\u7528\u4e86 <code>PingFang SC</code> \u7684\u5b57\u4f53\u8bbe\u7f6e\u3002 Text Only<pre><code>body {\n    font-family: PingFang SC,microsoft yahei,sans-serif;\n}\n</code></pre></p> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u4f7f\u7528 F12 \u68c0\u67e5\u6e90\u7801\u6a21\u5f0f\u628a <code>font-family</code> \u4e2d\u7684 <code>PingFang SC</code> \u53bb\u6389\u540e\u5373\u53ef\u663e\u793a\u6b63\u5e38\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Windows/2024-01-09-%E8%8B%B9%E6%9E%9C%E5%AD%97%E4%BD%93-PingFang-SC-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-dis49/#_2","title":"\u5b57\u4f53\u5b89\u88c5\u540e\u4e0d\u8d77\u4f5c\u7528","text":"<p>\u8fd9\u91cc\u5c31\u6d89\u53ca\u4e00\u4e2a \u840d\u65b9 vs \u82f9\u65b9 vs PingFang \u533a\u522b\u7684\u4e00\u4e2a\u95ee\u9898\u3002</p> <p>\u731b\u5730\u770b\u4e0a\u53bb\uff0c\u840d\u65b9/\u82f9\u65b9/PingFang \u5e94\u8be5\u662f\u540c\u4e00\u4e2a\u5b57\u4f53\u3002\u4f46\u662f\uff0c\u5b9e\u9645\u4e0a\u7684\u6548\u679c\uff0c\u5374\u5e76\u4e0d\u76f8\u540c\u3002\u90a3\u4e48\uff0c\u5230\u5e95\u8c01\u662f\u771f\u6b63\u7684 pingfang sc\u5462\uff1f    </p> <p>\u8fd9\u91cc\u4ee5\u80fd\u5426\u4ee5 PingFang SC \u4e3a\u540d\u79f0\u8bc6\u522b\u51fa\u6765\uff0c\u4f5c\u4e3a\u6807\u51c6\u3002\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u8bf4\u5462\uff1f\u56e0\u4e3a\u7f51\u9875\u91cc\u9762\u7684 font-family\uff0c\u5199\u7684\u90fd\u662f pingfang sc\uff0c\u4e5f\u8bb8\u840d\u65b9/\u82f9\u65b9\u90fd\u662f\u5dee\u4e0d\u591a\u7684\u5b57\u4f53\uff0c\u4f46\u662f\u4e0d\u80fd\u5728\u7f51\u9875\u91cc\u9762\u81ea\u52a8\u8bc6\u522b\u51fa\u6765\u3002\u6240\u4ee5\uff0c\u5c31\u7b49\u4e8e\u96f6\u3002</p> <p>Text Only<pre><code>body {\n   font-family: PingFang SC,microsoft yahei,sans-serif;\n}\n</code></pre> \u6bd4\u5982\uff0c\u4e0a\u8ff0 css \u5b9a\u4e49\uff0c\u5c31\u6765\u81ea\u4e8e\u817e\u8baf\u4e91\u4e3b\u9875\u3002\u5728\u5b9e\u9645\u7684\u5e94\u7528\u8fc7\u7a0b\u4e2d\uff0c\u53ea\u6709\u5b89\u88c5\u597d\u7684 pingfang sc \u7cfb\u5217\u5b57\u4f53\u624d\u80fd\u88ab\u8bc6\u522b\u3010\u5982\u4e0b\u56fe\u4e2d\u7684\u53f3\u4fa7\u5b57\u4f53\u3011\u3002   \u6ce8\u610f\uff1a\u840d\u65b9/\u82f9\u65b9\uff0c\u5728\u5b89\u88c5\u7684\u65f6\u5019\uff0c\u6587\u4ef6\u540d\u4e5f\u90fd\u662f pingfang-sc \u4e4b\u7c7b\u7684\u6587\u4ef6\u540d\u3002\u4f46\u662f\uff0c\u5b89\u88c5\u5b8c\u6210\u7684\u771f\u6b63\u6210\u54c1\uff0c\u53ef\u4e0d\u662f\u8fd9\u4e2a\u62fc\u97f3\u540d\u5b57\u3002\u8fdb\u800c\u5bfc\u81f4\u5b57\u4f53\u4e0d\u80fd\u8bc6\u522b\u3002 </p> <p>From \u300a\u7531 pingfang sc \u5b57\u4f53\u7f3a\u5931\uff0c\u6240\u66b4\u9732\u7684\u5b57\u4f53\u52a0\u8f7d\u987a\u5e8f\u7684\u6f5c\u89c4\u5219\u300b</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Windows/2024-01-09-%E8%8B%B9%E6%9E%9C%E5%AD%97%E4%BD%93-PingFang-SC-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-dis49/#_3","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>\u53c2\u8003 \u300a\u7531 pingfang sc \u5b57\u4f53\u7f3a\u5931\uff0c\u6240\u66b4\u9732\u7684\u5b57\u4f53\u52a0\u8f7d\u987a\u5e8f\u7684\u6f5c\u89c4\u5219\u300b \u4e00\u6587\u7684\u65b9\u6848\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Windows/2024-01-09-%E8%8B%B9%E6%9E%9C%E5%AD%97%E4%BD%93-PingFang-SC-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-dis49/#pingfang-sc","title":"\u5b89\u88c5 PingFang SC","text":"<p>\u540d\u79f0\u4e3a PingFang SC (\u82f1\u6587) \u7684\u5b57\u4f53\u627e\u4e86\u5f88\u4e45\u624d\u5728 GitHub \u7ffb\u5230\u4e00\u4e2a(\u4ee5\u9632\u4e22\u5931\uff0c\u4e2a\u4eba Fork \u4e86\u8fc7\u6765)\uff1ashenweiyan/PingFangSC-Fonts\uff0c\u5982\u6709\u9700\u8981\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u5b89\u88c5\u3002</p> <p>\u56fd\u5185\u5927\u591a\u6570\u7f51\u9875\uff0c\u5728\u5b9a\u4e49\u7f51\u9875\u5b57\u4f53\u7684\u65f6\u5019\uff0c\u90fd\u662f\u5148\u5b9a\u4e49 PingFang SC\uff0c\u7136\u540e\u5b9a\u4e49\u5fae\u8f6f\u96c5\u9ed1\u3002\u90a3\u4e48\uff1a    </p> <ul> <li>\u6b63\u5e38\u6765\u8bf4\uff0cwin \u7cfb\u7edf\u662f\u4e0d\u4f1a\u5b89\u88c5 PingFang SC \u5b57\u4f53\u7684\uff0c\u6240\u4ee5\uff0c\u663e\u793a\u5fae\u8f6f\u96c5\u9ed1\uff0c\u9875\u9762\u6b63\u5e38\u3002    </li> <li>\u4f46\u662f\uff0c\u4e00\u65e6\u5355\u72ec\u5b89\u88c5\u4e86 PingFang SC Light\uff0c\u9875\u9762\u5c31\u4f1a\u8bc6\u522b\u51fa\u8fd9\u4e2a Light \u5b57\u4f53\uff0c\u9875\u9762\u4e0d\u6b63\u5e38\u3002    </li> <li>\u89e3\u51b3\u65b9\u6848\u662f\uff1a\u518d\u5b89\u88c5\u4e00\u4e2a PingFang SC Regular\uff0c\u9875\u9762\u4f1a\u5728 Light \u4e4b\u524d\u4f18\u5148\u8bc6\u522b Regular\uff0c\u9875\u9762\u6b63\u5e38\u3002    </li> </ul> <p>\u5982\u679c\u60a8\u975e\u8981\u5728 win \u4e0b\u9762\u5b89\u88c5 pingfang sc \u5b57\u4f53\uff0c\u53ef\u80fd\u8981\u4e09\u601d\u800c\u540e\u5b89\u88c5\u4e86\u3002\u674e\u9b3c\u4f3c\u4e4e\u6709\u70b9\u591a...</p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Windows/2024-01-09-%E8%8B%B9%E6%9E%9C%E5%AD%97%E4%BD%93-PingFang-SC-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-dis49/#pingfang-sc_1","title":"\u5220\u9664 PingFang SC","text":"<p>\u4e2a\u4eba\u7528\u7684\u5c31\u662f\u8fd9\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4f46\u662f\u5728 <code>C:\\Windows\\Fonts</code> \u4e2d\u5220\u9664\u7684\u65f6\u5019\u4f1a\u63d0\u793a \u8be5\u5b57\u4f53\u6b63\u5728\u4f7f\u7528\u65e0\u6cd5\u5220\u9664\uff01\u6240\u4ee5\uff0c\u5fc5\u987b\u8981\u5173\u95ed\u4f7f\u7528\u82f9\u65b9\u5b57\u4f53\u7684\u7a0b\u5e8f\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\uff1a</p> <p>\u53c2\u8003\uff1a\u300a\u7535\u8111\u5b89\u88c5\u65b0\u5b57\u4f53\uff0c\u6d4f\u89c8\u5668\u5b57\u4f53\u5168\u53d8\u4e86\uff0c\u5982\u4f55\u5220\u9664\u6b63\u5728\u4f7f\u7528\u7684\u82f9\u65b9\u5b57\u4f53\u300b - \u54d4\u54e9\u54d4\u54e9</p> <ul> <li>\u5728 Windows \u4efb\u52a1\u7ba1\u7406\u7684\u8fdb\u7a0b\u4e2d\u628a\u6d4f\u89c8\u5668\u76f8\u5173\u7684\u5168\u90e8\u7ed3\u675f\u6389\uff0c\u5982 360 \u6d4f\u89c8\u5668\u76f8\u5173\u7684\u8fdb\u7a0b\u3001Microsoft edge\u3001Google Chrome \u7b49\u7b49\uff0c\u5168\u90e8\u9009\u62e9\u7ed3\u675f\u4efb\u52a1\u3002    </li> <li>\u628a\u5176\u4ed6\u53ef\u80fd\u4f7f\u7528\u82f9\u65b9\u5b57\u4f53\u7684\uff0c\u5982 OneNote\u3001WPS\u3001\u5fae\u4fe1\u3001... \u8fd9\u4e9b\u7684\u8fdb\u7a0b\u4e5f\u5168\u90e8\u7ed3\u675f\u6389\u3002    </li> </ul> <p>\u6700\u540e\uff0c\u56de\u5230 <code>C:\\Windows\\Fonts</code> \u4e2d\u518d\u6b21\u5220\u9664\u76f8\u5e94\u7684\u82f9\u65b9\u5b57\u4f53\uff0c\u53d1\u73b0\u5373\u53ef\u6210\u529f\u5220\u9664\u3002\u5220\u9664\u4e86\u8fd9\u4e9b\u82f9\u65b9\u5b57\u4f53\uff0c\u6d4f\u89c8\u5668\u4e0a\u7684\u5b57\u4f53\u663e\u793a\u4e5f\u5c31\u6062\u590d\u6b63\u5e38\u4e86\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/Windows/2024-01-09-%E8%8B%B9%E6%9E%9C%E5%AD%97%E4%BD%93-PingFang-SC-%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95-dis49/#_4","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>\u82cf\u5357\u5927\u53d4\uff0c\u300a\u7531 pingfang sc \u5b57\u4f53\u7f3a\u5931\uff0c\u6240\u66b4\u9732\u7684\u5b57\u4f53\u52a0\u8f7d\u987a\u5e8f\u7684\u6f5c\u89c4\u5219\u300b</li> <li>\u79d1\u6280\u730e\u624b2023\uff0c\u300a\u7535\u8111\u5b89\u88c5\u65b0\u5b57\u4f53\uff0c\u6d4f\u89c8\u5668\u5b57\u4f53\u5168\u53d8\u4e86\uff0c\u5982\u4f55\u5220\u9664\u6b63\u5728\u4f7f\u7528\u7684\u82f9\u65b9\u5b57\u4f53\u300b - \u54d4\u54e9\u54d4\u54e9</li> </ol>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/","title":"\u5728 Linux \u4e0a\u7ed9\u7528\u6237\u8d4b\u4e88\u6307\u5b9a\u76ee\u5f55\u7684\u8bfb\u5199\u6743\u9650","text":"<p>\u5728 Linux \u4e0a\u6307\u5b9a\u76ee\u5f55\u7684\u8bfb\u5199\u6743\u9650\u8d4b\u4e88\u7528\u6237\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u6807\uff1a\u7b2c\u4e00\u79cd\u662f\u4f7f\u7528 ACL (\u8bbf\u95ee\u63a7\u5236\u5217\u8868)\uff0c\u7b2c\u4e8c\u79cd\u662f\u521b\u5efa\u7528\u6237\u7ec4\u6765\u7ba1\u7406\u6587\u4ef6\u6743\u9650\uff0c\u4e0b\u9762\u4f1a\u4e00\u4e00\u4ecb\u7ecd\u3002\u4e3a\u4e86\u5b8c\u6210\u8fd9\u4e2a\u6559\u7a0b\uff0c\u6211\u4eec\u5c06\u4f7f\u7528\u4ee5\u4e0b\u8bbe\u7f6e\uff1a</p> <ul> <li>\u64cd\u4f5c\u7cfb\u7edf\uff1aCentOS 7</li> <li>\u6d4b\u8bd5\u76ee\u5f55\uff1a/data/share</li> <li>\u6d4b\u8bd5\u7528\u6237\uff1ashenweiyan</li> <li>\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\uff1aext4</li> </ul> <p>\u8bf7\u786e\u8ba4\u6240\u6709\u7684\u547d\u4ee4\u90fd\u662f\u4f7f\u7528 root \u7528\u6237\u6267\u884c\u7684\uff0c\u6216\u8005\u4f7f\u7528 sudo \u547d\u4ee4\u6765\u4eab\u53d7\u4e0e\u4e4b\u540c\u6837\u7684\u6743\u9650\u3002\u8ba9\u6211\u4eec\u5f00\u59cb\u5427\uff01\u4e0b\u9762\uff0c\u5148\u4f7f\u7528 mkdir \u547d\u4ee4\u6765\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a share \u7684\u76ee\u5f55\u3002</p> Bash<pre><code>$ mkdir -p /data/share\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/#1-acl","title":"1. ACL \u6743\u9650\u8bbe\u7f6e","text":"<p>\u91cd\u8981\u63d0\u793a\uff1a  \u6253\u7b97\u4f7f\u7528\u6b64\u65b9\u6cd5\u7684\u8bdd\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u60a8\u7684 Linux \u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\uff08\u5982 ext3 \u548c ext4, NTFS, BTRFS\uff09\u652f\u6301 ACL\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/#11-acl","title":"1.1. \u67e5\u770b\u5185\u6838\u662f\u5426\u652f\u6301 ACL","text":"<p>\u4f9d\u7167\u4ee5\u4e0b\u547d\u4ee4\u5728\u60a8\u7684\u7cfb\u7edf\u4e2d\u68c0\u67e5\u5f53\u524d\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\uff0c\u5e76\u4e14\u67e5\u770b\u5185\u6838\u662f\u5426\u652f\u6301 ACL\uff1a**</p> Bash<pre><code>$ df -T | awk '{print $1,$2,$NF}' | grep \"^/dev\"\n$ grep -i acl /boot/config*\n</code></pre> <p>\u4ece\u4e0b\u65b9\u7684\u622a\u5c4f\u53ef\u4ee5\u770b\u5230\uff0c\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u662f ext4\uff0c\u5e76\u4e14\u4ece <code>CONFIG_EXT4_FS_POSIX_ACL=y</code> \u9009\u9879\u53ef\u4ee5\u53d1\u73b0\u5185\u6838\u662f\u652f\u6301 POSIX ACL \u7684\u3002 </p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/#12-acl","title":"1.2. \u6302\u8f7d\u662f\u5426\u4f7f\u7528\u4e86 ACL","text":"<p>\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u67e5\u770b\u6587\u4ef6\u7cfb\u7edf\uff08\u5206\u533a\uff09\u6302\u8f7d\u65f6\u662f\u5426\u4f7f\u7528\u4e86 ACL \u9009\u9879\u3002</p> Bash<pre><code>$ tune2fs -l /dev/vda1 | grep acl\n</code></pre> <p>  \u901a\u8fc7\u4e0a\u8fb9\u7684\u8f93\u51fa\u53ef\u4ee5\u53d1\u73b0\uff0c\u9ed8\u8ba4\u7684\u6302\u8f7d\u9879\u76ee\u4e2d\u5df2\u7ecf\u5bf9 ACL \u8fdb\u884c\u4e86\u652f\u6301\u3002\u5982\u679c\u53d1\u73b0\u7ed3\u679c\u4e0d\u5982\u6240\u613f\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5bf9\u6307\u5b9a\u5206\u533a\uff08\u6b64\u4f8b\u4e2d\u4f7f\u7528 /dev/sda3\uff09\u5f00\u542f ACL \u7684\u652f\u6301\uff09\u3002</p> Bash<pre><code>$ mount -o remount,acl /\n$ tune2fs -o acl /dev/sda3\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/#13-acl","title":"1.3. \u8bbe\u7f6e ACL \u6743\u9650","text":"Bash<pre><code>setfacl -m m:rx \u6587\u4ef6\u540d    # \u7ed9 mask \u7684\u6743\u9650\u4e3a r-x \uff0c\u4f7f\u7528 \"m:rx\"\u683c\u5f0f \n\nsetfacl -m u:\u7528\u6237\u540d:\u6743\u9650 -R \u76ee\u5f55\u540d   # \u9012\u5f52 ACL \u6743\u9650(\u9488\u5bf9\u76ee\u5f55\u73b0\u6709\u7684\u6587\u4ef6\u8bbe\u7f6e ACL) \n</code></pre> <p>\u4f8b\u5982\uff0c\u6307\u5b9a\u76ee\u5f55 <code>share</code> \u7684\u8bfb\u5199\u6743\u9650\u5206\u914d\u7ed9\u540d\u4e3a <code>shenweiyan</code> \u7684\u7528\u6237\u4e86\uff0c\u4f9d\u7167\u4ee5\u4e0b\u547d\u4ee4\u6267\u884c\u5373\u53ef\u3002</p> Bash<pre><code># \u68c0\u67e5\u76ee\u5f55\u9ed8\u8ba4\u7684 ACL \u8bbe\u7f6e\uff08Check the default ACL settings for the directory\uff09\n$ getfacl /data/share\n\n# \u6307\u5b9a\u7528\u6237\u8bfb\u5199\u6743\u9650\uff08Give rw access to user shenweiyan\uff09\n# \u5bf9\u4e8e\u76ee\u5f55\u5fc5\u987b\u589e\u52a0 x (\u6267\u884c)\u6743\u9650, \u5426\u5219\u65e0\u6cd5\u8fdb\u5165\u76ee\u5f55\n$ setfacl -m user:shenweiyan:rwx /data/share\n\n# \u518d\u6b21\u68c0\u67e5\u76ee\u5f55 ACL \u8bbe\u7f6e\uff08Check new ACL settings for the directory\uff09\n$ getfacl /data/share\n</code></pre> <p>  \u5728\u4e0a\u65b9\u7684\u622a\u5c4f\u4e2d\uff0c\u901a\u8fc7\u8f93\u51fa\u7ed3\u679c\u7684\u7b2c\u4e8c\u884c getfacl \u547d\u4ee4\u53ef\u4ee5\u53d1\u73b0\uff0c\u7528\u6237 shenweiyan \u5df2\u7ecf\u6210\u529f\u7684\u88ab\u8d4b\u4e88\u4e86 /data/share \u76ee\u5f55\u7684\u8bfb\u5199\u6743\u9650\u3002</p> <p>\u5982\u679c\u60f3\u8981\u83b7\u53d6 ACL \u5217\u8868\u7684\u66f4\u591a\u4fe1\u606f\u3002\u8bf7\u53c2\u8003\uff1a</p> <ul> <li>\u5982\u4f55\u4f7f\u7528\u8bbf\u95ee\u63a7\u5236\u5217\u8868\uff08ACL\uff09\u4e3a\u7528\u6237/\u7ec4\u8bbe\u7f6e\u78c1\u76d8\u914d\u989d</li> <li>\u5982\u4f55\u4f7f\u7528\u8bbf\u95ee\u63a7\u5236\u5217\u8868\uff08ACL\uff09\u6302\u8f7d\u7f51\u7edc\u5171\u4eab</li> </ul>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/#14-acl","title":"1.4. \u5220\u9664 ACL \u6743\u9650","text":"<p>\u5982\u679c\u7528\u6237\u540d\uff08\u7ec4\u540d\uff09\u5df2\u7ecf\u5220\u9664\uff0c\u53ef\u4ee5\u4f7f\u7528 UID\uff08GID\uff09\u8fdb\u884c\u5220\u9664\u3002</p> Bash<pre><code>setfacl -x u:\u7528\u6237\u540d \u6587\u4ef6\u540d     # \u5220\u9664\u6307\u5b9a\u7528\u6237\u7684 ACL \u6743\u9650\nsetfacl -x g:\u7ec4\u540d   \u6587\u4ef6\u540d     # \u5220\u9664\u6307\u5b9a\u7ec4\u7684 ACL \u6743\u9650 \nsetfacl -b \u6587\u4ef6\u540d              # \u5220\u9664\u6587\u4ef6\u4e0b\u6240\u6709\u7684 ACL \u6743\u9650 \n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/#2","title":"2. \u7528\u6237\u7ec4\u6743\u9650\u8bbe\u7f6e","text":""},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/#21","title":"2.1. \u53d8\u66f4\u5c5e\u7ec4","text":"<p>\u5982\u679c\u7528\u6237\u5df2\u7ecf\u62e5\u6709\u4e86\u9ed8\u8ba4\u7684\u7528\u6237\u7ec4\uff08\u901a\u5e38\u7ec4\u540d\u4e0e\u7528\u6237\u540d\u76f8\u540c\uff09\uff0c\u5c31\u53ef\u4ee5\u7b80\u5355\u7684\u901a\u8fc7\u53d8\u66f4\u6587\u4ef6\u5939\u7684\u6240\u5c5e\u7528\u6237\u7ec4\u6765\u5b8c\u6210\u3002</p> Python<pre><code>$ chgrp shenweiyan /data/share\n</code></pre> <p>\u53e6\u5916\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u4e3a\u591a\u4e2a\u7528\u6237\uff08\u9700\u8981\u8d4b\u4e88\u6307\u5b9a\u76ee\u5f55\u8bfb\u5199\u6743\u9650\u7684\uff09\u65b0\u5efa\u4e00\u4e2a\u7528\u6237\u7ec4\u3002\u5982\u6b64\u4e00\u6765\uff0c\u4e5f\u5c31\u521b\u5efa\u4e86\u4e00\u4e2a\u5171\u4eab\u76ee\u5f55\u3002</p> Python<pre><code>$ groupadd dbshare\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/#22","title":"2.2. \u628a\u7528\u6237\u6dfb\u52a0\u5230\u5c5e\u7ec4","text":"<p>\u63a5\u4e0b\u6765\u5c06\u7528\u6237 <code>shenweiyan</code> \u6dfb\u52a0\u5230 <code>dbshare</code> \u7ec4\u4e2d\uff1a</p> Python<pre><code># add user to projects\n$ usermod -aG dbshare shenweiyan\n\n# check users groups\n$ groups tecmint\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/#23","title":"2.3. \u53d8\u66f4\u5c5e\u7ec4","text":"<p>\u5c06\u76ee\u5f55\u7684\u6240\u5c5e\u7528\u6237\u7ec4\u53d8\u66f4\u4e3a <code>dbshare</code>\uff1a</p> Python<pre><code>$ chgrp projects /data/share\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/#24","title":"2.4. \u8bbe\u7f6e\u7ec4\u5458\u6743\u9650","text":"<p>\u73b0\u5728\uff0c\u7ed9\u7ec4\u6210\u5458\u8bbe\u7f6e\u8bfb\u5199\u6743\u9650\u3002</p> Bash<pre><code>$ chmod -R 0760 /data/share\n\n# check new permissions\n$ ls -l /data/share\n</code></pre> <p>ok\uff0c\u5728 Linux \u4e0a\u7ed9\u7528\u6237\u8d4b\u4e88\u6307\u5b9a\u76ee\u5f55\u7684\u8bfb\u5199\u6743\u9650\u5c31\u4ecb\u7ecd\u5230\u8fd9\u91cc \uff01</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-10-23-%E5%9C%A8-Linux-%E4%B8%8A%E7%BB%99%E7%94%A8%E6%88%B7%E8%B5%8B%E4%BA%88%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E8%AF%BB%E5%86%99%E6%9D%83%E9%99%90-dis9/#3","title":"3. \u53c2\u8003\u8d44\u6599","text":"<ul> <li>\u9ad8\u5ef6\u658c\uff0c\u300aLinux ACL \u4f53\u9a8c\u300b\uff0cIBM Developer</li> <li>Mr-Ping\uff0c\u300a\u5728 Linux \u4e0a\u7ed9\u7528\u6237\u8d4b\u4e88\u6307\u5b9a\u76ee\u5f55\u7684\u8bfb\u5199\u6743\u9650\u300b\uff0cLinux \u4e2d\u56fd</li> </ul>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-11-30-%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%97%B4-SSH-%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95%E5%A4%B1%E8%B4%A5-dis25/","title":"\u4e0d\u540c\u7248\u672c\u670d\u52a1\u5668\u95f4 SSH \u514d\u5bc6\u7801\u767b\u5f55\u5931\u8d25","text":"<p>\u4eca\u5929\u4ece\u670d\u52a1\u5668 A\uff08CentOS 7.3\uff09\u914d\u7f6e SSH \u65e0\u5bc6\u7801\u767b\u5f55\u670d\u52a1\u5668 B\uff08CentOS Steam 9\uff09\uff0c\u53d1\u73b0\u6267\u884c\u4ee5\u4e0b\u5e38\u89c4\u64cd\u4f5c\u540e\u65e0\u6cd5\u5b9e\u73b0\uff1a Text Only<pre><code>$ ssh-keygen\n$ ssh-copy-id -i ~/.ssh/id_rsa.pub shenweiyan@66.xx.xx.xx  # ssh-copy-id user@rhel-9-server-IP\n$ ssh shenweiyan@66.xx.xx.xx\n</code></pre> </p> <p>\u540e\u6765\uff0c\u66f4\u6362 ecdsa \u7b97\u6cd5\uff0c\u95ee\u9898\u624d\u89e3\u51b3\uff1a Text Only<pre><code>$ ssh-keygen -t ecdsa\n$ ssh-copy-id -i ~/.ssh/id_ecdsa.pub shenweiyan@66.xx.xx.xx\n</code></pre> </p> <p>\u6839\u672c\u539f\u56e0\u5c31\u5728\u4e8e SHA-1 \u5df2\u7ecf\u5728 RHEL9 \u4e2d\u5f03\u7528\u4e86\uff01</p> <p>\u4ece RHEL9 \u7684\u5b98\u7f51\u6587\u6863\u300a1.0.2. Crypto-policies, RHEL core cryptographic components, and protocols\uff08\u52a0\u5bc6\u7b56\u7565\u3001RHEL \u6838\u5fc3\u52a0\u5bc6\u7ec4\u4ef6\u548c\u534f\u8bae\uff09\u300b\u53ef\u4ee5\u770b\u5230 SHA-1 \u5df2\u7ecf\u5728 RHEL9 \u4e2d\u5f03\u7528\u4e86\uff01</p> <p>In RHEL 9, SHA-1 usage for signatures is restricted in the DEFAULT system-wide cryptographic policy. Except for HMAC, SHA-1 is no longer allowed in TLS, DTLS, SSH, IKEv2, DNSSEC, and Kerberos protocols. Individual applications not controlled by the RHEL system-wide crypto policies are also moving away from using SHA-1 hashes in RHEL 9.</p> <p>\u5728 RHEL 9 \u4e2d\uff0c\u7528\u4e8e\u7b7e\u540d\u7684 SHA-1 \u7528\u6cd5\u5728 DEFAULT \u7cfb\u7edf\u8303\u56f4\u7684\u52a0\u5bc6\u7b56\u7565\u4e2d\u53d7\u5230\u9650\u5236\u3002\u9664 HMAC \u5916\uff0cTLS\u3001DTLS\u3001SSH\u3001IKEv2\u3001DNSSEC \u548c Kerberos \u534f\u8bae\u4e2d\u4e0d\u518d\u5141\u8bb8\u4f7f\u7528 SHA-1\u3002\u4e0d\u53d7 RHEL \u7cfb\u7edf\u8303\u56f4\u7684\u52a0\u5bc6\u7b56\u7565\u63a7\u5236\u7684\u5355\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5728 RHEL 9 \u4e2d\u4e5f\u4e0d\u518d\u4f7f\u7528 SHA-1 hashes\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-11-30-%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%97%B4-SSH-%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95%E5%A4%B1%E8%B4%A5-dis25/#_1","title":"\u8de8\u7528\u6237\u514d\u5bc6\u7801\u767b\u5f55","text":"<p>\u4ece\u670d\u52a1\u5668 A\uff08CentOS 7.3\uff09\u7684 root \u7528\u6237\u5df2\u914d\u7f6e SSH \u65e0\u5bc6\u7801\u767b\u5f55\u670d\u52a1\u5668 B\uff08CentOS Steam 9\uff09\u7684 shenweiyan \u7528\u6237\u3002</p> <ul> <li>\u5728\u670d\u52a1\u5668 A\uff08CentOS 7.3\uff09\u7684 root \u7528\u6237\u4e0b\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728 <code>/root/.ssh</code> \u76ee\u5f55\u4f1a\u5f97\u5230\u4e24\u4e2a\u6587\u4ef6\uff1a</li> <li>\u79c1\u94a5\u6587\u4ef6\uff1aid_ecdsa</li> <li> <p>\u516c\u94a5\u6587\u4ef6\uff1aid_ecdsa.pub Text Only<pre><code>root@centos-vm-7 11:47:20 ~ \n$ ssh-keygen -t ecdsa\nGenerating public/private ecdsa key pair.\nEnter file in which to save the key (/root/.ssh/id_ecdsa): \nEnter passphrase (empty for no passphrase): \nEnter same passphrase again: \nYour identification has been saved in /root/.ssh/id_ecdsa.\nYour public key has been saved in /root/.ssh/id_ecdsa.pub.\nThe key fingerprint is:\nad:15:01:5c:a9:db:69:64:2b:0c:4c:5f:be:f9:e1:44 root@centos-vm-7\nThe key's randomart image is:\n+--[ECDSA  256]---+\n|       ..oo.     |\n|      . . o.     |\n|     o . +.      |\n|      o o.+.E    |\n|       oS=o*     |\n|        +oB o    |\n|        .o + .   |\n|            o    |\n|                 |\n+-----------------+\n</code></pre></p> </li> <li> <p>\u628a\u670d\u52a1\u5668 A \u4e0b root \u7528\u6237\u7684\u516c\u94a5\u6587\u4ef6\u62f7\u8d1d\u5230\u670d\u52a1\u5668 B\uff08CentOS Steam 9\uff09\u7684 shenweiyan \u7528\u6237\u7684 authorized_keys \u4e2d\uff1b Text Only<pre><code>root@centos-vm-7 11:53:25 ~\n$ ssh-copy-id -i ~/.ssh/id_ecdsa.pub shenweiyan@66.xx.xx.xx\n</code></pre></p> </li> <li> <p>\u5c06\u516c\u94a5\u62f7\u8d1d\u81f3\u76ee\u6807\u670d\u52a1\u5668 B \u540e\uff0c\u5728\u6e90\u670d\u52a1\u5668 A \u901a\u8fc7\u5bc6\u94a5\u8de8\u7528\u6237\u514d\u5bc6\u7801\u767b\u5f55\u4e91\u670d\u52a1\u5668\u3002 Text Only<pre><code>root@centos-vm-7 11:58:47 /root \n$ ssh shenweiyan@66.xx.xx.xx  # ssh -i id_ecdsa shenweiyan@66.xx.xx.xx\n</code></pre></p> </li> </ul>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2023-11-30-%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%97%B4-SSH-%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95%E5%A4%B1%E8%B4%A5-dis25/#_2","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>RHEL6 ssh \u5230 RHEL9 \u7684 no hostkey alg \u9519\u8bef\uff0c\u8bed\u96c0</li> <li>How can I use a legacy ssh-rsa key on CentOS 9 Stream?\uff0cServer Fault</li> </ul>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2024-03-08-RockyLinux-9-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8-dis60/","title":"RockyLinux 9 \u57fa\u7840\u914d\u7f6e\u4e0e\u4f7f\u7528","text":"<p>\u4eca\u5929\u7ec8\u4e8e\u5728\u963f\u91cc\u4e91\u5165\u624b\u4e86\u4e00\u53f0 2\u6838(vCPU)+ 2GiB + 3Mbps \u7684 ECS\uff0c\u5b89\u88c5\u4e86\u6700\u65b0\u7684 Rocky Linux release 9.3 (Blue Onyx)\uff0c\u8bb0\u5f55\u4e00\u4e0b\u5f00\u7bb1\u540e\u7684\u4e00\u4e9b\u57fa\u7840\u914d\u7f6e\u3002</p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2024-03-08-RockyLinux-9-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8-dis60/#hostname","title":"Hostname","text":"Text Only<pre><code>[root@r0sasd1bQi ~]# hostnamectl   # \u67e5\u770b\u4e00\u4e0b\u5f53\u524d\u4e3b\u673a\u540d\u7684\u60c5\u51b5\n[root@r0sasd1bQi ~]# hostnamectl set-hostname shen-server --static\n[root@r0sasd1bQi ~]# hostnamectl status\n[root@r0sasd1bQi ~]# reboot now    # \u91cd\u542f\u670d\u52a1\u5668\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2024-03-08-RockyLinux-9-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8-dis60/#_1","title":"\u521b\u5efa\u65b0\u7528\u6237","text":"<p>\u4f7f\u7528 <code>adduser</code> \u547d\u4ee4\u5c06\u65b0\u7528\u6237\u6dfb\u52a0\u5230\u7cfb\u7edf\u4e2d\uff1a Bash<pre><code>adduser shenweiyan    # \u521b\u5efa\u65b0\u7528\u6237\npasswd shenweiyan     # \u4fee\u6539\u5bc6\u7801\n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2024-03-08-RockyLinux-9-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8-dis60/#_2","title":"\u7528\u6237\u6dfb\u52a0\u8d85\u7ea7\u6743\u9650","text":"<p>\u628a <code>shenweiyan</code> \u7528\u6237\u6dfb\u52a0\u8d85\u7ea7\u6743\u9650\uff08<code>/etc/sudoers</code>\uff09\uff1a Text Only<pre><code>shenweiyan      ALL=(ALL)       NOPASSWD: ALL\n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2024-03-08-RockyLinux-9-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8-dis60/#_3","title":"\u81ea\u5b9a\u4e49\u5feb\u6377\u65b9\u5f0f","text":"<p>\u5728 <code>~/.bashrc</code> \u6700\u540e\u65b0\u589e\u4e00\u4e0b\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5feb\u6377\u65b9\u5f0f\u3002</p> Text Only<pre><code># User Specific Alias\nalias disp='display'\nalias rm='rm -i'\nalias la='ls -al'\nalias ll='ls -lh'\nalias le='less -S'\n\n# Custom History setting\n# HISTFILESIZE \u5b9a\u4e49\u4e86\u5728 .bash_history \u4e2d\u4fdd\u5b58\u547d\u4ee4\u7684\u8bb0\u5f55\u603b\u6570\nHISTFILESIZE=3000000\n# HISTSIZE \u5b9a\u4e49\u4e86 history \u547d\u4ee4\u8f93\u51fa\u7684\u8bb0\u5f55\u6570\nHISTSIZE=3000\n# \u5b9a\u4e49 History \u8f93\u51fa\u683c\u5f0f\nexport HISTTIMEFORMAT='%F %T '\n# \u4f7f\u7528 HISTCONTROL \u4ece\u547d\u4ee4\u5386\u53f2\u4e2d\u5254\u9664\u8fde\u7eed\u91cd\u590d\u7684\u6761\u76ee\nHISTCONTROL=ignoredups\n# \u5c06 bash \u5185\u5b58\u4e2d\u5386\u53f2\u547d\u4ee4\u8ffd\u52a0\u5230 .bash_history \u5386\u53f2\u547d\u4ee4\u6587\u4ef6\u4e2d\uff0c \u9ed8\u8ba4\u53ea\u6709\u9000\u51fa shell \u662f\u624d\u4f1a\u4fdd\u5b58\nPROMPT_COMMAND=\"history -a\"\n\n# Login Style\nPS1='\\033[35;1m\\u@\\h \\[\\e[m\\]\\t \\[\\033[36;1m\\]$(pwd) \\n$ \\[\\e[m\\]'\nclear;\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2024-03-08-RockyLinux-9-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8-dis60/#epel-release","title":"epel-release","text":"<p>\u4f01\u4e1a\u7248 Linux \u9644\u52a0\u8f6f\u4ef6\u5305\uff08Extra Packages for Enterprise Linux\uff0c\u4ee5\u4e0b\u7b80\u79f0 EPEL\uff09\u662f\u4e00\u4e2a Fedora \u7279\u522b\u5174\u8da3\u5c0f\u7ec4\uff0c\u7528\u4ee5\u521b\u5efa\u3001\u7ef4\u62a4\u4ee5\u53ca\u7ba1\u7406\u9488\u5bf9\u4f01\u4e1a\u7248 Linux \u7684\u4e00\u4e2a\u9ad8\u8d28\u91cf\u9644\u52a0\u8f6f\u4ef6\u5305\u96c6\uff0c\u9762\u5411\u7684\u5bf9\u8c61\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e \u7ea2\u5e3d\u4f01\u4e1a\u7248 Linux (RHEL)\u3001 CentOS\u3001Scientific Linux (SL)\u3001Oracle Linux (OL) \u3002</p> <p>\u53c2\u8003\uff1aEPEL/zh-cn - Fedora Project Wiki</p> Bash<pre><code># \u4e0b\u9762\u4e24\u4e2a\u547d\u4ee4\u90fd\u53ef\u4ee5\u5b89\u88c5\nsudo dnf install epel-release\nsudo dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2024-03-08-RockyLinux-9-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8-dis60/#htop","title":"Htop","text":"<p>Htop \u662f\u4e00\u4e2a\u57fa\u4e8e C \u7f16\u5199\u7684\u8de8\u5e73\u53f0\u7684\u4ea4\u4e92\u5f0f\u6d41\u7a0b\u67e5\u770b\u5668\uff0c\u76f8\u6bd4\u7cfb\u7edf\u81ea\u5e26\u7684 <code>top</code> \u66f4\u52a0\u76f4\u89c2\u597d\u7528\u3002 </p> Bash<pre><code>sudo dnf install htop\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/2024-03-08-RockyLinux-9-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8-dis60/#docker","title":"Docker \u5b89\u88c5\u4e0e\u4f7f\u7528","text":"<p>\u4e3b\u8981\u53c2\u8003\u300aHow To Install and Use Docker on Rocky Linux 9\u300b\uff0c\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a     </p> <ul> <li> <p>add the official Docker repository   Bash<pre><code>sudo dnf config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n</code></pre></p> </li> <li> <p>install Docker   Bash<pre><code>sudo dnf install docker-ce docker-ce-cli containerd.io\n</code></pre></p> </li> <li> <p>start the Docker daemon   Bash<pre><code>sudo systemctl start docker\n</code></pre></p> </li> <li> <p>Verify that it\u2019s running   Bash<pre><code>sudo systemctl status docker\n</code></pre> Text Only<pre><code>Output\n\u25cf docker.service - Docker Application Container Engine\n   Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset: enabled)\n   Active: active (running) since Sun 2016-05-01 06:53:52 CDT; 1 weeks 3 days ago\n     Docs: https://docs.docker.com\n Main PID: 749 (docker)\n</code></pre></p> </li> <li> <p>make sure it starts at every server reboot   Bash<pre><code>sudo systemctl enable docker\n</code></pre></p> </li> <li> <p>\u914d\u7f6e\u975e root \u7528\u6237\u4f7f\u7528 Docker   Bash<pre><code>sudo usermod -aG docker username\nnewgrp docker                     #\u66f4\u65b0docker\u7528\u6237\u7ec4\n</code></pre></p> </li> </ul>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2023-11-27-Micro-Mamba-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dis24/","title":"Micro/Mamba \u5b89\u88c5\u4e0e\u6ce8\u610f\u4e8b\u9879","text":"<p>\u8bb0\u5f55\u4e00\u4e0b Micromamba/Mamba \u5b89\u88c5\u7684\u6b65\u9aa4\u548c\u6ce8\u610f\u4e8b\u9879\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2023-11-27-Micro-Mamba-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dis24/#mamba","title":"Mamba \u5b89\u88c5","text":"<p>Mamba \u53ef\u4ee5\u4f7f\u7528 Mambaforge \u65b9\u6cd5\u548c\u5df2\u6709 Mini/conda \u7684\u65b9\u5f0f\u5b89\u88c5\uff0c\u5b98\u65b9\u63a8\u8350\u7684\u662f\u524d\u9762\u4e00\u79cd\uff0c\u5373\u4f7f\u7528 Mambaforge \u8fdb\u884c\u5168\u65b0\u5b89\u88c5\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2023-11-27-Micro-Mamba-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dis24/#_1","title":"\u5168\u65b0\u5b89\u88c5","text":"<p>\u5173\u4e8e mamba \u7684\u5b89\u88c5\uff0c\u5b98\u65b9\u63a8\u8350 Fresh install\uff0c\u5373\u5168\u65b0\u5b89\u88c5\u3002</p> <p>We recommend that you start with the Mambaforge distribution. Mambaforge comes with the popular conda-forge channel preconfigured, but you can modify the configuration to use any channel you like. Note that Anaconda channels are generally incompatible with conda-forge, so you should not mix them.       \u6211\u4eec\u5efa\u8bae\u60a8\u4ece Mambaforge \u53d1\u884c\u7248\u5f00\u59cb\u3002 Mambaforge \u9884\u914d\u7f6e\u4e86\u6d41\u884c\u7684 conda-forge \u901a\u9053\uff0c\u4f46\u60a8\u53ef\u4ee5\u4fee\u6539\u914d\u7f6e\u4ee5\u4f7f\u7528\u60a8\u559c\u6b22\u7684\u4efb\u4f55\u901a\u9053\u3002\u8bf7\u6ce8\u610f\uff0cAnaconda \u901a\u9053\u901a\u5e38\u4e0e conda-forge \u4e0d\u517c\u5bb9\uff0c\u56e0\u6b64\u60a8\u4e0d\u5e94\u6df7\u5408\u4f7f\u7528\u5b83\u4eec\u3002</p> <p>\u5176\u5b9e\u5c31\u662f\uff1a         1. \u5148\u53bb Mambaforge distribution \u4e0b\u8f7d Mambaforge-Linux-x86_64.sh\u3002         2. \u6267\u884c <code>sh Mambaforge-Linux-x86_64.sh</code> \u5b89\u88c5\u547d\u4ee4\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2023-11-27-Micro-Mamba-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dis24/#conda","title":"\u5728\u5df2\u6709\u7684 conda \u4e2d\u5b89\u88c5","text":"<p>\u5b98\u65b9\u6587\u6863\u4e2d\u660e\u786e\u8bf4\u4e0d\u63a8\u8350\u8fd9\u79cd\u5b89\u88c5 Mamba \u7684\u65b9\u5f0f\uff0c\u4ed6\u4eec\u5f3a\u70c8\u5efa\u8bae\u4f7f\u7528 Mambaforge \u65b9\u6cd5\uff08\u89c1\u4e0a\u6587\uff09\u3002</p> <p>\u8fd9\u79cd\u65b9\u6cd5\uff0c\u8981\u83b7\u53d6 <code>mamba</code> \uff0c\u5176\u5b9e\u53ea\u9700\u5c06\u5176\u4ece <code>conda-forge</code> \u901a\u9053\u5b89\u88c5\u5230\u57fa\u7840\u73af\u5883\u4e2d\u5373\u53ef\uff1b\u4f46\u662f\u9700\u8981\u6ce8\u610f Installing mamba into any other environment than base is not supported\uff0c\u5373\u4e0d\u652f\u6301\u5c06 mamba \u5b89\u88c5\u5230 base \u4e4b\u5916\u7684\u4efb\u4f55\u5176\u4ed6\u73af\u5883\u4e2d\u3002</p> <p>\u9996\u5148\uff0c\u5b89\u88c5 Miniconda\u3002</p> <p>\u53c2\u8003 https://docs.conda.io/en/latest/miniconda.html\uff0c\u4e0b\u8f7d\u5b8c Miniconda3-latest-Linux-x86_64.sh\uff0csh \u6267\u884c\u4e00\u4e0b\u5c31\u53ef\u4ee5\u5b89\u88c5\u4e86\u3002 Text Only<pre><code>sh Miniconda3-latest-Linux-x86_64.sh\n</code></pre> \u7136\u540e\uff0c\u5b89\u88c5 mamba\u3002 Text Only<pre><code>~/miniconda3/bin/conda install -c conda-forge mamba\n</code></pre></p> <p>For both <code>mamba</code> and <code>conda</code>, the <code>base</code> environment is meant to hold their dependencies. It is strongly discouraged to install anything else in the base envionment. Doing so may break <code>mamba</code> and <code>conda</code> installation.     \u5bf9\u4e8e <code>mamba</code> \u548c <code>conda</code> \uff0c <code>base</code> \u73af\u5883\u65e8\u5728\u4fdd\u5b58\u5b83\u4eec\u7684\u4f9d\u8d56\u5173\u7cfb\u3002\u5f3a\u70c8\u5efa\u8bae\u4e0d\u8981\u5728\u57fa\u7840\u73af\u5883\u4e2d\u5b89\u88c5\u4efb\u4f55\u5176\u4ed6\u4e1c\u897f\u3002\u8fd9\u6837\u505a\u53ef\u80fd\u4f1a\u7834\u574f <code>mamba</code> \u548c <code>conda</code> \u5b89\u88c5\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2023-11-27-Micro-Mamba-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dis24/#micromamba","title":"Micromamba \u5b89\u88c5","text":"<p>\u53c2\u8003 https://mamba.readthedocs.io/en/latest/micromamba-installation.html\u3002</p> <p><code>micromamba</code> is a fully statically-linked, self-contained, executable. This means that the <code>base</code> environment is completely empty. The configuration for <code>micromamba</code> is slighly different, namely all environments and cache will be created by default under the <code>MAMBA_ROOT_PREFIX</code> environment variable. There is also no pre-configured <code>.condarc</code>/<code>.mambarc</code> shipped with micromamba (they are however still read if present).                        <code>micromamba</code> \u662f\u4e00\u4e2a\u5b8c\u5168\u9759\u6001\u94fe\u63a5\u7684\u3001\u72ec\u7acb\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u8fd9\u610f\u5473\u7740 <code>base</code> \u73af\u5883\u5b8c\u5168\u662f\u7a7a\u7684\u3002<code>micromamba</code> \u7684\u914d\u7f6e\u7565\u6709\u4e0d\u540c\uff0c\u5373\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5c06\u5728 <code>MAMBA_ROOT_PREFIX</code> \u73af\u5883\u53d8\u91cf\u4e0b\u521b\u5efa\u6240\u6709\u73af\u5883\u548c\u7f13\u5b58\u3002<code>micromamba</code> \u4e5f\u6ca1\u6709\u9884\u914d\u7f6e\u7684 <code>.condarc</code> / <code>.mambarc</code>\uff08\u4f46\u662f\uff0c\u5982\u679c\u5b58\u5728\uff0c\u5b83\u4eec\u4ecd\u7136\u4f1a\u88ab\u8bfb\u53d6\uff09\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2023-11-27-Micro-Mamba-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dis24/#_2","title":"\u811a\u672c\u5b89\u88c5","text":"<p>\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f macOS\u3001Linux \u6216 Windows \u4e0a\u7684 Git Bash\uff0c\u5219\u6709\u4e00\u79cd\u7b80\u5355\u7684\u5b89\u88c5\u65b9\u6cd5 <code>micromamba</code>\u3002\u53ea\u9700\u5728\u60a8\u559c\u6b22\u7684 shell \u4e2d\u6267\u884c\u5b89\u88c5\u811a\u672c\u5373\u53ef\u3002</p> <p>\u5bf9\u4e8e Linux\u3001macOS \u6216 Windows \u4e0a\u7684 Git Bash\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a Text Only<pre><code>\"${SHELL}\" &lt;(curl -L micro.mamba.pm/install.sh)\n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2023-11-27-Micro-Mamba-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dis24/#_3","title":"\u81ea\u52a8\u66f4\u65b0","text":"<p>\u5b89\u88c5\u540e\uff0c<code>micromamba</code> \u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u5f0f\u66f4\u65b0\uff1a Text Only<pre><code>micromamba self-update\n</code></pre> \u53ef\u4ee5\u6307\u5b9a\u663e\u5f0f\u7248\u672c\uff1a Text Only<pre><code>micromamba self-update --version 1.4.6\n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2023-11-27-Micro-Mamba-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dis24/#_4","title":"\u624b\u52a8\u66f4\u65b0","text":""},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2023-11-27-Micro-Mamba-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-dis24/#linux-macos","title":"Linux \u548c macOS","text":"<p>\u4e0b\u8f7d\u5e76\u89e3\u538b\u53ef\u6267\u884c\u6587\u4ef6\uff08\u6765\u81ea\u5b98\u65b9 <code>conda-forge</code> \u5305\uff09\u5373\u53ef\u3002</p> <p>\u5176\u5b9e\uff0c\u8fd9\u5c31\u7b49\u540c\u4e8e\u6211\u4eec\u76f4\u63a5\u53bb https://github.com/mamba-org/micromamba-releases/releases \u4e0b\u8f7d\u5bf9\u5e94\u5e73\u53f0\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u6216\u8005 <code>tar.bz2</code> \u6587\u4ef6\uff0c\u7136\u540e\u89e3\u538b\u7f29\uff0c\u628a <code>bin/micromamba</code> \u90e8\u5206\u63d0\u51fa\u6765\u4f7f\u7528\u3002</p> <p>\u786e\u4fdd\u5b89\u88c5\u4e86\u57fa\u672c\u5b9e\u7528\u7a0b\u5e8f\u3002\u6211\u4eec\u9700\u8981 <code>curl</code> \u548c <code>tar</code> \u5e76\u652f\u6301 <code>bzip2</code> \u3002\u6b64\u5916\uff0c\u60a8\u8fd8\u9700\u8981\u4e00\u4e2a\u57fa\u4e8e glibc \u7684\u7cfb\u7edf\uff0c\u4f8b\u5982 Ubuntu\u3001Fedora \u6216 Centos\uff08Alpine Linux \u672c\u8eab\u65e0\u6cd5\u8fd0\u884c\uff09\u3002</p> <p>\u4ee5\u4e0b magic URL \u59cb\u7ec8\u8fd4\u56de micromamba \u7684\u6700\u65b0\u53ef\u7528\u7248\u672c\uff0c\u5e76\u4e14\u4f7f\u7528 <code>tar</code> \u81ea\u52a8\u63d0\u53d6 <code>bin/micromamba</code> \u90e8\u5206\u3002 Text Only<pre><code># Linux Intel (x86_64):\ncurl -Ls https://micro.mamba.pm/api/micromamba/linux-64/latest | tar -xvj bin/micromamba\n# Linux ARM64:\ncurl -Ls https://micro.mamba.pm/api/micromamba/linux-aarch64/latest | tar -xvj bin/micromamba\n# Linux Power:\ncurl -Ls https://micro.mamba.pm/api/micromamba/linux-ppc64le/latest | tar -xvj bin/micromamba\n# macOS Intel (x86_64):\ncurl -Ls https://micro.mamba.pm/api/micromamba/osx-64/latest | tar -xvj bin/micromamba\n# macOS Silicon/M1 (ARM64):\ncurl -Ls https://micro.mamba.pm/api/micromamba/osx-arm64/latest | tar -xvj bin/micromamba\n</code></pre> \u63d0\u53d6\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528 <code>micromamba</code> \u4e8c\u8fdb\u5236\u6587\u4ef6\u4e86\u3002</p> <p>\u5982\u679c\u60a8\u60f3\u5728\u4e34\u65f6\u7528\u4f8b\u4e2d\u5feb\u901f\u4f7f\u7528 micromamba\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c\uff1a Text Only<pre><code>export MAMBA_ROOT_PREFIX=/some/prefix  # optional, defaults to ~/micromamba\neval \"$(./bin/micromamba shell hook -s posix)\"\n</code></pre> \u8fd9\u4e2a shell hook \u4f1a\u4fee\u6539\u60a8\u7684 shell \u53d8\u91cf\u4ee5\u5305\u542b micromamba \u547d\u4ee4\u3002</p> <p>\u5982\u679c\u60a8\u60f3\u4fdd\u7559\u8fd9\u4e9b\u66f4\u6539\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c <code>./micromamba shell init ...</code> \u81ea\u52a8\u5c06\u5b83\u4eec\u5199\u5165 <code>.bashrc</code> \uff08\u6216 <code>.zshrc</code> \uff09\u3002\u8fd9\u8fd8\u5141\u8bb8\u60a8\u9009\u62e9\u81ea\u5b9a\u4e49 MAMBA_ROOT_ENVIRONMENT\uff0c\u8fd9\u662f\u5305\u548c repodata \u7f13\u5b58\u6240\u5728\u7684\u4f4d\u7f6e\u3002 Text Only<pre><code># Linux/bash:\n./bin/micromamba shell init -s bash -p ~/micromamba  # this writes to your .bashrc file\n# sourcing the bashrc file incorporates the changes into the running session.\n# better yet, restart your terminal!\nsource ~/.bashrc\n\n# macOS/zsh:\n./micromamba shell init -s zsh -p ~/micromamba\nsource ~/.zshrc\n</code></pre></p> <p>\u73b0\u5728\u60a8\u53ef\u4ee5\u6fc0\u6d3b\u57fa\u672c\u73af\u5883\u5e76\u5b89\u88c5\u65b0\u8f6f\u4ef6\u5305\uff0c\u6216\u521b\u5efa\u5176\u4ed6\u73af\u5883\u3002 Text Only<pre><code>micromamba activate  # this activates the base environment\nmicromamba install python=3.6 jupyter -c conda-forge\n# or\nmicromamba create -n env_name xtensor -c conda-forge\nmicromamba activate env_name\n</code></pre></p> <p>\u4e13\u6709\u7684 conda-forge \u8bbe\u7f6e\u53ef\u4ee5\u914d\u7f6e\u4e3a\uff1a Text Only<pre><code>micromamba config append channels conda-forge\nmicromamba config append channels nodefaults\nmicromamba config set channel_priority strict\n</code></pre></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2024-04-28-mamba-%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%88%86%E6%94%AF-miniforge-%E5%92%8C-mambaforge-dis71/","title":"mamba \u7684\u4e24\u4e2a\u5206\u652f miniforge \u548c mambaforge","text":"<p>\u5728\u5b89\u88c5 mamba \u7684\u65f6\u5019\u5728 release \u9875\u9762\u548c\u5b98\u65b9\u7684\u5b89\u88c5\u9875\u9762 \u603b\u662f\u770b\u5230\u5173\u4e8e miniforge \u548c mambaforge \u7684\u9009\u62e9\u95ee\u9898\uff0c\u50bb\u50bb\u641e\u4e0d\u660e\u767d\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2024-04-28-mamba-%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%88%86%E6%94%AF-miniforge-%E5%92%8C-mambaforge-dis71/#miniforge-mambaforge","title":"Miniforge \u548c Mambaforge","text":"<p>\u53c2\u8003\uff1ahttps://github.com/conda-forge/miniforge?tab=readme-ov-file#faq</p> <p>What's the difference between Mambaforge and Miniforge?  After the release of Miniforge 23.3.1 in August 2023, Miniforge and Mambaforge are essentially identical. The only difference is the name of the installer and subsequently the default installation path.</p> <p>2023 \u5e74 8 \u6708\u53d1\u5e03 Miniforge 23.3.1 \u540e\uff0cMiniforge \u548c Mambaforge \u57fa\u672c\u76f8\u540c\u3002\u552f\u4e00\u7684\u533a\u522b\u662f\u5b89\u88c5\u7a0b\u5e8f\u7684\u540d\u79f0\u4ee5\u53ca\u968f\u540e\u7684\u9ed8\u8ba4\u5b89\u88c5\u8def\u5f84(\u4e00\u4e2a\u9ed8\u8ba4\u662f miniforge3\uff0c\u4e00\u4e2a\u9ed8\u8ba4\u662f mambaforge3)\u3002</p> <p>Before that release, Miniforge only shipped conda, while Mambaforge added mamba on top. Since Miniconda started shipping conda-libmamba-solver in July 2023, Miniforge followed suit and started shipping it too in August. At that point, since conda-libmamba-solver depends on libmambapy, the only difference between Miniforge and Mambaforge was the presence of the mamba Python package. To minimize surprises, we decided to add mamba to Miniforge too.    </p> <p>\u5728\u4e4b\u524d\u7684\u7248\u672c\u4e2d\uff0cMiniforge \u4ec5\u63d0\u4f9b conda\uff0c\u800c Mambaforge \u5728\u6b64\u57fa\u7840\u4e0a\u589e\u52a0\u4e86 mamba\u3002\u81ea 2023 \u5e74 7 \u6708 Miniconda \u5f00\u59cb\u63d0\u4f9b conda-libmamba-solver \u4ee5\u6765\uff0cMiniforge \u4e5f\u7d27\u968f\u5176\u540e\uff0c\u4e8e 8 \u6708\u5f00\u59cb\u63d0\u4f9b\u6b64\u529f\u80fd\u3002\u90a3\u65f6\uff0c\u7531\u4e8e conda-libmamba-solver \u4f9d\u8d56\u4e8elibmambapy\uff0cMiniforge \u548c Mambaforge \u4e4b\u95f4\u7684\u552f\u4e00\u533a\u522b\u5c31\u662f\u662f\u5426\u5305\u542b mamba Pytho n\u5305\u3002\u4e3a\u4e86\u5c3d\u91cf\u51cf\u5c11\u610f\u5916\u60c5\u51b5\uff0c\u6211\u4eec\u51b3\u5b9a\u4e5f\u5728 Miniforge \u4e2d\u6dfb\u52a0 mamba\u3002</p> <p>Should I choose one or another going forward at the risk of one of them gettting deprecated?  Given its wide usage, there are no plans to deprecate Mambaforge. If at some point we decide to deprecate Mambaforge, it will be appropriately announced and communicated with sufficient time in advance.</p> <p>\u9274\u4e8e Mambaforge \u7684\u5e7f\u6cdb\u4f7f\u7528\uff0c\u76ee\u524d\u6ca1\u6709\u8ba1\u5212\u5c06\u5176\u5f03\u7528\u3002\u5982\u679c\u672a\u6765\u6211\u4eec\u51b3\u5b9a\u5f03\u7528 Mambaforge\uff0c\u6211\u4eec\u4f1a\u63d0\u524d\u5145\u5206\u516c\u544a\u5e76\u901a\u77e5\u76f8\u5173\u7528\u6237\u3002</p> <p>That said, if you had to start using one today, we recommend to stick to Miniforge.</p> <p>\u4e0d\u8fc7\uff0c\u5982\u679c\u4f60\u4eca\u5929\u9700\u8981\u5f00\u59cb\u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a\uff0c\u6211\u4eec\u5efa\u8bae\u4f60\u575a\u6301\u4f7f\u7528 Miniforge\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2024-04-28-mamba-%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%88%86%E6%94%AF-miniforge-%E5%92%8C-mambaforge-dis71/#miniforge-miniconda","title":"Miniforge \u548c Miniconda","text":"<p>\u53c2\u8003\uff1aWhat\u2019s the difference between Anaconda, conda, Miniconda, mamba, Mambaforge, micromamba? - bioconda#Faqs</p> <p>Miniforge \u662f\u793e\u533a (conda-forge) \u9a71\u52a8\u7684\u7b80\u7ea6 conda \u5b89\u88c5\u7a0b\u5e8f\u3002Miniforge \u4e0e Miniconda \u7c7b\u4f3c\uff0c\u4f46\u9884\u914d\u7f6e\u4e86 <code>conda-forge</code> \u901a\u9053\uff0c\u5e76\u4e14\u6240\u6709\u5305\u90fd\u6765\u81ea conda-forge \u800c\u4e0d\u662f <code>defaults</code> \u901a\u9053\u3002\u73b0\u5728\u5b83\u8fd8\u5305\u542b\u4e86 mamba \u548c libmamba\u3002</p> <p>Miniconda \u662f\u516c\u53f8 (Anaconda) \u9a71\u52a8\u7684\u7b80\u7ea6 conda \u5b89\u88c5\u7a0b\u5e8f\u3002\u968f\u540e\u7684\u8f6f\u4ef6\u5305\u5b89\u88c5\u6765\u81ea anaconda \u9891\u9053\uff08\u9ed8\u8ba4\u6216\u5176\u4ed6\uff09\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2024-04-28-mamba-%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%88%86%E6%94%AF-miniforge-%E5%92%8C-mambaforge-dis71/#_1","title":"\u4e00\u53e5\u8bdd","text":"<p>\u603b\u7684\u4e00\u53e5\u8bdd\u6765\u8bf4\uff0cMambaforge \u7c7b\u4f3c\u4e8e Miniforge\uff0c\u4f46\u5c06 mamba \u5b89\u88c5\u5230\u57fa\u7840\u73af\u5883\u4e2d\u3002\u867d\u7136\u6ca1\u6709\u4e25\u683c\u5f03\u7528\uff0c\u4f46\u4ece 2023 \u5e74 9 \u6708\u8d77\u4e0d\u9f13\u52b1\u4f7f\u7528\u5b83\uff08\u8bf7\u53c2\u9605 miniforge \u81ea\u8ff0 README \u6587\u4ef6\uff09\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/","title":"WebStack-Hugo | \u4e00\u4e2a\u9759\u6001\u54cd\u5e94\u5f0f\u5bfc\u822a\u4e3b\u9898","text":"<p>Via\uff1a\u6211\u7ed9\u81ea\u5df1\u505a\u4e86\u4e00\u4e2a\u5bfc\u822a\u7f51\u7ad9 | BioIT\u7231\u597d\u8005 </p> <p>\u8ba9\u66f4\u591a\u4eba\u7684\u4eba\u5236\u4f5c\u81ea\u5df1\u7684\u5bfc\u822a\u7f51\u7ad9\u3002\u5982\u679c\u4f60\u89c9\u5f97\u672c\u4e3b\u9898\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9\uff0c\u6b22\u8fce\u8bf7\u4f5c\u8005 \u559d\u676f\u5496\u5561 &gt;.&lt;</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_1","title":"\u4e3b\u9898\u5f00\u6e90\u5730\u5740","text":"<ul> <li>GitHub\uff1ahttps://github.com/shenweiyan/WebStack-Hugo </li> <li>Gitee\uff1ahttps://gitee.com/shenweiyan/WebStack-Hugo</li> </ul>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_2","title":"\u4e3b\u9898\u5c55\u793a\u5730\u5740","text":"<ul> <li>https://www.bioit.top/ - WebStack-Hugo \u7f51\u5740\u5bfc\u822a</li> <li>https://hao.bioitee.com/ - \u751f\u4fe1\u7f51\u5740\u5bfc\u822a</li> </ul>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_3","title":"\u4e3a\u4ec0\u4e48\u505a\u8fd9\u4e2a\u7f51\u7ad9","text":"<p>\u4e4b\u6240\u4ee5\u60f3\u7740\u8981\u7ed9\u81ea\u5df1\u5012\u817e\u4e00\u4e2a\u5bfc\u822a\u7f51\u7ad9\uff0c\u4e3b\u8981\u6709\u51e0\u4e2a\u539f\u56e0\uff1a</p> <ul> <li>\u8d2d\u4e70\u4e86\u4e00\u4e2a\u57df\u540d\uff0c\u4e14\u4e5f\u5907\u6848\u6210\u529f\u4e86\uff0c\u603b\u60f3\u6298\u817e\u70b9\u8ddf\u5b83\u6709\u5173\u7684\u4e8b\u60c5\uff1b</li> <li>\u7ecf\u5e38\u5728\u516c\u53f8\u3001\u5bb6\u91cc\uff08\u6709\u65f6\u5019\u8fd8\u6709\u5176\u4ed6\u7684\u4e34\u65f6\u573a\u6240\uff09\u66f4\u6362\u7535\u8111\uff0c\u6bcf\u6b21\u540c\u6b65\u4e66\u7b7e\uff08\u6216\u8005\u767b\u9646\u4e00\u4e9b\u5bfc\u822a\u7f51\u7ad9\uff09\u9700\u8981\u5404\u79cd\u767b\u9646\uff0c\u9ebb\u70e6\u3002</li> </ul> <p>\u8bf4\u5e72\u5c31\u5e72\uff0c\u4ece WebStack \u7684\u5f00\u6e90\u9879\u76ee\u5f00\u59cb\uff0c\u65ad\u65ad\u7eed\u7eed\u7684\u6298\u817e\u4e86\u597d\u51e0\u5929\uff0c\u7ec8\u4e8e\u628a\u8f6e\u5b50\u9020\u8d77\u6765\u4e86\u3002</p> <p> </p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_4","title":"\u8ddf\u5176\u4ed6\u5bfc\u822a\u7f51\u7ad9\u6709\u4ec0\u4e48\u533a\u522b","text":"<p>\u8fd9\u662f Hugo \u7248 WebStack \u4e3b\u9898\u3002\u53ef\u4ee5\u501f\u52a9 Github/Gitee Pages \u6216\u8005\u4e91\u5e73\u53f0\u76f4\u63a5\u6258\u7ba1\u90e8\u7f72\uff0c\u65e0\u9700\u670d\u52a1\u5668\u3002</p> <p>\u672c\u9879\u76ee\u662f\u57fa\u4e8e\u7eaf\u9759\u6001\u7684\u7f51\u5740\u5bfc\u822a\u7f51\u7ad9 webstack.cc \u5236\u4f5c\u7684 Hugo \u4e3b\u9898\uff0c\u5176\u4e2d\u90e8\u5206\u4ee3\u7801\u53c2\u8003\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u5f00\u6e90\u9879\u76ee\uff1a</p> <ul> <li>https://github.com/WebStackPage/WebStackPage.github.io</li> <li>https://github.com/liutongxu/liutongxu.github.io</li> <li>https://github.com/iplaycode/webstack-hugo</li> </ul> <p>\u603b\u4f53\u8bf4\u4e00\u4e0b\u7279\u70b9\uff1a</p> <ul> <li>\u91c7\u7528\u4e86\u4e00\u76f4\u4ee5\u6765\u6700\u559c\u6b22\u7684 hugo \u90e8\u7f72\u65b9\u5f0f\uff0c\u65b9\u4fbf\u9ad8\u6548\u3002</li> <li>\u4e3b\u8981\u7684\u914d\u7f6e\u4fe1\u606f\u90fd\u96c6\u6210\u5230\u4e86 config.toml\uff0c\u4e00\u952e\u5b8c\u6210\u5404\u79cd\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\u3002</li> <li>\u5bfc\u822a\u7684\u5404\u4e2a\u4fe1\u606f\u90fd\u96c6\u6210\u5728 data/webstack.yml \u6587\u4ef6\u4e2d\uff0c\u65b9\u4fbf\u540e\u7eed\u589e\u5220\u6539\u52a8\u3002</li> </ul> YAML<pre><code>- taxonomy: \u79d1\u7814\u529e\u516c\n  icon: fas fa-flask fa-lg\n  list:\n    - term: \u751f\u7269\u4fe1\u606f\n      links:\n        - title: NCBI\n          logo: n/ncbi.jpg\n          url: https://www.ncbi.nlm.nih.gov/\n          description: National Center for Biotechnology Information.\n        - title: Bioconda\n          logo: b/bioconda.jpg\n          url: https://anaconda.org/bioconda/\n          description: \"Bioconda :: Anaconda.org.\"\n    - term: \u4e91\u670d\u52a1\u5668\n      links:\n        - title: \u963f\u91cc\u4e91\n          logo: a/aliyun.jpg\n          url: https://www.aliyun.com/\n          description: \u4e0a\u4e91\u5c31\u4e0a\u963f\u91cc\u4e91\u3002\n        - title: \u817e\u8baf\u4e91\n          logo: c/cloud-tencent.jpg\n          url: https://cloud.tencent.com/\n          description: \u4ea7\u4e1a\u667a\u53d8\uff0c\u4e91\u542f\u672a\u6765\u3002\n</code></pre> <ul> <li>\u505a\u4e86\u624b\u673a\u7535\u8111\u81ea\u9002\u5e94\u4ee5\u53ca\u591c\u95f4\u6a21\u5f0f\u3002</li> <li>\u589e\u52a0\u4e86\u641c\u7d22\u529f\u80fd\uff0c\u4ee5\u53ca\u4e0b\u62c9\u7684\u70ed\u8bcd\u9009\u9879\uff08\u57fa\u4e8e\u767e\u5ea6 API\uff09\u3002</li> <li>\u589e\u52a0\u4e86\u4e00\u8a00\u3001\u548c\u98ce\u5929\u6c14\u7684 API\uff08\u548c\u98ce\u5929\u6c14 API \u5df2\u7ecf\u5b98\u65b9\u5df2\u7ecf\u4e0d\u518d\u652f\u6301\uff0c\u76ee\u524d\u8fd8\u6ca1\u5230\u5230\u66ff\u4ee3\uff09\u3002</li> </ul>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#windows","title":"Windows \u4e0b\u5b89\u88c5\u90e8\u7f72","text":"<p>\u672c\u5b89\u88c5\u90e8\u7f72\u5728 Windows 7 x64 \u4e0a\u6d4b\u8bd5\u6ca1\u95ee\u9898\uff0c\u76f8\u5173\u64cd\u4f5c\u540c\u6837\u9002\u7528\u4e8e Windows 10\uff0c\u5982\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u6b22\u8fce\u7559\u8a00\u6216\u8005\u5fae\u4fe1\u4e0e\u6211\u8054\u7cfb\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#hugo","title":"\u7b2c\u4e00\uff0c\u4e0b\u8f7d hugo","text":"<p>\u4e0b\u8f7d\u94fe\u63a5\uff1ahttps://github.com/gohugoio/hugo/releases\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u4e0b\u8f7d hugo_0.89.4_Windows-64bit.zip\u3002</p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_5","title":"\u7b2c\u4e8c\uff0c\u89e3\u538b","text":"<p>\u6211\u4eec\u628a hugo_0.89.4_Windows-64bit.zip \u4e0b\u8f7d\u5230 F:\\WebStack \u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u89e3\u538b\u5230\u5f53\u524d\u6587\u4ef6\u5939\u3002</p> <p>\u89e3\u538b\u5b8c\u6210\u540e\uff0c\u5728\u8be5\u76ee\u5f55\u4f1a\u591a\u51fa <code>hugo.exe</code>\u3001<code>LICENSE</code>\u3001<code>README.md</code> \u4e09\u4e2a\u6587\u4ef6\uff1a</p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_6","title":"\u7b2c\u4e09\uff0c\u68c0\u6d4b\u662f\u5426\u5b89\u88c5\u6210\u529f","text":"<p>\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u6cd5\uff0c\u68c0\u6d4b <code>hugo</code> \u662f\u5426\u5b89\u88c5\u6210\u529f\u3002</p> <p>\ud83c\udff7\ufe0f \u6e29\u99a8\u63d0\u793a\uff1a</p> <p>Windows \u547d\u4ee4\u8fd0\u884c\u7a97\u53e3\u4e2d\u53ef\u4ee5\u4f7f\u7528 Tab \u8fdb\u884c\u547d\u4ee4\u884c\u8865\u5168\uff0c\u4f8b\u5982\u4f60\u5f53\u524d\u76ee\u5f55\u4e0b\u6709\u4e00\u4e2a WebStack-Hugo \u76ee\u5f55\uff0c\u4f60\u5728\u547d\u4ee4\u884c\u7a97\u53e3\u4e2d\u8f93\u5165\u4e00\u4e2a w \u540e\u6309\u4e0b Tab \u952e\uff0c\u547d\u4ee4\u884c\u5c31\u4f1a\u81ea\u52a8\u51fa\u73b0 WebStack-Hugo\uff01</p> <p>\u4f7f\u7528\u547d\u4ee4\u884c\u8865\u5168\uff0c\u53ef\u4ee5\u51cf\u5c11\u4ee3\u7801\uff08\u6216\u8005\u6587\u4ef6\u540d\uff09\u7684\u8f93\u5165\uff0c\u65b9\u4fbf\u5feb\u6377\uff0c\u53c8\u80fd\u51cf\u5c11\u9519\u8bef\uff01</p> <ol> <li>\u5728 Windows \u4e2d\u4f7f\u7528 Win+R \u6253\u5f00\u201c\u8fd0\u884c\u201d\u5bf9\u8bdd\u6846\uff0c\u5728\u5bf9\u8bdd\u6846\u4e2d\u8f93\u5165\u201ccmd\u201d\uff0c\u70b9\u51fb\u786e\u8ba4\u3002</li> </ol> <p></p> <ol> <li> <p>\u5728 Windows \u8fd0\u884c\u7a97\u53e3\uff0c\u5148\u5207\u6362\u76d8\u7b26\u5230 F \u76d8\uff0c\u7136\u540e\u8fdb\u5165 <code>hugo</code> \u7684\u89e3\u538b\u7f29\u76ee\u5f55\uff08F:\\WebStack\uff09\uff0c\u5177\u4f53\u64cd\u4f5c\u5982\u4e0b\u3002</p> </li> <li> <p>\u5728\u5149\u6807\u5904\u8f93\u5165 F:\uff0c\u7136\u540e\u6309\u56de\u8f66\uff1b</p> <p></p> </li> <li> <p>\u6211\u4eec\u5c31\u5c06\u76d8\u7b26\u5207\u6362\u4e3a F \u76d8\uff1b</p> <p></p> </li> <li> <p>\u63a5\u7740\u8f93\u5165 cd WebStack\uff0c\u56de\u8f66\uff0c\u5c31\u8fdb\u5165\u4e86 F:\\WebStack \u76ee\u5f55\uff1b\u4f7f\u7528 ls \u53ef\u4ee5\u770b\u5230\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u3002</p> <p></p> </li> <li> <p>\u6700\u540e\uff0c\u8f93\u5165 hugo.exe version\uff0c\u56de\u8f66\uff0c\u5982\u56fe\u6240\u793a\uff0c\u5219\u4ee3\u8868\u5b89\u88c5\u6210\u529f\u3002</p> <p></p> </li> </ol>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#webstack-hugo","title":"\u7b2c\u56db\uff0c\u4e0b\u8f7d WebStack-Hugo","text":"<p>\u6d4f\u89c8\u5668\u6253\u5f00 https://github.com/shenweiyan/WebStack-Hugo\uff0c\u70b9\u51fb Code \u4e0b\u7684 \"Download ZIP\"\uff0c\u628a WebStack-hugo-main.zip \u4e0b\u8f7d\u5230\u521a\u624d hugo \u89e3\u538b\u7f29\u7684\u76ee\u5f55\uff08F:\\WebStack\uff09\u3002</p> <p></p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_7","title":"\u7b2c\u4e94\uff0c\u89e3\u538b\u548c\u91cd\u547d\u540d","text":"<p>\u628a WebStack-Hugo-main.zip \u89e3\u538b\u5230\u5f53\u524d\u76ee\u5f55\u3002</p> <p> </p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_8","title":"\u7b2c\u516d\uff0c\u5b89\u88c5\u4e3b\u9898","text":"<p>\u9996\u5148\uff0c\u8fdb\u5165 F:\\WebStack \u76ee\u5f55\uff1b</p> <p>\u7136\u540e\uff0c\u521b\u5efa\u4e00\u4e2a themes \u7684\u6587\u4ef6\u5939\uff1b</p> <p></p> <p>\u63a5\u7740\uff0c\u628a\u89e3\u538b\u540e\u7684 WebStack-Hugo \u6574\u4e2a\u6587\u4ef6\u5939\u79fb\u52a8\u5230 themes \u4e2d\u3002</p> <p></p> <p>\u7b2c\u56db\uff0c\u5c06 <code>themes/WebStack-Hugo/exampleSite</code> \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u590d\u5236\u5230 hugo \u7ad9\u70b9\u6839\u76ee\u5f55\uff08\u5373 <code>F:\\WebStack</code>\uff09\u3002</p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_9","title":"\u7b2c\u4e03\uff0c\u542f\u52a8\u9884\u89c8","text":"<p>\u5728\u521a\u624d\u5df2\u7ecf\u6253\u5f00\u7684 Windows \u547d\u4ee4\u8fd0\u884c\u7a97\u53e3\u4e2d\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6267\u884c hugo server\uff0c\u542f\u52a8\u7ad9\u70b9\u2014\u2014Hugo \u53ef\u4ee5\u542f\u52a8\u4e00\u4e2a Web \u670d\u52a1\u5668\uff0c\u540c\u65f6\u6784\u5efa\u7ad9\u70b9\u5185\u5bb9\u5230\u5185\u5b58\u4e2d\u5e76\u5728\u68c0\u6d4b\u5230\u6587\u4ef6\u66f4\u6539\u540e\u91cd\u65b0\u6e32\u67d3\uff0c\u65b9\u4fbf\u6211\u4eec\u5728\u5f00\u53d1\u73af\u5883\u5b9e\u65f6\u9884\u89c8\u5bf9\u7ad9\u70b9\u6240\u505a\u7684\u66f4\u6539\u3002</p> Bash<pre><code>hugo.exe server\n</code></pre> <p></p> <p>\u6700\u540e\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00 http://127.0.0.1:1313/\uff0c\u5373\u53ef\u770b\u5230\u751f\u6210\u7684\u7ad9\u70b9\u3002</p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#linux","title":"Linux \u4e0b\u5b89\u88c5\u90e8\u7f72","text":"<p>\u5b89\u88c5\u5b8c\u672c WebStack-Hugo \u4e3b\u9898\u540e\uff0c\u5c06 exampleSite \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u590d\u5236\u5230 hugo \u7ad9\u70b9\u6839\u76ee\u5f55\uff0c\u6839\u636e\u9700\u8981\u628a config.toml \u7684\u4e00\u4e9b\u4fe1\u606f\u6539\u6210\u81ea\u5df1\u7684\uff0c\u5bfc\u822a\u7684\u7f51\u5740\u4fe1\u606f\u53ef\u901a\u8fc7 data \u76ee\u5f55\u4e0b webstack.yml \u4fee\u6539\u3002</p> <p>\u5177\u4f53\u6267\u884c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> Bash<pre><code>mkdir /home/shenweiyan/mysite\ncd /home/shenweiyan/mysite\n\n# \u5b89\u88c5 WebStack-Hugo \u4e3b\u9898\ngit clone https://github.com/shenweiyan/WebStack-Hugo.git themes/WebStack-Hugo\n\n# \u5c06 exampleSite \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u590d\u5236\u5230 hugo \u7ad9\u70b9\u6839\u76ee\u5f55\ncd /home/shenweiyan/mysite\ncp -r themes/WebStack-Hugo/exampleSite/* ./\n\n# \u542f\u52a8 hugo \u7ad9\u70b9\nhugo server\n# \u5982\u679c\u4f60\u77e5\u9053\u4f60\u7684\u516c\u7f51 ip, \u5982\u4e0b\u9762\u7684 132.76.230.31, \u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u5f0f\u6267\u884c hugo server\nhugo server --baseUrl=132.76.230.31 --bind=0.0.0.0\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u53c2\u8003 @jetsung \u5728 pull 15 \u6240\u7528\u7684\u65b9\u6cd5\u5b89\u88c5\u90e8\u7f72\uff1a</p> Bash<pre><code># \u521b\u5efa\u9879\u76ee\nmkdir navsites\ncd $_\n\n# \u521d\u59cb\u5316\u9879\u76ee\ngit init\n\n# \u5c06 WebStack-Hugo \u6e90\u4e0b\u8f7d\u5230 themes/WebStack-Hugo \u6587\u4ef6\u5939\ngit submodule add https://github.com/shenweiyan/WebStack-Hugo.git themes/WebStack-Hugo\ncp -r themes/WebStack-Hugo/exampleSite/* ./\n\n# \u5b89\u88c5 hugo\ngo install github.com/gohugoio/hugo@latest\n\n# \u672c\u5730\u6d4b\u8bd5\nhugo server\n\n# \u751f\u6210 docs \u6587\u4ef6\u5939\uff0c\u5c06\u5e76\u9759\u6001\u5185\u5bb9\u751f\u6210\u81f3\u6b64\u5904\nhugo -D\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#html","title":"\u5bfc\u51fa HTML \u9759\u6001\u8d44\u6e90","text":"<p>Windows/Linux \u4e0b\u6267\u884c\u7684 hugo server \u547d\u4ee4\u5c06\u4f1a\u901a\u8fc7\u70ed\u52a0\u8f7d\u7684\u65b9\u5f0f\u4e34\u65f6\u542f\u52a8\u4e00\u4e2a Hugo \u670d\u52a1\u5668\uff08Hugo \u53ef\u4ee5\u542f\u52a8\u4e00\u4e2a Web \u670d\u52a1\u5668\uff0c\u540c\u65f6\u6784\u5efa\u7ad9\u70b9\u5185\u5bb9\u5230\u5185\u5b58\u4e2d\u5e76\u5728\u68c0\u6d4b\u5230\u6587\u4ef6\u66f4\u6539\u540e\u91cd\u65b0\u6e32\u67d3\uff0c\u65b9\u4fbf\u6211\u4eec\u5728\u5f00\u53d1\u73af\u5883\u5b9e\u65f6\u9884\u89c8\u5bf9\u7ad9\u70b9\u6240\u505a\u7684\u66f4\u6539\uff09\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u6253\u5f00\u6d4f\u89c8\u5668 http://127.0.0.1:1313/\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u7ad9\u70b9\u7684\u6837\u5b50\u4e86\u3002</p> <p>\u5982\u679c\u6211\u4eec\u60f3\u8981\u628a\u6211\u4eec\u7684\u7ad9\u70b9\u90e8\u7f72\u5230 GitHub/Gitee Pages\uff08\u6216\u8005\u672c\u5730\u7684\u670d\u52a1\u5668\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\uff1a</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#1","title":"1. \u751f\u6210\u9759\u6001\u9875\u9762\u5185\u5bb9","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u751f\u6210(\u6784\u5efa)\u9759\u6001\u9875\u9762\u5185\u5bb9\u3002</p> Python<pre><code>hugo -D \u6216\u8005 hugo --minify\n</code></pre> <p>\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u9ed8\u8ba4\u5728 <code>public/</code> \u76ee\u5f55\u4e2d\u751f\u6210\u60a8\u7684\u7f51\u7ad9\uff0c\u5f53\u7136\u60a8\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u7ad9\u70b9\u914d\u7f6e\u4e2d\u7684 <code>publishDir</code> \u9009\u9879\u6765\u914d\u7f6e\u8fd9\u4e2a\u8f93\u51fa\u76ee\u5f55\u3002</p> <p>\ud83c\udff7\ufe0f Hugo \u5c0f\u77e5\u8bc6 - \u8349\u6848\u3001\u672a\u6765\u548c\u8fc7\u671f\u5185\u5bb9</p> <p>Hugo \u5141\u8bb8\u60a8\u5728\u7f51\u7ad9\u5185\u5bb9\u7684\u524d\u8a00\u8bbe\u5b9a\u4e2d\u8bbe\u7f6e\u6587\u6863\u7684<code>draft</code>\uff0c<code>publishdate</code>\u751a\u81f3<code>expirydate</code>\u5b57\u6bb5\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cHugo \u4e0d\u4f1a\u53d1\u5e03\u4e0b\u9762\u5185\u5bb9\uff1a</p> <ol> <li><code>publishdate</code> \u53d1\u5e03\u65e5\u671f\u503c\u8bbe\u5b9a\u5728\u672a\u6765\u7684\u5185\u5bb9\uff1b</li> <li><code>draft:true</code> \u8349\u6848\u72b6\u6001\u8bbe\u7f6e\u4e3a\u771f\u7684\u5185\u5bb9\uff1b</li> <li><code>expirydate</code> \u8fc7\u671f\u65e5\u671f\u503c\u8bbe\u7f6e\u4e3a\u8fc7\u53bb\u67d0\u4e8b\u4ef6\u7684\u5185\u5bb9\u3002</li> </ol> <p>\u8fd9\u4e09\u4e2a\u53ef\u4ee5\u5728\u672c\u5730\u5f00\u53d1\u548c\u90e8\u7f72\u7f16\u8bd1\u65f6\u901a\u8fc7\u5bf9<code>hugo</code>\u548c<code>hugo server</code>\u5206\u522b\u6dfb\u52a0\u5982\u4e0b\u53c2\u6570\u6765\u91cd\u65b0\u8bbe\u5b9a\uff0c\u6216\u8005\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u5b9a\u5bf9\u5e94(\u4e0d\u5305\u542b<code>--</code>)\u57df\u7684 boolean \u503c\uff1a</p> <ol> <li>-F, --buildFuture include content with publishdate in the future</li> <li>-D, --buildDrafts include content marked as draft</li> <li>-E, --buildExpired include expired content</li> </ol>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#2","title":"2. \u90e8\u7f72\u7ad9\u70b9","text":"<p>\u628a\u751f\u6210\u7684 <code>public/</code> \u9759\u6001\u5185\u5bb9\u76ee\u5f55\u4e0a\u4f20\u5230 GitHub\uff0c\u5f00\u542f GitHub/Gitee Pages\uff0c\u5e76\u4e14\u7ed1\u5b9a cname \u57df\u540d\u5373\u53ef\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_10","title":"\u4f7f\u7528\u8bf4\u660e\u4e0e\u6280\u5de7","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u516c\u76ca\u9879\u76ee\uff0c\u4f60\u53ef\u4ee5\u62ff\u6765\u5236\u4f5c\u81ea\u5df1\u7684\u7f51\u5740\u5bfc\u822a\uff0c\u4e5f\u53ef\u4ee5\u505a\u4e0e\u5bfc\u822a\u65e0\u5173\u7684\u7f51\u7ad9\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_11","title":"\u5de6\u5bfc\u822a\u680f\u56fe\u6807","text":"<p>\u5de6\u4fa7\u3001\u9876\u90e8\u5bfc\u822a\u680f\u56fe\u6807\u7528\u7684\u90fd\u662f Font Awesome \u56fe\u6807\u5e93 v5 \u7248\u672c Free \u7684\u56fe\u6807\u3002\u94fe\u63a5\u5982\u4e0b\uff1a</p> <p>\ud83d\udd17 https://fontawesome.com/v5/search?o=r&amp;m=free</p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_12","title":"\u8c03\u6574\u5934\u90e8\u641c\u7d22\u680f","text":"<p>\u5934\u90e8\u641c\u7d22\u680f\u7684\u9ed8\u8ba4\u4f4d\u7f6e\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u6cd5\u8fdb\u884c\u4fee\u6539\u3002</p> <ol> <li>\u76f4\u63a5\u4fee\u6539 layouts/partials/content_search.html\uff0c\u8c03\u6574\u5bf9\u5e94\u90e8\u5206\u7684\u4f4d\u7f6e\u3002</li> <li>\u8c03\u6574\u9ed8\u8ba4\u7684\u641c\u7d22\uff08\u5373\u70b9\u51fb\"\u5e38\u7528/\u641c\u7d22/\u5de5\u5177 ....\" \u65f6\u4e0b\u6307\u7bad\u5934\u7684\u6307\u5411\uff09\uff0c\u628a\u5bf9\u5e94\u7684 id \u6dfb\u52a0\u5230\u5bf9\u5e94\u7684 label \u91cc\u9762\u3002</li> </ol> <p> </p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_13","title":"\u81ea\u5b9a\u4e49\u5934\u90e8\u5bfc\u822a","text":"<p>WebStack-Hugo \u628a\u5934\u90e8\u7684\u5bfc\u822a\u83dc\u5355\u7684\u5404\u4e2a\u4fe1\u606f\u96c6\u6210\u5728\u4e86 data/header.yml \u6587\u4ef6\u4e2d\uff0c\u6bcf\u4e2a\u4eba\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u8c03\u6574\u3002</p> YAML<pre><code>- item: \u9996\u9875\n  icon: fa fa-home\n  link: \"./\"\n\n- item: \u4f5c\u8005\n  icon: fa fa-book\n  link: https://www.yuque.com/shenweiyan\n\n- item: \u914d\u7f6e\n  icon: fa fa-cog\n  link: \"\"\n  list:\n    - name: \u6e90\u7801\n      url: \"#\"\n    - name: \u56fe\u6807\n      url: \"#\"\n</code></pre>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_14","title":"\u83b7\u53d6\u7f51\u7ad9\u56fe\u6807","text":"<p>Bio &amp; IT \u7f51\u5740\u5bfc\u822a\u9ed8\u8ba4\u4f7f\u7528\u7684\u662f\u4e2a\u4eba\u6536\u96c6\u7684\u7f51\u7ad9\u56fe\u6807\uff0c\u4e3b\u8981\u662f\u67e5\u770b\u7f51\u7ad9\u6e90\u7801\u3001\u767e\u5ea6\u3001\u8c37\u6b4c\u7b49\u9014\u5f84\u628a\u5bf9\u5e94\u5bfc\u822a\u7684\u56fe\u6807\u4e0b\u8f7d\u4e0b\u6765\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u6bd4\u8f83\u539f\u59cb\u7e41\u7410\uff0c\u9002\u5408\u5bfc\u822a\u4e0d\u662f\u5f88\u591a\u7684\u60c5\u51b5\u3002</p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_15","title":"\u4e00\u4e3a","text":"<p>\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e3a\u63d0\u4f9b\u7684\u7684 Favicon \u56fe\u6807 API\uff1a\u83b7\u53d6\u7f51\u7ad9 Favicon - \u514d\u8d39 API \u6570\u636e\u63a5\u53e3\u8c03\u7528\u670d\u52a1\u5e73\u53f0\u3002</p> <p>\u4f7f\u7528\u65b9\u6cd5\uff1a</p> <ol> <li> <p>\u83b7\u53d6 Favicon \u56fe\u6807 Text Only<pre><code>https://api.iowen.cn/favicon/www.iowen.cn.png\n</code></pre></p> </li> <li> <p>\u5237\u65b0\u7f13\u5b58 Text Only<pre><code>https://api.iowen.cn/favicon/www.iowen.cn.png?refresh=true\n</code></pre></p> </li> <li> <p>\u5c06\u4e0a\u65b9\u4ee3\u7801\u4e2d\u7684 <code>www.iowen.cn</code> \u66ff\u6362\u4e3a\u4f60\u9700\u8981\u83b7\u53d6\u7684\u7f51\u5740\u57df\u540d\u3002</p> </li> </ol>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#faviconim","title":"Favicon.im","text":"<p>\u9664\u4e86\u4e00\u4e3a\u7684 API\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 https://favicon.im/ \u6765\u5728\u7f51\u9875\u4e2d\u63d2\u5165\u5176\u4ed6\u7f51\u7ad9\u7684 Favicon \u56fe\u7247\uff0c\u53ef\u4ee5\u653e\u5927\u663e\u793a\u3002</p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#favicon-extractor","title":"Favicon Extractor","text":"<p>\u7c7b\u4f3c\u7f51\u7ad9 Favicon Downloader\uff0c\u4ee3\u7801\u5f00\u6e90\u3002</p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_16","title":"\u5df2\u77e5\u95ee\u9898","text":"<ol> <li>\u65e5\u95f4\u6a21\u5f0f\u4e0e\u591c\u95f4\u6a21\u5f0f\u5207\u6362\u65f6\u5019\uff0c\u5934\u90e8\u641c\u7d22\u680f\u7684\u80cc\u666f\u56fe\u7247\u5207\u6362\u4e0d\u591f\u6d41\u7545\uff08\u4e2a\u4eba\u7684 js \u77e5\u8bc6\u6709\u9650\uff0c\u5728 footer.html \u505a\u4e86\u4e00\u4e9b\u7b80\u5355\u7684\u8c03\u6574\u6765\u5b9e\u73b0\uff09\uff0c\u5982\u679c\u4f60\u6709\u66f4\u597d\u7684\u60f3\u6cd5\uff0c\u6b22\u8fce PR \u6216\u8005\u4ea4\u6d41\u3002</li> </ol>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_17","title":"\u611f\u8c22\u5899","text":"<p>\u672c\u4e3b\u9898\u7684\u90e8\u5206\u4ee3\u7801\u53c2\u8003\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u7279\u6b64\u611f\u8c22\u3002</p> <ul> <li>WebStackPage/WebStackPage.github.io</li> <li>liutongxu/liutongxu.github.io</li> <li>iplaycode/webstack-hugo</li> </ul> <p>\u611f\u8c22 WebStack \u7684\u4f5c\u8005 Viggo \u7684\u80af\u5b9a\u548c\u63a8\u5e7f\u5ba3\u4f20\u3002</p> <p></p> <p>\u611f\u8c22\u4ee5\u4e0b\u6240\u6709\u670b\u53cb\u5bf9\u672c\u4e3b\u9898\u6240\u505a\u51fa\u7684\u8d21\u732e\u3002      @yanbeiyinhanghang @jetsung </p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_18","title":"\u8d5e\u8d4f","text":"<p>\u5982\u679c\u4f60\u89c9\u5f97\u672c\u9879\u76ee\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9\uff0c\u6b22\u8fce\u8bf7\u4f5c\u8005\u559d\u676f\u70ed\u5496\u5561 &gt;.&lt;     </p> <p></p>"},{"location":"tech/%E5%BC%80%E5%8F%91%E8%BF%90%E7%BB%B4/%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/2023-10-23-WebStack-Hugo-%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%BC%E8%88%AA%E4%B8%BB%E9%A2%98-dis10/#_19","title":"\u53cd\u9988\u4e0e\u4ea4\u6d41","text":"<p>\u6700\u540e\uff0c\u6700\u91cd\u8981\u7684\uff0c\u79c9\u627f WebStack \u7684\u5b97\u65e8\uff0c\u8fd9\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u516c\u76ca\u9879\u76ee\uff0c\u4f60\u53ef\u4ee5\u62ff\u6765\u5236\u4f5c\u81ea\u5df1\u7684\u7f51\u5740\u5bfc\u822a\uff0c\u4e5f\u53ef\u4ee5\u505a\u4e0e\u5bfc\u822a\u65e0\u5173\u7684\u7f51\u7ad9\u3002</p> <p>WebStack \u6709\u975e\u5e38\u591a\u7684\u9b54\u6539\u7248\u672c\uff0c\u8fd9\u662f\u5176\u4e2d\u4e00\u4e2a\u3002</p> <p>\u5982\u679c\u4f60\u5bf9\u672c\u4e3b\u9898\u8fdb\u884c\u4e86\u4e00\u4e9b\u4e2a\u6027\u5316\u8c03\u6574\uff0c\u6b22\u8fce\u5728\u672c\u9879\u76ee\u4e2d **issues \u4e2d\u4e00\u8d77\u5206\u4eab\u4ea4\u6d41\uff01**</p> <p>\u5982\u679c\u53c2\u8003\u672c\u4e3b\u9898\u6784\u5efa\u4e86\u5c5e\u4e8e\u4f60\u81ea\u5df1\u7684\u7f51\u5740\u5bfc\u822a\uff0c\u6b22\u8fce\u5728\u672c\u8bc4\u8bba\u533a\uff08\u6216\u6e90\u7801 **issues \u533a\uff09\u7559\u4e0b\u4f60\u7f51\u7ad9\u7684\u8bbf\u95ee\u94fe\u63a5 &gt;.&lt;**</p>"},{"location":"tech/%E6%95%B0%E6%8D%AE%E5%BA%93/","title":"\u6570\u636e\u5e93","text":"<p>\u6570\u636e\u5e93\u76f8\u5173\u6587\u7ae0\u3002</p>"},{"location":"tech/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF/","title":"\u751f\u7269\u4fe1\u606f","text":"<p>\u751f\u7269\u4fe1\u606f\u5b66\uff08bioinformatics\uff09\u5229\u7528\u5e94\u7528\u6570\u5b66\u3001\u4fe1\u606f\u5b66\u3001\u7edf\u8ba1\u5b66\u548c\u8ba1\u7b97\u673a\u79d1\u5b66\u7684\u65b9\u6cd5\u7814\u7a76\u751f\u7269\u5b66\u7684\u95ee\u9898\u3002 \u751f\u7269\u4fe1\u606f\u5b66\u4ee5\u5404\u79cd\u5404\u6837\u7684\u751f\u7269\u5b66\u6570\u636e\u4e3a\u7814\u7a76\u6750\u6599\uff0c\u901a\u8fc7\u8ba1\u7b97\u673a\u5904\u7406\u540e\u518d\u8fdb\u884c\u7ed3\u679c\u89e3\u8bfb\uff0c\u5904\u7406\u65b9\u6cd5\u5305\u62ec\u5bf9\u751f\u7269\u5b66\u6570\u636e\u7684\u641c\u7d22\uff08\u6536\u96c6\u548c\u7b5b\u9009\uff09\u3001\u5904\u7406\uff08\u7f16\u8f91\u3001\u6574\u7406\u3001\u7ba1\u7406\u548c\u663e\u793a\uff09\u53ca\u5229\u7528\uff08\u8ba1\u7b97\u3001\u6a21\u62df\uff09\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/","title":"\u7f16\u7a0b\u6280\u672f","text":"<p>\u7f16\u7a0b\u6280\u672f\u72b9\u5982\u6570\u5b57\u4e4b\u821e\uff0c\u7a0b\u5e8f\u5458\u662f\u4fe1\u606f\u7684\u8bd7\u4eba\uff0c\u7528\u4ee3\u7801\u4e66\u5199\u7740\u672a\u6765\u7684\u7bc7\u7ae0\u3002\u5728\u8fd9\u62bd\u8c61\u7684\u8bed\u8a00\u4e2d\uff0c\u9690\u85cf\u7740\u89e3\u8c1c\u7684\u827a\u672f\uff0c\u6bcf\u4e00\u884c\u4ee3\u7801\u90fd\u662f\u667a\u6167\u7684\u5370\u8bb0\u3002\u7f16\u7a0b\u662f\u4e00\u573a\u601d\u7ef4\u7684\u76db\u5bb4\uff0c\u662f\u63a2\u7d22\u672a\u77e5\u7684\u5947\u822a\u3002\u4ee3\u7801\u7684\u97f5\u5f8b\u5728\u5c4f\u5e55\u4e0a\u8dc3\u52a8\uff0c\u5982\u540c\u4e00\u66f2\u534e\u7f8e\u7684\u4ea4\u54cd\u4e50\uff0c\u6307\u5f15\u7740\u4eba\u7c7b\u8d70\u5411\u6280\u672f\u7684\u5dc5\u5cf0\u3002\u5728\u8fd9\u4f4d\u5343\u53d8\u4e07\u5316\u7684\u7f16\u7801\u4e4b\u9053\u4e2d\uff0c\u63a2\u5bfb\u65e0\u9650\u53ef\u80fd\uff0c\u662f\u7a0b\u5e8f\u5458\u4eec\u7684\u5fc3\u4e4b\u6240\u5411\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2023-12-01-%E5%8D%95%E8%A1%8C-Python-%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5-dis30/","title":"\u5355\u884c Python \u4ee3\u7801\u7247\u6bb5","text":"<p>Via\uff1ahttps://muhammadraza.me/2023/python-oneliners</p> <p>\u6211\u5df2\u7ecf\u6c89\u6d78\u5728 Python \u7f16\u7a0b\u4e16\u754c\u5927\u7ea6\u4e09\u5e74\u4e86\u3002\u5728\u8fd9\u6bb5\u65f6\u95f4\u91cc\uff0c\u6211\u5f00\u59cb\u6b23\u8d4f\u8fd9\u79cd\u591a\u529f\u80fd\u8bed\u8a00\u7684\u4f18\u96c5\u548c\u5f3a\u5927\u3002\u5728\u8fd9\u7bc7\u65e2\u6709\u8da3\u53c8\u5177\u6709\u6559\u80b2\u610f\u4e49\u7684\u6587\u7ae0\u4e2d\uff0c\u6211\u5c06\u5c55\u793a\u4e00\u7cfb\u5217\u5355\u884c Python \u4ee3\u7801\u7247\u6bb5\u3002\u65e0\u8bba\u60a8\u662f\u7ecf\u9a8c\u4e30\u5bcc\u7684\u5f00\u53d1\u4eba\u5458\u8fd8\u662f\u521d\u5b66\u8005\uff0c\u8fd9\u4e9b\u7b80\u6d01\u7684\u4ee3\u7801\u884c\u90fd\u53ef\u4ee5\u8ba9\u60a8\u6df1\u5165\u4e86\u89e3 Python \u7684\u7b80\u5355\u6027\u548c\u6709\u6548\u6027\uff0c\u5b83\u4eec\u5c55\u793a\u4e00\u884c\u4ee3\u7801\u5982\u4f55\u5b8c\u6210\u5728\u5176\u4ed6\u8bed\u8a00\u4e2d\u53ef\u80fd\u9700\u8981\u51e0\u884c\u4ee3\u7801\u624d\u80fd\u5b8c\u6210\u7684\u4efb\u52a1\u3002</p> <ul> <li> <p>\u53cd\u8f6c\u5b57\u7b26\u4e32 Python<pre><code>reversed_string = \"Hello World\"[::-1]\n</code></pre></p> </li> <li> <p>\u68c0\u67e5\u6570\u5b57\u662f\u5426\u4e3a\u5076\u6570 Python<pre><code>is_even = lambda x: x % 2 == 0\nis_even(8)  #True\n</code></pre></p> </li> <li> <p>\u6c42\u4e24\u4e2a\u5217\u8868\u7684\u4ea4\u96c6 Python<pre><code>intersection = list(set(list1) &amp; set(list2))\n</code></pre></p> </li> <li> <p>\u4ece\u5217\u8868\u4e2d\u5220\u9664\u91cd\u590d\u9879 Python<pre><code>no_duplicates = list(set(my_list))\n</code></pre></p> </li> <li> <p>\u4e0d\u4f7f\u7528 <code>len()</code> \u8ba1\u7b97\u5b57\u7b26\u4e32\u7684\u957f\u5ea6 Python<pre><code>length = sum(1 for _ in 'Hello World')\n</code></pre></p> </li> <li> <p>\u68c0\u67e5\u4e00\u4e2a\u5217\u8868\u662f\u5426\u5305\u542b\u53e6\u4e00\u4e2a\u5217\u8868\u7684\u6240\u6709\u5143\u7d20 Python<pre><code>contains_all = all(elem in list1 for elem in list2)\n</code></pre></p> </li> <li> <p>\u751f\u6210\u4e00\u4e32\u968f\u673a\u5b57\u7b26 Python<pre><code>import random; \nrandom_str = ''.join(random.choices('abcdefghijklmnopqrstuvwxyz', k=10))\n</code></pre></p> </li> <li> <p>\u5c06\u6574\u6570\u5217\u8868\u8f6c\u6362\u4e3a\u5355\u4e2a\u6570\u5b57 Python<pre><code>num = int(''.join(map(str, [1, 2, 3, 4, 5])))\n</code></pre></p> </li> <li> <p>\u56de\u6587(Palindromic)\u68c0\u67e5 Python<pre><code>is_palindrome = lambda s: s == s[::-1]\n</code></pre></p> </li> <li> <p>\u5217\u8868\u5c55\u5f00 Python<pre><code>flatten_list = sum([[1, 2], [3, 4]], [])\n</code></pre></p> </li> <li> <p>\u5728\u4e00\u4e2a\u5217\u8868\u4e2d\u627e\u5230\u51fa\u73b0\u9891\u7387\u6700\u9ad8\u7684\u5143\u7d20 Python<pre><code>most_frequent = max(set(my_list), key=my_list.count)\n</code></pre></p> </li> <li> <p>\u5408\u5e76\u4e24\u4e2a\u5b57\u5178 Python<pre><code>merged_dict = {**dict1, **dict2}\n</code></pre></p> </li> </ul> <p>\u6700\u540e\uff0c\u6211\u5e0c\u671b\u60a8\u559c\u6b22\u9605\u8bfb\u672c\u6587\u5e76\u6709\u673a\u4f1a\u5b66\u4e60\u65b0\u4e1c\u897f\u3002\u5982\u679c\u60a8\u6709\u4efb\u4f55\u53cd\u9988\uff0c\u8bf7\u968f\u65f6\u5728\u4e0b\u9762\u53d1\u8868\u8bc4\u8bba\u3002\u5982\u679c\u60a8\u4e0d\u60f3\u516c\u5f00\u53d1\u8868\u8bc4\u8bba\uff0c\u53ef\u4ee5\u968f\u65f6\u7ed9\u6211\u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u3002\u6211\u4e5f\u5f88\u60f3\u770b\u5230\u4f60\u6700\u559c\u6b22\u7684 python one liner \u4ee3\u7801\u7247\u6bb5\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2023-12-26-Pandas-%E5%A4%84%E7%90%86-Excel-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7-dis40/","title":"Pandas \u5904\u7406 Excel \u5e38\u7528\u65b9\u6cd5\u6280\u5de7","text":"<p>\u5728\u4f7f\u7528 Pandas \u524d\u9700\u8981\u5b66\u4e60\u4e86\u89e3\u4e00\u4e0b Series \u548c DataFrame \u7684\u57fa\u672c\u6570\u636e\u7ed3\u6784\u548c\u7d22\u5f15\u7684\u76f8\u5173\u6982\u5ff5\uff0c\u4e4b\u540e\u5c31\u53ef\u4ee5\u7ec3\u4e60\u57fa\u672c\u7684 Excel\u64cd\u4f5c\u3002Pandas \u8bfb\u53d6\u4e00\u4e2a Excel \u6587\u4ef6\u540e\u4f1a\u5c06\u5176\u8f6c\u5316\u4e3a DataFrame \u5bf9\u8c61\uff0c\u6bcf\u4e00\u5217\u6216\u884c\u5c31\u662f\u4e00\u4e2a Series \u5bf9\u8c61\u3002\u8fd9\u91cc\u6211\u4eec\u770b\u4e0b\u5982\u4f55\u5bf9\u4e00\u4e2a excel \u8fdb\u884c\u8bfb\u5199\uff0c\u4ee5\u53ca Sheet\u3001\u884c\u5217\u3001\u8868\u5934\u5904\u7406\u7684\u4e00\u4e9b\u5e38\u7528\u6280\u5de7\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2023-12-26-Pandas-%E5%A4%84%E7%90%86-Excel-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7-dis40/#excel","title":"\u8bfb\u53d6 Excel","text":"<p>\u5982\u679c\u60a8\u60f3\u8bfb\u53d6 Excel \u8868\u683c\u4e2d\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>read_excel()</code> \u65b9\u6cd5\uff0c\u5176\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a</p> Text Only<pre><code>pd.read_excel(io, sheet_name=0, header=0, names=None, index_col=None,\n              usecols=None, squeeze=False,dtype=None, engine=None,\n              converters=None, true_values=None, false_values=None,\n              skiprows=None, nrows=None, na_values=None, parse_dates=False,\n              date_parser=None, thousands=None, comment=None, skipfooter=0,\n              convert_float=True, **kwds)\n</code></pre> <p>\u4e0b\u8868\u5bf9\u5e38\u7528\u53c2\u6570\u505a\u4e86\u8bf4\u660e\uff1a</p> \u53c2\u6570\u540d\u79f0 \u8bf4\u660e io \u8868\u793a Excel \u6587\u4ef6\u7684\u5b58\u50a8\u8def\u5f84\u3002 sheet_name \u8981\u8bfb\u53d6\u7684\u5de5\u4f5c\u8868\u540d\u79f0\uff0c\u9ed8\u8ba40\uff0c\u5373\u8bfb\u53d6\u7b2c\u4e00\u4e2a\u5de5\u4f5c\u8868\u4f5c\u4e3a DataFrame(\u4e00\u5b9a\u8981\u52a0<code>sheet_name=None</code>\uff0c\u624d\u80fd\u8bfb\u53d6\u51fa\u6240\u6709\u7684 sheet\uff0c\u5426\u5219\u9ed8\u8ba4\u8bfb\u53d6\u7b2c\u4e00\u4e2a sheet)\u3002 header \u6307\u5b9a\u4f5c\u4e3a\u5217\u540d\u7684\u884c\uff0c\u9ed8\u8ba40\uff0c\u5373\u53d6\u7b2c\u4e00\u884c\u7684\u503c\u4e3a\u5217\u540d\uff1b\u82e5\u6570\u636e\u4e0d\u5305\u542b\u5217\u540d\uff0c\u5219\u8bbe\u5b9a header = None\u3002\u82e5\u5c06\u5176\u8bbe\u7f6e\u4e3a header=2\uff0c\u5219\u8868\u793a\u5c06\u524d\u4e24\u884c\u4f5c\u4e3a\u591a\u91cd\u7d22\u5f15\u3002 names \u4e00\u822c\u9002\u7528\u4e8eExcel\u7f3a\u5c11\u5217\u540d\uff0c\u6216\u8005\u9700\u8981\u91cd\u65b0\u5b9a\u4e49\u5217\u540d\u7684\u60c5\u51b5\uff1bnames\u7684\u957f\u5ea6\u5fc5\u987b\u7b49\u4e8eExcel\u8868\u683c\u5217\u7684\u957f\u5ea6\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 index_col \u7528\u505a\u884c\u7d22\u5f15\u7684\u5217\uff0c\u53ef\u4ee5\u662f\u5de5\u4f5c\u8868\u7684\u5217\u540d\u79f0\uff0c\u5982 index_col = '\u5217\u540d'\uff0c\u4e5f\u53ef\u4ee5\u662f\u6574\u6570\u6216\u8005\u5217\u8868\u3002 usecols int\u6216list\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4e3aNone\uff0c\u8868\u793a\u9700\u8981\u8bfb\u53d6\u6240\u6709\u5217\u3002 squeeze boolean\uff0c\u9ed8\u8ba4\u4e3aFalse\uff0c\u5982\u679c\u89e3\u6790\u7684\u6570\u636e\u53ea\u5305\u542b\u4e00\u5217\uff0c\u5219\u8fd4\u56de\u4e00\u4e2aSeries\u3002 converters \u89c4\u5b9a\u6bcf\u4e00\u5217\u7684\u6570\u636e\u7c7b\u578b\u3002 skiprows \u63a5\u53d7\u4e00\u4e2a\u5217\u8868\uff0c\u8868\u793a\u8df3\u8fc7\u6307\u5b9a\u884c\u6570\u7684\u6570\u636e\uff0c\u4ece\u5934\u90e8\u7b2c\u4e00\u884c\u5f00\u59cb\u3002 nrows \u9700\u8981\u8bfb\u53d6\u7684\u884c\u6570\u3002 skipfooter \u63a5\u53d7\u4e00\u4e2a\u5217\u8868\uff0c\u7701\u7565\u6307\u5b9a\u884c\u6570\u7684\u6570\u636e\uff0c\u4ece\u5c3e\u90e8\u6700\u540e\u4e00\u884c\u5f00\u59cb\u3002 <p>\u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a Python<pre><code>import pandas as pd\n\n# \u8bfb\u53d6\u6240\u6709Sheet\ndf = pd.read_excel('example.xlsx', sheet_name=None)\n\n# \u8bfb\u53d6\u7b2c\u4e00\u4e2a\u3001\u7b2c\u4e8c\u4e2a\u548c\u540d\u4e3a\"Sheet5\"\u7684\u5de5\u4f5c\u8868\u4f5c\u4e3a DataFrame \u7684\u5b57\u5178\ndf = pd.read_excel('example.xlsx', sheet_name=[0, 1, \"Sheet5\"])\n</code></pre></p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2023-12-26-Pandas-%E5%A4%84%E7%90%86-Excel-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7-dis40/#_1","title":"\u83b7\u53d6\u884c\u6570\u548c\u5217\u6570","text":"Python<pre><code>import pandas as pd\n\ndf = pd.read_excel('example.xlsx')\n# \u884c\u7d22\u5f15\nprint(df.index)  \n# RangeIndex(start=0, stop=3747, step=1)\n\n# \u8f93\u51fa\u5143\u7956,\u5206\u522b\u4e3a\u884c\u6570\u548c\u5217\u6570,\u9ed8\u8ba4\u7b2c\u4e00\u884c\u662f\u8868\u5934\u4e0d\u7b97\u884c\u6570\nprint(df.shape) \n# (3747, 4)\n</code></pre>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2023-12-26-Pandas-%E5%A4%84%E7%90%86-Excel-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7-dis40/#_2","title":"\u83b7\u53d6\u8868\u5934","text":"<p><code>read_excel</code> \u9ed8\u8ba4\u662f\u628a excel \u7684\u7b2c\u4e00\u884c\u5f53\u6210\u8868\u5934\u3002\u6ce8\u610f\uff1a\u5982\u679c <code>read_excel</code> \u7684 <code>sheet_name=None</code>\uff0c\u8bfb\u53d6\u7684\u662f\u6240\u6709 excel \u7684 sheet_name(key) \u548c sheet_values(values) \u7ec4\u6210\u7684\u5b57\u5178\uff0c<code>df.keys()</code> \u7684\u7ed3\u679c\u662f\u6240\u6709 sheet_name\uff0c\u5373\u540d\u5b57(\u5b57\u5178\u7684\u952e)\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2023-12-26-Pandas-%E5%A4%84%E7%90%86-Excel-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7-dis40/#sheet","title":"\u83b7\u53d6\u7b2c\u4e00\u4e2a sheet","text":"<p>\u8fd9\u65f6\u5019 <code>df.keys()</code> \u548c <code>df.columns</code> \u7684\u7ed3\u679c\u662f\u4e00\u6837\u7684\uff0c\u90fd\u662f\u7b2c\u4e00\u4e2a sheet \u7684\u8868\u5934\u3002</p> Python<pre><code>import pandas as pd\n\ndf = pd.read_excel('input.xlsx')\nprint(df.keys())\nprint('---------------')\nprint(df.columns)\n</code></pre>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2023-12-26-Pandas-%E5%A4%84%E7%90%86-Excel-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7-dis40/#sheet_1","title":"\u83b7\u53d6\u6240\u6709 sheet","text":"Python<pre><code>import pandas as pd\n\n# \u53c2\u6570\u4e3a None \u4ee3\u8868\u8bfb\u53d6\u6240\u6709 sheet\ndf = pd.read_excel('input.xlsx',sheet_name=None)\n\n# \u83b7\u53d6\u6240\u6709sheet\u540d\u5b57, \u5982\u679cread_excel\u53c2\u6570\u4e0d\u662fNone, \u5219df.keys()\u4e3a\u8868\u5934\nsheet_names = list(df.keys())\nprint(sheet_names)\n</code></pre>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2023-12-26-Pandas-%E5%A4%84%E7%90%86-Excel-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%8A%80%E5%B7%A7-dis40/#_3","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>\u8001\u8463\uff0c\u300apandas\u83b7\u53d6excel\u7684\u884c\u6570,\u5217\u6570,\u8868\u5934,sheet,\u524d\u540e\u884c\u7b49\u6570\u636e\u300b\uff0cPython\u7f16\u7a0b\u7f51</li> <li>\u300aPandas Excel\u8bfb\u5199\u64cd\u4f5c\u8be6\u89e3\u300b\uff0cC\u8bed\u8a00\u4e2d\u6587\u7f51</li> <li>\u300apandas.read_excel \u2014 pandas 2.1.4 documentation\u300b\uff0cpandas documentation \u2014 pandas 2.1.4 documentation</li> </ol>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-01-03-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8-requirements-txt-dis44/","title":"\u4e0d\u8981\u4f7f\u7528 requirements.txt","text":"<p>\u4f5c\u8005\uff1aMiikka Koskinen  \u7f16\u8bd1\uff1a\u6c88\u7ef4\u71d5  \u65f6\u95f4\uff1a\u539f\u6587\u53d1\u8868\u4e8e 2023-10-31      \u539f\u6587\uff1aDo not use requirements.txt</p> <p>\u4f60\u662f\u5426\u5728\u7528 Python \u5f00\u53d1\u540e\u7aef\u670d\u52a1\uff1f\u6211\u6709\u4e24\u6761\u5efa\u8bae\uff1a</p> <ul> <li>\u4e0d\u8981\u4f7f\u7528 <code>pip</code> \u548c <code>requirements.txt</code> \u6765\u7ba1\u7406 Python \u4f9d\u8d56\u3002\u5b83\u4eec\u7f3a\u4e4f\u4e00\u4e9b\u5e94\u8be5\u5185\u7f6e\u7684\u5173\u952e\u529f\u80fd\u3002</li> <li>\u6539\u7528 Poetry\u3002</li> </ul> <p>\u5bf9\u6211\u6765\u8bf4\uff0c\u7b2c\u4e00\u6761\u5efa\u8bae\u6bcb\u5eb8\u7f6e\u7591\u3002\u7b2c\u4e8c\u6761\u5219\u66f4\u5177\u6709\u6682\u65f6\u6027\uff1aPoetry \u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\uff0c\u4f46\u5e76\u975e\u552f\u4e00\u503c\u5f97\u8003\u8651\u7684\u9009\u62e9\u3002</p> <p>\u6211\u5c06\u5728\u4e0b\u9762\u8fdb\u884c\u89e3\u91ca\u3002</p> <p>\u8bf7\u6ce8\u610f\uff1a\u5982\u679c\u4f60\u4f7f\u7528 Python \u505a\u5176\u4ed6\u4e8b\u60c5\u800c\u4e0d\u662f\u6784\u5efa\u540e\u7aef\u670d\u52a1\uff0c\u90a3\u4e48\u672c\u6587\u4e2d\u7684\u5efa\u8bae\u53ef\u80fd\u5e76\u4e0d\u9002\u7528\u4e8e\u4f60\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u6b63\u5728\u8fc1\u79fb <code>setup.py</code> \u7684\u5e93\u5f00\u53d1\u8005\uff0cPoetry \u5e76\u4e0d\u660e\u663e\u662f\u4e00\u4e2a\u5b8c\u7f8e\u7684\u9009\u62e9\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-01-03-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8-requirements-txt-dis44/#pip","title":"PIP \u7f3a\u5931\u7684\u529f\u80fd","text":"<p>pip \u662f\u4e00\u4e2a\u5de5\u5177\uff0c\u4f60\u53ef\u4ee5\u7528\u5b83\u4ece The Python Package Index (PyPI) \u4e2d\u5b89\u88c5\u8f6f\u4ef6\u5305\u3002\u5b83\u968f Python \u4e00\u8d77\u5b89\u88c5\uff0c\u5982\u679c\u4f60\u662f Python \u5f00\u53d1\u8005\uff0c\u4f60\u53ef\u80fd\u5df2\u7ecf\u591a\u6b21\u4f7f\u7528\u8fc7\u5b83\u3002</p> <p>\u7ba1\u7406 Python \u9879\u76ee\u4f9d\u8d56\u7684\u4f20\u7edf\u65b9\u5f0f\u662f\u5c06\u5b83\u4eec\u5217\u5728\u4e00\u4e2a\u540d\u4e3a <code>requirements.txt</code> \u7684\u6587\u4ef6\u4e2d\uff0c\u5e76\u4f7f\u7528 <code>pip install -r requirements.txt</code> \u8fdb\u884c\u5b89\u88c5\u3002\u7136\u800c\uff0c<code>pip</code> \u88ab\u8bbe\u8ba1\u6210\u4e00\u4e2a\u8f6f\u4ef6\u5305\u5b89\u88c5\u5de5\u5177\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u529f\u80fd\u9f50\u5168\u7684\u9879\u76ee\u5de5\u4f5c\u6d41\u5de5\u5177\u3002pip \u7f3a\u4e4f\u4e24\u4e2a\u5173\u952e\u529f\u80fd\uff0c\u5373\u4f9d\u8d56\u7684\u9501\u5b9a\u6587\u4ef6 (dependency lockfiles) \u548c\u865a\u62df\u73af\u5883\u7684\u81ea\u52a8\u7ba1\u7406(automatic management of virtualenvs)\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-01-03-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8-requirements-txt-dis44/#_1","title":"\u4f9d\u8d56\u9501\u5b9a\u6587\u4ef6","text":"<p>\u5982\u679c\u4f60\u5e0c\u671b\u5728\u6240\u6709\u73af\u5883\u4e2d\uff08\u6bd4\u5982\u4f60\u7684\u7b14\u8bb0\u672c\u7535\u8111\u3001\u6301\u7eed\u96c6\u6210(CI)\u3001\u751f\u4ea7\u73af\u5883\uff09\u83b7\u5f97\u76f8\u540c\u7684\u884c\u4e3a\uff0c\u4f60\u9700\u8981\u9501\u5b9a\u4f60\u7684\u4f9d\u8d56\u9879\u53ca\u5176\u4f20\u9012\u4f9d\u8d56\u7684\u7248\u672c\u3002\u4f60\u53ef\u4ee5\u5728 <code>requirements.txt</code> \u4e2d\u9501\u5b9a\u4f60\u76f4\u63a5\u4f9d\u8d56\u7684\u7248\u672c\uff0c\u4f8b\u5982\uff0c\u4f7f\u7528 <code>requests==2.31.0</code> \u800c\u4e0d\u662f <code>requests</code>\u3002</p> <p>\u7136\u800c\uff0cpip \u4e0d\u4f1a\u9501\u5b9a\u4f20\u9012\u4f9d\u8d56\u7684\u7248\u672c\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 pip-tools \u6765\u89e3\u51b3\uff0c\u5c06 <code>requirements.txt</code> \u6269\u5c55\u6210\u4e00\u4e2a\u5217\u51fa\u5b8c\u6574\u4f9d\u8d56\u56fe\u7684\u6587\u4ef6\uff0c\u5305\u62ec\u51c6\u786e\u7248\u672c\u548c\u6784\u4ef6\u7684\u6821\u9a8c\u548c(checksums for the artifacts)\u3002pip-tools \u5f88\u4e0d\u9519\uff0c\u4f46\u4f60\u9700\u8981\u81ea\u884c\u8bbe\u7f6e\u5e76\u5f04\u6e05\u695a\u5b83\u5982\u4f55\u9002\u5e94\u4f60\u7684\u5de5\u4f5c\u6d41\u7a0b\u3002</p> <p>\u5728\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u8fd9\u4e2a\u529f\u80fd\u662f\u57fa\u672c\u8981\u6c42\u7684 - \u4f8b\u5982\uff0cnpm \u591a\u5e74\u6765\u4e00\u76f4\u6709 <code>package-lock.json</code>\uff0cCargo \u4e5f\u6709 <code>Cargo.lock</code>\u3002\u8fd9\u4e2a\u529f\u80fd\u5b9e\u5728\u5e94\u8be5\u662f\u4e00\u4e2a\u9879\u76ee\u5de5\u4f5c\u6d41\u5de5\u5177\u4e2d\u7684\u5185\u7f6e\u529f\u80fd\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-01-03-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8-requirements-txt-dis44/#_2","title":"\u865a\u62df\u73af\u5883\u7684\u81ea\u52a8\u7ba1\u7406","text":"<p>\u5728 Python \u4e2d\u521b\u5efa\u9694\u79bb\u73af\u5883\u7684\u65b9\u5f0f\u662f\u4f7f\u7528 virtualenvs\u3002\u4f20\u7edf\u4e0a\uff0c\u4f60\u9700\u8981\u624b\u52a8\u7ba1\u7406\u5b83\u4eec\uff1a\u901a\u8fc7\u4e00\u4e2a shell \u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\uff08\u6bd4\u5982 <code>python -m venv example</code> \u6765\u521b\u5efa\u540d\u4e3a <code>example</code> \u7684\u865a\u62df\u73af\u5883\uff09\uff0c\u5f53\u4f60\u60f3\u8981\u4f7f\u7528\u5b83\u65f6\uff0c\u9700\u8981\u7528\u53e6\u4e00\u4e2a shell \u547d\u4ee4\u6765\u6fc0\u6d3b\u5b83\u3002</p> <p>\u8fd9\u5bb9\u6613\u51fa\u9519\uff1a\u5fd8\u8bb0\u6fc0\u6d3b\u865a\u62df\u73af\u5883\u6216\u8005\u6fc0\u6d3b\u9519\u8bef\u7684\u865a\u62df\u73af\u5883\u662f\u5e38\u89c1\u7684\u9519\u8bef\u3002\u6709\u4e00\u5806\u7684\u89e3\u51b3\u65b9\u6cd5\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 pyenv-virtualenv\uff0c\u5728\u8fdb\u5165\u9879\u76ee\u76ee\u5f55\u65f6\u8ba9\u4f60\u7684 shell \u81ea\u52a8\u6fc0\u6d3b\u4e00\u4e2a\u865a\u62df\u73af\u5883\u3002direnv \u4e5f\u53ef\u4ee5\u505a\u5230\u3002</p> <p>\u540c\u6837\uff0c\u8fd9\u4e5f\u5e94\u8be5\u6210\u4e3a\u5de5\u4f5c\u6d41\u5de5\u5177\u4e2d\u7684\u4e00\u4e2a\u5185\u7f6e\u529f\u80fd\u3002\u4f60\u4e0d\u5e94\u8be5\u9700\u8981\u5c06\u591a\u4e2a\u5de5\u5177\u7c98\u5408\u5728\u4e00\u8d77\u3002\u4f60\u4e0d\u4f1a\u542c\u5230 npm \u6216 Cargo \u7528\u6237\u5728\u865a\u62df\u73af\u5883\u4e0a\u9047\u5230\u95ee\u9898\u7684\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-01-03-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8-requirements-txt-dis44/#poetry","title":"Poetry \u53ca\u5176\u4ed6\u9009\u62e9","text":"<p>\u5e78\u8fd0\u7684\u662f\uff0c\u8bb8\u591a\u4eba\u5df2\u7ecf\u610f\u8bc6\u5230\u8fd9\u4e9b\u95ee\u9898\u5e76\u52aa\u529b\u89e3\u51b3\u5b83\u4eec\u3002\u4e0d\u592a\u5e78\u8fd0\u7684\u662f\uff0c\u8fd9\u5bfc\u81f4\u4e86\u5927\u91cf\u7684 Python \u9879\u76ee\u5de5\u4f5c\u6d41\u5de5\u5177\u6d8c\u73b0\u3002\u90a3\u4e48\u8be5\u5982\u4f55\u9009\u62e9\u5462\uff1f</p> <p>\u6211\u7684\u5efa\u8bae\u662f\uff1a\u9009\u62e9 Poetry\u3002\u5b83\u6709\u9501\u5b9a\u6587\u4ef6\uff0c\u6709\u865a\u62df\u73af\u5883\u7ba1\u7406\uff0c\u800c\u4e14\u5f88\u53d7\u6b22\u8fce\u4e14\u5728\u79ef\u6781\u5f00\u53d1\u4e2d\u3002\u6839\u636e\u6211\u7684\u7ecf\u9a8c\uff0c\u5b83\u5e76\u4e0d\u5b8c\u7f8e\uff0c\u4f46\u662f\u5b83\u8d77\u4f5c\u7528\u3002</p> <p>\u4f60\u4e5f\u53ef\u4ee5\u8003\u8651 Hatch \u6216 PDM\u3002\u5b83\u4eec\u4e0e Poetry \u76f8\u4f3c\u3002\u6211\u81ea\u5df1\u6ca1\u6709\u4f7f\u7528\u8fc7\u5b83\u4eec\uff0c\u4f46\u6211\u542c\u8bf4\u5176\u4ed6\u4eba\u6210\u529f\u5730\u4f7f\u7528\u4e86\u5b83\u4eec\u3002Hatch \u4f3c\u4e4e\u5728\u5e93\u4f5c\u8005 (library authors) \u4e2d\u7279\u522b\u53d7\u6b22\u8fce\u3002</p> <p>\u5982\u679c\u4f60\u6b63\u5728\u5bfb\u627e\u4e00\u4e2a\u66f4\u5f3a\u5927\u7684\u9009\u9879\uff0c\u53ef\u4ee5\u5904\u7406\u591a\u4e2a\u5b50\u9879\u76ee\uff0cPants \u6784\u5efa\u7cfb\u7edf\u5728 Python \u652f\u6301\u65b9\u9762\u505a\u5f97\u5f88\u597d\u3002\u7136\u800c\uff0c\u5b83\u7684\u5b66\u4e60\u66f2\u7ebf\u76f8\u5bf9\u9661\u5ced\u3002</p> <p>\u6700\u540e\uff0c\u5982\u679c\u4f60\u6b63\u5728\u5bfb\u627e\u4e00\u4e2a\u7c7b\u4f3c rustup \u90a3\u6837\u53ef\u4ee5\u4e3a\u4f60\u5b89\u88c5 Python \u7684\u89e3\u51b3\u65b9\u6848\uff0c\u90a3\u4e48\u6709 rye\u3002\u5b83\u662f\u65b0\u7684\u5b9e\u9a8c\u6027\u5de5\u5177\uff0c\u4f46\u4e5f\u8bb8\u5b83\u5bf9\u4f60\u6765\u8bf4\u662f\u6b63\u786e\u7684\u9009\u62e9\uff1f</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-01-03-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8-requirements-txt-dis44/#_3","title":"\u54ea\u4e2a\u662f\u6743\u5a01\u7684\u5de5\u4f5c\u6d41\u5de5\u5177\uff1f","text":"<p>\u5982\u679c Python \u81ea\u5e26\u4e00\u4e2a\u6743\u5a01\u7684\u9879\u76ee\u5de5\u4f5c\u6d41\u5de5\u5177\u4f1a\u5f88\u597d\u3002\u5f88\u591a\u4eba\u5e0c\u671b pip \u6210\u4e3a\u8fd9\u6837\u4e00\u4e2a\u5de5\u5177\u3002Node.js \u81ea\u5e26 npm\uff0cRust \u81ea\u5e26 Cargo\uff0c\u90a3\u4e48\u4e3a\u4ec0\u4e48 Python \u5c31\u4e0d\u80fd\u6709\u4e00\u4e2a\u5462\uff1f\u4e3a\u4ec0\u4e48\u4f1a\u6709\u8fd9\u4e48\u591a\u7ade\u4e89\u7684\u9009\u62e9\u5462\uff1f</p> <p>\u636e\u6211\u6240\u77e5\uff0c\u6700\u5927\u7684\u969c\u788d\u662f\uff0c\u7531\u4e8e Python \u88ab\u5e7f\u6cdb\u4f7f\u7528\u4e14\u7528\u4e8e\u8bb8\u591a\u4e0d\u540c\u7684\u7528\u4f8b\uff0c\u5236\u5b9a\u4e00\u4e2a\u901a\u7528\u7684\u5b98\u65b9\u89e3\u51b3\u65b9\u6848\u662f\u56f0\u96be\u4e14\u7f13\u6162\u7684\uff08\u5e76\u4e14\u8d44\u91d1\u4e0d\u8db3\u7684\uff09\u5de5\u4f5c\u3002\u53e6\u5916\uff0c\u4e5f\u4e0d\u6e05\u695a pip \u662f\u5426\u9002\u5408\u8fd9\u4e9b\u529f\u80fd\u3002</p> <p>\u5982\u679c\u4f60\u60f3\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u9605\u8bfb\u548c\u542c\u53d6\u8fd9\u4e9b\u4e0e\u6211\u4e0d\u540c\u3001\u6df1\u5ea6\u53c2\u4e0e Python \u793e\u533a\u7684\u4eba\u7684\u610f\u89c1\uff1a   - Stargirl (Thea Flowers) on Fediverse\uff1a\u300a\u6240\u4ee5\u4f60\u60f3\u89e3\u51b3 Python \u6253\u5305\u95ee\u9898\uff1a\u4e00\u4e2a\u5b9e\u7528\u6307\u5357\u300b - Pradyun Gedam\uff1a\u300a\u5173\u4e8e Python \u6253\u5305\u751f\u6001\u7cfb\u7edf\u7684\u601d\u8003\u300b - Talk Python to Me (podcast)\uff1a\u300a\u91cd\u65b0\u6784\u60f3 Python \u7684\u6253\u5305\u5de5\u4f5c\u6d41\u7a0b\u300b</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-01-03-%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8-requirements-txt-dis44/#clojure","title":"\u5173\u4e8e Clojure","text":"<p>\u9605\u8bfb\u6211\u7684\u535a\u5ba2\u7684 Clojure \u5f00\u53d1\u8005\u53ef\u80fd\u4f1a\u95ee\uff1a\u563f\uff0cClojure \u600e\u4e48\u6837\uff1f\u4e3a\u4ec0\u4e48\u6211\u4eec\u6ca1\u6709\u9501\u5b9a\u6587\u4ef6\u5462\uff1f\u8fd9\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u95ee\u9898\uff01</p> <p>Clojure \u793e\u533a\u901a\u8fc7\u59cb\u7ec8\u4f7f\u7528\u660e\u786e\u7684\u7248\u672c\u800c\u4e0d\u662f\u7248\u672c\u8303\u56f4\u6765\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u5373\u4f7f\u5728\u5e93\u4e2d\u4e5f\u662f\u5982\u6b64\u3002\u7248\u672c\u63cf\u8ff0\u5b9e\u9645\u4e0a\u652f\u6301\u8303\u56f4\uff0c\u4f46\u6ca1\u6709\u4eba\u4f1a\u4f7f\u7528\u5b83\u4eec\u3002\u8fd9\u6837\uff0c\u53ea\u8981\u7248\u672c\u89e3\u6790\u7b97\u6cd5\u7a33\u5b9a\uff0c\u4f60\u603b\u662f\u4f1a\u5f97\u5230\u76f8\u540c\u7684\u7248\u672c\u3002</p> <p>\u7406\u8bba\u4e0a\uff0c\u4f20\u9012\u4f9d\u8d56\u9879\u7248\u672c\u4e0d\u5339\u914d\u53ef\u80fd\u662f\u4e00\u4e2a\u95ee\u9898\uff0c\u4f46 Clojure \u652f\u6301\u4e00\u79cd\u7f16\u7801\u98ce\u683c\uff0c\u5f88\u5c11\u5f15\u8d77\u95ee\u9898\u3002</p> <p>\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u5728 Python \u548c Node.js \u793e\u533a\uff0c\u901a\u5e38\u671f\u671b\u5e93\u5217\u51fa\u5176\u4f9d\u8d56\u9879\u7684\u7248\u672c\u8303\u56f4\uff0c\u800c\u8f6f\u4ef6\u5305\u7ba1\u7406\u5de5\u5177\u4f1a\u62b1\u6028\u7248\u672c\u4e0d\u5339\u914d\u7684\u95ee\u9898\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-03-21-Python-%E9%87%8C%E9%9D%A2%E6%B2%A1-if-%E4%B9%9F%E8%83%BD%E7%94%A8-else-dis61/","title":"Python \u91cc\u9762\u6ca1 if \u4e5f\u80fd\u7528 else","text":"<p>\u8fd9\u662f\u6765\u81ea\u4e8e Yang Zhou \u53d1\u8868\u5728 Medium \u7684\u4e00\u7bc7\u6587\u7ae0 \u300aBeyond If-Else: Leveraging Python\u2019s Versatile \u201cElse\u201d Statements\u300b\uff0c\u4f5c\u8005\u89c9\u5f97\u633a\u6709\u610f\u601d\u7684\uff0c\u62ff\u8fc7\u6765\u7b80\u5355\u7ffb\u8bd1\u4e86\u4e00\u4e0b\u5728\u8fd9\u91cc\u5206\u4eab\u7ed9\u5927\u5bb6\u3002</p> <p>\u5f53\u6211\u4eec\u8bf4\u5230 \"else\"\uff0c\u5fc5\u987b\u5148\u6709 \"if\"\u3002</p> <p>\u8fd9\u5bf9\u4e8e\u8bb8\u591a\u7f16\u7a0b\u8bed\u8a00\u6765\u8bf4\u90fd\u662f\u6b63\u786e\u7684\uff0c\u4f46\u5bf9\u4e8e Python \u6765\u8bf4\u5374\u4e0d\u7136\u3002</p> <p>Python \u7684 else \u8bed\u53e5\u6bd4\u6211\u4eec\u60f3\u8c61\u7684\u66f4\u901a\u7528\u3002</p> <p>\u4ece\u5faa\u73af\u540e\u7684 \"else\" \u5230 try- except \u5757\u540e\u7684 \"else\"\uff0c\u672c\u6587\u5c06\u63a2\u8ba8 else \u8bed\u53e5\u9c9c\u4e3a\u4eba\u77e5\u7684\u529f\u80fd\u3002</p> <p>\u6211\u4eec\u4e0d\u4e00\u5b9a\u9700\u8981\u5728\u751f\u4ea7\u4e2d\u4f7f\u7528\u8fd9\u4e9b\u6280\u5de7\uff0c\u5c24\u5176\u662f\u5f53\u6211\u4eec\u7684\u540c\u4e8b\u8fd8\u4e0d\u77e5\u9053\u5b83\u4eec\u65f6\uff0c\u4f46\u4ec5\u4ec5\u610f\u8bc6\u5230\u5b83\u4eec\u7684\u5b58\u5728\u5c31\u53ef\u4ee5\u8ba9\u6211\u4eec\u518d\u6b21\u611f\u53d7\u5230 Python \u7684\u7075\u6d3b\u6027\u548c\u591a\u529f\u80fd\u6027\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-03-21-Python-%E9%87%8C%E9%9D%A2%E6%B2%A1-if-%E4%B9%9F%E8%83%BD%E7%94%A8-else-dis61/#1-while-else","title":"1. While-Else \u7ed3\u6784","text":"<p>\u5728 Python \u4e2d\uff0c <code>while</code> \u5faa\u73af\u53ef\u4ee5\u4e0e <code>else</code> \u5757\u914d\u5bf9\u3002\u5f53\u4e14\u4ec5\u5f53\u5faa\u73af\u6b63\u5e38\u5b8c\u6210\u65f6\uff0c<code>else</code> \u5757\u624d\u4f1a\u6267\u884c\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u4e0d\u4f1a\u901a\u8fc7 <code>break</code> \u8bed\u53e5\u7ec8\u6b62\u3002</p> <p>\u6362\u53e5\u8bdd\u8bf4\uff0c\u5982\u679c <code>while</code> \u5faa\u73af\u88ab <code>break</code> \u7ec8\u6b62\uff0c\u5219 <code>else</code> \u5757\u5c06\u4e0d\u4f1a\u88ab\u6267\u884c\u3002 Python<pre><code>leaders = [\"Elon\", \"Tim\", \"Warren\"]\ni = 0\nwhile i &lt; len(leaders):\n    if leaders[i] == \"Yang\":\n        print(\"Yang is a leader!\")\n        break\n    i += 1\nelse:\n    print(\"Not found Yang!\")\n\n# Not found Yang!\n</code></pre></p> <p>\u5982\u4e0a\u9762\u7684\u793a\u4f8b\u6240\u793a\uff0c <code>while</code> \u5faa\u73af\u8fed\u4ee3 <code>leaders</code> \u5217\u8868\uff0c\u641c\u7d22\u9886\u5bfc\u8005 \"Yang\"\u3002\u4e0d\u5e78\u7684\u662f\uff0c\"Yang\" \u5e76\u4e0d\u662f\u8be5\u540d\u5355\u4e2d\u771f\u6b63\u7684\u9886\u5bfc\u8005\u3002\u6240\u4ee5 <code>break</code> \u8bed\u53e5\u6ca1\u6709\u88ab\u6267\u884c\u3002\u56e0\u6b64\uff0c<code>else</code> \u8bed\u53e5\u4e0b\u7684\u4ee3\u7801\u5c31\u88ab\u6267\u884c\u4e86\u3002</p> <p><code>else</code> \u8bed\u53e5\u7684\u8fd9\u79cd\u610f\u5916\u7528\u6cd5\u4f7f\u6211\u4eec\u65e0\u9700\u6dfb\u52a0\u989d\u5916\u7684\u6807\u5fd7\u53d8\u91cf\u6765\u6807\u8bb0\u5faa\u73af\u662f\u5426\u88ab\u7834\u574f\u3002\u8fd9\u6837\u6211\u4eec\u7684 Python \u7a0b\u5e8f\u5c31\u53ef\u4ee5\u7cbe\u7b80\u4e00\u4e9b\u4e86\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-03-21-Python-%E9%87%8C%E9%9D%A2%E6%B2%A1-if-%E4%B9%9F%E8%83%BD%E7%94%A8-else-dis61/#2-for-else","title":"2. \u5e26\u6709 For \u5faa\u73af\u7684 Else \u8bed\u53e5","text":"<p>For \u5faa\u73af\u548c <code>while</code> \u5faa\u73af\u662f\u7f16\u7a0b\u7684\u5b6a\u751f\u5144\u5f1f\u3002\u5982\u679c\u6211\u4eec\u53ef\u4ee5\u5728 while \u5faa\u73af\u4e2d\u5229\u7528 else \u8bed\u53e5\u7684\u591a\u529f\u80fd\u6027\uff0c\u90a3\u4e48\u6beb\u65e0\u7591\u95ee\u5b83\u53ef\u4ee5\u7528\u4e8e for \u5faa\u73af\u3002</p> <p>\u8fd9\u4e2a\u60f3\u6cd5\u662f\u5b8c\u5168\u76f8\u540c\u7684\uff1a      </p> <p>The \"else\" block only executes when there is no break in the for loop.    \"else\" \u5757\u4ec5\u5728 for \u5faa\u73af\u4e2d\u6ca1\u6709\u4e2d\u65ad\u65f6\u6267\u884c\u3002     </p> <p>\u8ba9\u6211\u4eec\u7528 for \u5faa\u73af\u91cd\u5199\u524d\u9762\u7684\u793a\u4f8b\uff1a Python<pre><code>leaders = [\"Elon\", \"Tim\", \"Warren\"]\n\nfor i in leaders:\n    if i == \"Yang\":\n        print(\"Yang is a leader!\")\n        break\nelse:\n    print(\"Not found Yang!\")\n\n# Not found Yang!\n</code></pre></p> <p>\u4ee3\u7801\u66f4\u7b80\u6d01\u4e86\uff0c\u4e0d\u662f\u5417\uff1f\u4f60\u80fd\u7528\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u505a\u5230\u8fd9\u4e00\u70b9\u5417\uff1f</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-03-21-Python-%E9%87%8C%E9%9D%A2%E6%B2%A1-if-%E4%B9%9F%E8%83%BD%E7%94%A8-else-dis61/#3-else","title":"3. \u4f7f\u7528 Else \u8bed\u53e5\u8fdb\u884c\u5f02\u5e38\u5904\u7406","text":"<p>\u5f02\u5e38\u5904\u7406\u662f\u7f16\u5199\u5065\u58ee\u4e14\u65e0\u9519\u8bef\u7684\u4ee3\u7801\u7684\u4e00\u9879\u91cd\u8981\u6280\u672f\u3002</p> <p>\u5728 Python \u4e2d\uff0c\u6574\u4e2a\u5f02\u5e38\u5904\u7406\u4ee3\u7801\u5757\u7684\u7ed3\u6784\u5e94\u8be5\u5982\u4e0b\uff1a Python<pre><code>try:\n    # Code that might raise an exception\nexcept SomeException:\n    # Code that runs if the try block raised 'SomeException'\nelse:\n    # Code that runs if the try block did NOT raise any exceptions\nfinally:\n    # Code that always runs no matter what, often for cleanup\n</code></pre></p> <p>\u9664\u4e86 <code>try</code> \u5757\u4e4b\u5916\uff0c\u6240\u6709\u5176\u4ed6\u90e8\u5206\u90fd\u662f\u53ef\u9009\u7684\u3002</p> <p>\u5f53 <code>try</code> \u5757\u672a\u5f15\u53d1\u5f02\u5e38\u65f6\uff0c <code>else</code> \u5757\u5c31\u4f1a\u6267\u884c\u3002\u8fd9\u662f\u653e\u7f6e\u4ec5\u5f53 <code>try</code> \u5757\u6210\u529f\u4e14\u65e0\u5f02\u5e38\u65f6\u624d\u8fd0\u884c\u7684\u4ee3\u7801\u7684\u597d\u5730\u65b9\u3002\u8fd9\u5bf9\u4e8e\u9610\u660e\u4ee3\u7801\u7684\u610f\u56fe\u5e76\u9632\u6b62 <code>except</code> \u5757\u610f\u5916\u6355\u83b7\u975e\u5e38\u6709\u7528\u3002</p> <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u7a0b\u5e8f\u5b9e\u73b0\u4e86\u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u7684\u9664\u6cd5\u51fd\u6570\uff1a Python<pre><code>def divide(x, y):\n    try:\n        result = x / y\n    except ZeroDivisionError:\n        print(\"Error: Division by zero.\")\n    else:\n        print(f\"Result is {result}\")\n    finally:\n        print(\"Executing finally clause.\")\n</code></pre></p> <p>\u5982\u679c\u6ca1\u6709\u9047\u5230 <code>ZeroDivisionError</code>\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a</p> Python<pre><code>divide(2077, 1)\n# Result is 2077.0\n# Executing finally clause.\n</code></pre> <p>\u5f53\u7136\uff0c\u5982\u679c\u6ee1\u8db3\u5b9a\u4e49\u7684\u5f02\u5e38\uff0c\u5219\u4f1a\u6253\u5370\u76f8\u5173\u7684 <code>Error</code> \u6d88\u606f\uff1a Python<pre><code>divide(2077, 0)\n# Error: Division by zero.\n# Executing finally clause.\n</code></pre></p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-03-21-Python-%E9%87%8C%E9%9D%A2%E6%B2%A1-if-%E4%B9%9F%E8%83%BD%E7%94%A8-else-dis61/#_1","title":"\u8981\u70b9\u603b\u7ed3","text":"<p>\u5728 Python \u4e2d\uff0celse \u8bed\u53e5\u4e0d\u4e00\u5b9a\u4f4d\u4e8e if \u8bed\u53e5\u4e4b\u540e\u3002</p> <p>\u5b83\u8fd8\u6709\u4e09\u4e2a\u989d\u5916\u4f46\u9c9c\u4e3a\u4eba\u77e5\u7684\u7528\u9014\uff1a     </p> <ul> <li>while-else \u5faa\u73af     </li> <li>for-else \u5faa\u73af     </li> <li>\u4f7f\u7528 else \u5757\u8fdb\u884c\u5f02\u5e38\u5904\u7406     </li> </ul> <p>\u4f46\u662f\uff0c\u6211\u4e0d\u5efa\u8bae\u60a8\u5728\u751f\u4ea7\u4e2d\u9891\u7e41\u5e94\u7528\u5b83\u4eec\uff0c\u56e0\u4e3a\u4f7f\u7528\u9c9c\u4e3a\u4eba\u77e5\u7684\u529f\u80fd\u53ef\u80fd\u4f1a\u964d\u4f4e\u53ef\u8bfb\u6027\u5e76\u4f7f\u60a8\u7684\u540c\u4e8b\u611f\u5230\u56f0\u60d1\u3002\u4f46\u7406\u89e3\u5e76\u968f\u610f\u5e94\u7528\u5b83\u4eec\u4f1a\u7ed9\u4f60\u7684\u540c\u4e8b\u7559\u4e0b\u6df1\u523b\u7684\u5370\u8c61\uff0c\u5e76\u5de9\u56fa\u4f60\u4f5c\u4e3a \"Python \u5927\u5e08\" \u7684\u5730\u4f4d\u3002 \ud83d\ude0e</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/","title":"\u4f7f\u7528 Python \u7684 argparse \u6784\u5efa\u547d\u4ee4\u884c\u754c\u9762","text":"<p>\u539f\u6587\uff1aBuild Command-Line Interfaces With Python's argparse </p> <p>\u547d\u4ee4\u884c\u5e94\u7528\u5728\u666e\u901a\u7528\u6237\u7a7a\u95f4\u4e2d\u53ef\u80fd\u5e76\u4e0d\u5e38\u89c1\uff0c\u4f46\u5b83\u4eec\u5b58\u5728\u4e8e\u5f00\u53d1\u3001\u6570\u636e\u79d1\u5b66\u3001\u7cfb\u7edf\u7ba1\u7406\u548c\u8bb8\u591a\u5176\u4ed6\u64cd\u4f5c\u4e2d\u3002\u6bcf\u4e2a\u547d\u4ee4\u884c\u5e94\u7528\u90fd\u9700\u8981\u4e00\u4e2a\u7528\u6237\u53cb\u597d\u7684\u547d\u4ee4\u884c\u754c\u9762 \uff08CLI\uff09\uff0c\u4ee5\u4fbf\u4f60\u53ef\u4ee5\u4e0e\u5e94\u7528\u672c\u8eab\u8fdb\u884c\u4ea4\u4e92\u3002\u5728 Python \u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u6807\u51c6\u5e93\u4e2d\u7684 <code>argparse</code> \u6a21\u5757\u521b\u5efa\u529f\u80fd\u9f50\u5168\u7684 CLI\u3002</p> <p>\u5728\u672c\u6587\u4e2d\uff0c\u4f60\u5c06\u4e86\u89e3\u5982\u4f55\uff1a    </p> <ul> <li>\u547d\u4ee4\u884c\u754c\u9762\u5165\u95e8\uff1b</li> <li>\u5728 Python \u4e2d\u7ec4\u7ec7\u548c\u5e03\u5c40\u547d\u4ee4\u884c\u5e94\u7528\u9879\u76ee\uff1b</li> <li>\u4f7f\u7528 Python <code>argparse</code> \u521b\u5efa\u547d\u4ee4\u884c\u754c\u9762\uff08command-line interfaces\uff09\uff1b</li> <li>\u4f7f\u7528 <code>argparse</code> \u4e00\u4e9b\u5f3a\u5927\u7684\u529f\u80fd\u6df1\u5ea6\u81ea\u5b9a\u4e49\u60a8\u7684 CLI\uff1b</li> </ul> <p>\u82e5\u8981\u5145\u5206\u5229\u7528\u672c\u6559\u7a0b\uff0c\u5e94\u719f\u6089 Python \u7f16\u7a0b\uff0c\u5305\u62ec\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u3001\u811a\u672c\u5f00\u53d1\u548c\u6267\u884c\u4ee5\u53ca Python \u5305\u548c\u6a21\u5757\u7b49\u6982\u5ff5\u3002\u5982\u679c\u60a8\u719f\u6089\u4e0e\u4f7f\u7528\u547d\u4ee4\u884c\u6216\u7ec8\u7aef\u76f8\u5173\u7684\u4e00\u822c\u6982\u5ff5\u548c\u4e3b\u9898\uff0c\u8fd9\u4e5f\u5c06\u5f88\u6709\u5e2e\u52a9\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#_1","title":"\u4e86\u89e3\u547d\u4ee4\u884c\u754c\u9762","text":"<p>\u81ea\u4ece\u8ba1\u7b97\u673a\u53d1\u660e\u4ee5\u6765\uff0c\u4eba\u7c7b\u4e00\u76f4\u9700\u8981\u5e76\u627e\u5230\u4e0e\u8fd9\u4e9b\u673a\u5668\u4ea4\u4e92\u548c\u5171\u4eab\u4fe1\u606f\u7684\u65b9\u6cd5\u3002\u4fe1\u606f\u4ea4\u6362\u5728\u4eba\u3001\u8ba1\u7b97\u673a\u8f6f\u4ef6\u548c\u786c\u4ef6\u7ec4\u4ef6\u4e4b\u95f4\u6d41\u52a8\u3002\u5176\u4e2d\u4efb\u610f\u4e24\u4e2a\u5143\u7d20\u4e4b\u95f4\u7684\u5171\u4eab\u8fb9\u754c\u901a\u5e38\u79f0\u4e3a\u63a5\u53e3(interface)\u3002</p> <p>\u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\uff0c\u63a5\u53e3\u662f\u7ed9\u5b9a\u8f6f\u4ef6\u7684\u7279\u6b8a\u90e8\u5206\uff0c\u5b83\u5141\u8bb8\u8ba1\u7b97\u673a\u7cfb\u7edf\u7ec4\u4ef6\u4e4b\u95f4\u7684\u4ea4\u4e92\u3002\u5f53\u6d89\u53ca\u5230\u4eba\u673a\u4ea4\u4e92\u548c\u8f6f\u4ef6\u4ea4\u4e92\u65f6\uff0c\u8fd9\u4e2a\u91cd\u8981\u7684\u7ec4\u4ef6\u88ab\u79f0\u4e3a\u7528\u6237\u754c\u9762\uff08user interface\uff09\u3002</p> <p>\u60a8\u4f1a\u5728\u7f16\u7a0b\u4e2d\u627e\u5230\u4e0d\u540c\u7c7b\u578b\u7684\u7528\u6237\u754c\u9762\u3002\u56fe\u5f62\u7528\u6237\u754c\u9762 \uff08GUI\uff09 \u53ef\u80fd\u662f\u5f53\u4eca\u6700\u5e38\u89c1\u7684\u3002\u4f46\u662f\uff0c\u60a8\u8fd8\u53ef\u4ee5\u627e\u5230\u4e3a\u5176\u7528\u6237\u63d0\u4f9b\u547d\u4ee4\u884c\u754c\u9762 \uff08CLI\uff09 \u7684\u5e94\u7528\u548c\u7a0b\u5e8f\u3002\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u4f60\u5c06\u4e86\u89e3 CLI \u4ee5\u53ca\u5982\u4f55\u5728 Python \u4e2d\u521b\u5efa\u5b83\u4eec\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#cli","title":"\u547d\u4ee4\u884c\u754c\u9762 \uff08CLI\uff09","text":"<p>\u547d\u4ee4\u884c\u754c\u9762\u5141\u8bb8\u60a8\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u547d\u4ee4\u884c\u3001\u7ec8\u7aef\u6216\u63a7\u5236\u53f0\u4e0e\u5e94\u7528\u7a0b\u5e8f\u6216\u7a0b\u5e8f\u8fdb\u884c\u4ea4\u4e92\u3002</p> <p>\u8981\u4e86\u89e3\u547d\u4ee4\u884c\u754c\u9762\u53ca\u5176\u5de5\u4f5c\u539f\u7406\uff0c\u8bf7\u8003\u8651\u6b64\u5b9e\u9645\u793a\u4f8b\u3002\u5047\u8bbe\u60a8\u6709\u4e00\u4e2a\u540d\u4e3a sample \u5305\u542b\u4e09\u4e2a\u793a\u4f8b\u6587\u4ef6\u7684\u76ee\u5f55\u3002\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f\u7c7b Unix \u64cd\u4f5c\u7cfb\u7edf\uff0c\u4f8b\u5982 Linux \u6216 macOS\uff0c\u8bf7\u7ee7\u7eed\u5728\u7236\u76ee\u5f55\u4e2d\u6253\u5f00\u547d\u4ee4\u884c\u7a97\u53e3\u6216\u7ec8\u7aef\uff0c\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a   Bash<pre><code>$ ls sample/\nhello.txt     lorem.md      realpython.md\n</code></pre></p> <p>Unix \u7684 <code>ls</code> \u547d\u4ee4\u5217\u51fa\u76ee\u6807\u76ee\u5f55\u4e2d\u5305\u542b\u7684\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u9ed8\u8ba4\u4e3a\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002\u4e0a\u9762\u7684\u547d\u4ee4\u8c03\u7528\u6ca1\u6709\u663e\u793a\u6709\u5173 \u7684\u5185\u5bb9 sample \u7684\u592a\u591a\u4fe1\u606f\u3002\u5b83\u53ea\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\u6587\u4ef6\u540d\u3002</p> <p>\u5047\u8bbe\u4f60\u60f3\u8981\u83b7\u53d6\u6709\u5173\u76ee\u5f55\u53ca\u5176\u5185\u5bb9\u7684\u66f4\u4e30\u5bcc\u4fe1\u606f\uff0c\u90a3\u4e48\u4f60\u4e0d\u9700\u8981\u5bfb\u627e\u5176\u4ed6\u7a0b\u5e8f\uff0c\u56e0\u4e3a ls \u547d\u4ee4\u6709\u4e00\u4e2a\u529f\u80fd\u9f50\u5168\u7684\u547d\u4ee4\u884c\u754c\u9762\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u4e00\u7ec4\u6709\u7528\u7684\u9009\u9879\uff0c\u53ef\u4ee5\u7528\u6765\u5b9a\u5236\u547d\u4ee4\u7684\u884c\u4e3a\u3002</p> <p>\u4f8b\u5982\uff0c\u7ee7\u7eed\u6267\u884c\u5e26\u6709 <code>-l</code> \u9009\u9879\u7684 <code>ls</code> \u547d\u4ee4\uff1a   Bash<pre><code>$ ls -l sample/\ntotal 24\n-rw-r--r--@ 1 user  staff    83 Aug 17 22:15 hello.txt\n-rw-r--r--@ 1 user  staff  2609 Aug 17 22:15 lorem.md\n-rw-r--r--@ 1 user  staff   428 Aug 17 22:15 realpython.md\n</code></pre></p> <p>\u73b0\u5728\uff0c<code>ls</code> \u547d\u4ee4\u7684\u8f93\u51fa\u5b8c\u5168\u4e0d\u540c\u4e86\u3002\u8be5\u547d\u4ee4\u663e\u793a\u4e86\u6709\u5173 sample \u76ee\u5f55\u4e2d\u6587\u4ef6\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u5305\u62ec\u6743\u9650\u3001\u6240\u6709\u8005\u3001\u7ec4\u3001\u65e5\u671f\u548c\u5927\u5c0f\u3002\u5b83\u8fd8\u663e\u793a\u4e86\u8fd9\u4e9b\u6587\u4ef6\u5728\u4f60\u8ba1\u7b97\u673a\u78c1\u76d8\u4e0a\u4f7f\u7528\u7684\u603b\u7a7a\u95f4\u3002</p> <p>\u8fd9\u79cd\u66f4\u4e30\u5bcc\u7684\u8f93\u51fa\u7ed3\u679c\u662f\u7531\u4e8e\u4f7f\u7528\u4e86 <code>-l</code> \u9009\u9879\uff0c\u8fd9\u662f Unix <code>ls</code> \u547d\u4ee4\u884c\u754c\u9762\u7684\u4e00\u90e8\u5206\uff0c\u5b83\u542f\u7528\u4e86\u8be6\u7ec6\u7684\u8f93\u51fa\u683c\u5f0f\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#_2","title":"\u547d\u4ee4\u3001\u53c2\u6570\u3001\u9009\u9879\u3001\u53c2\u6570\u548c\u5b50\u547d\u4ee4","text":"<p>\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u6df1\u5165\u4e86\u89e3\u547d\u4ee4(commands)\u53ca\u5176\u5b50\u547d\u4ee4(subcommands)\uff0c\u540c\u65f6\u8fd8\u4f1a\u5b66\u4e60\u5230\u547d\u4ee4\u884c\u53c2\u6570(command-line arguments)\u3001\u9009\u9879(options)\u548c\u53c2\u6570(parameters)\u7684\u76f8\u5173\u77e5\u8bc6\u3002\u56e0\u6b64\uff0c\u5efa\u8bae\u60a8\u5c06\u8fd9\u4e9b\u672f\u8bed\u7eb3\u5165\u60a8\u7684\u6280\u672f\u8bcd\u6c47\u5e93\u4e2d\u3002</p> <ul> <li>\u547d\u4ee4(Command)\uff1a\u5728\u547d\u4ee4\u884c\u6216\u7ec8\u7aef\u7a97\u53e3\u4e2d\u8fd0\u884c\u7684\u7a0b\u5e8f\u6216\u4f8b\u7a0b\u3002\u901a\u5e38\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5176\u80cc\u540e\u7684\u7a0b\u5e8f(underlying program)\u6216\u4f8b\u7a0b(routine)\u7684\u540d\u79f0\u6765\u8bc6\u522b\u4e00\u4e2a\u547d\u4ee4\u3002     </li> <li>\u53c2\u6570(Argument)\uff1a\u547d\u4ee4\u5728\u6267\u884c\u5176\u9884\u671f\u64cd\u4f5c\u65f6\u6240\u9700\u6216\u53ef\u9009\u7684\u4fe1\u606f\u7247\u6bb5\u3002\u547d\u4ee4\u901a\u5e38\u63a5\u53d7\u4e00\u4e2a\u6216\u591a\u4e2a\u53c2\u6570\uff0c\u60a8\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u4ee5\u7a7a\u683c\u5206\u9694\u6216\u9017\u53f7\u5206\u9694\u7684\u5217\u8868\u5f62\u5f0f\u63d0\u4f9b\u8fd9\u4e9b\u53c2\u6570\u3002     </li> <li>\u9009\u9879(Option)\uff0c\u4e5f\u79f0\u4e3a flag \u6216 switch\uff1a\u4e00\u79cd\u53ef\u9009\u7684\u53c2\u6570\uff0c\u7528\u4e8e\u4fee\u6539\u547d\u4ee4\u7684\u884c\u4e3a\u3002\u9009\u9879\u901a\u8fc7\u7279\u5b9a\u7684\u540d\u79f0\uff08\u5982\u524d\u4e00\u4e2a\u793a\u4f8b\u4e2d\u7684 <code>-l</code>\uff09\u4f20\u9012\u7ed9\u547d\u4ee4\u3002     </li> <li>\u53c2\u6570(Parameter)\uff1a\u4e00\u4e2a\u9009\u9879\u7528\u4e8e\u6267\u884c\u5176\u9884\u671f\u64cd\u4f5c\u6216\u52a8\u4f5c\u65f6\u6240\u4f7f\u7528\u7684\u53c2\u6570\u3002     </li> <li>\u5b50\u547d\u4ee4(Subcommand)**\uff1a\u4e00\u4e2a\u9884\u5b9a\u4e49\u7684\u540d\u79f0\uff0c\u53ef\u4ee5\u4f20\u9012\u7ed9\u5e94\u7528\u7a0b\u5e8f\u6765\u6267\u884c\u7279\u5b9a\u7684\u64cd\u4f5c\u3002</li> </ul> <p>\u53c2\u8003\u4e0a\u4e00\u8282\u4e2d\u7684\u793a\u4f8b\u547d\u4ee4\u7ed3\u6784\uff1a Bash<pre><code>$ ls -l sample/\n</code></pre></p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u60a8\u7ec4\u5408\u4e86\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u7684\u4ee5\u4e0b\u7ec4\u4ef6\uff1a    </p> <ul> <li>ls\uff1a\u547d\u4ee4\u7684\u540d\u79f0\u6216\u5e94\u7528\u7684\u540d\u79f0\uff1b</li> <li>-l\uff1a\u542f\u7528\u8be6\u7ec6\u8f93\u51fa\u7684\u9009\u9879(option)\u3001\u5f00\u5173(switch)\u6216\u6807\u5fd7(flag)\uff1b    </li> <li>sample\uff1a\u4e3a\u547d\u4ee4\u6267\u884c\u63d0\u4f9b\u9644\u52a0\u4fe1\u606f\u7684\u53c2\u6570(argument)\uff1b    </li> </ul> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u4e0b\u9762\u7684\u547d\u4ee4\u7ed3\u6784\uff0c\u5b83\u5c55\u793a\u4e86 Python \u5305\u7ba1\u7406\u5668 <code>pip</code> \u7684\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\uff1a   Bash<pre><code>$ pip install -r requirements.txt\n</code></pre></p> <p>\u8fd9\u662f\u4e00\u4e2a\u5e38\u89c1\u7684 <code>pip</code> \u547d\u4ee4\u7ed3\u6784\uff0c\u60a8\u53ef\u80fd\u4e4b\u524d\u5df2\u7ecf\u89c1\u8fc7\u3002\u5b83\u5141\u8bb8\u60a8\u4f7f\u7528 <code>requirements.txt</code> \u6587\u4ef6\u6765\u7ed9\u6307\u5b9a\u7684 Python \u9879\u76ee\u5b89\u88c5\u4f9d\u8d56\u9879\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u60a8\u4f7f\u7528\u4e86\u4ee5\u4e0b\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u7ec4\u4ef6\uff1a   </p> <ul> <li>pip\uff1a\u547d\u4ee4\u7684\u540d\u79f0\uff1b</li> <li>install\uff1a<code>pip</code> \u7684\u5b50\u547d\u4ee4(subcommand)\u540d\u79f0\uff1b</li> <li>-r\uff1a<code>install</code> \u5b50\u547d\u4ee4\u7684\u9009\u9879(option)\uff1b</li> <li>requirements.txt\uff1a\u4e00\u4e2a\u53c2\u6570\uff0c\u7279\u522b\u662f <code>-r</code> \u9009\u9879\u7684\u53c2\u6570\u3002</li> </ul> <p>\u73b0\u5728\u60a8\u5df2\u7ecf\u4e86\u89e3\u4e86\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u662f\u4ec0\u4e48\u4ee5\u53ca\u5176\u4e3b\u8981\u90e8\u5206\u6216\u7ec4\u4ef6\u6709\u54ea\u4e9b\u3002\u63a5\u4e0b\u6765\uff0c\u662f\u65f6\u5019\u5b66\u4e60\u5982\u4f55\u5728 Python \u4e2d\u521b\u5efa\u81ea\u5df1\u7684 CLI \u4e86\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#python-cli","title":"Python \u4e2d\u7684 CLI \u5165\u95e8","text":"<p>Python \u9644\u5e26\u4e86\u4e00\u4e9b\u5de5\u5177\uff0c\u8fd9\u4e9b\u5de5\u5177\u53ef\u5e2e\u52a9\u60a8\u4e3a\u7a0b\u5e8f\u548c\u5e94\u7528\u7a0b\u5e8f\u7f16\u5199\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u3002\u82e5\u60a8\u9700\u8981\u5feb\u901f\u4e3a\u5c0f\u578b\u7a0b\u5e8f\u6784\u5efa\u4e00\u4e2a\u7b80\u6d01\u7684 CLI\uff0c\u90a3\u4e48\u53ef\u4ee5\u5229\u7528 <code>sys</code> \u6a21\u5757\u4e2d\u7684 <code>argv</code> \u5c5e\u6027\u3002\u8fd9\u4e2a\u5c5e\u6027\u4f1a\u81ea\u52a8\u5b58\u50a8\u60a8\u5728\u547d\u4ee4\u884c\u4e2d\u4f20\u9012\u7ed9\u7279\u5b9a\u7a0b\u5e8f\u7684\u53c2\u6570\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#sysargv-cli","title":"\u4f7f\u7528 <code>sys.argv</code> \u6784\u5efa\u6700\u5c0f\u7684 CLI","text":"<p>\u4ee5\u4f7f\u7528 <code>argv</code> \u521b\u5efa\u6700\u5c0f\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u4e3a\u4f8b\uff0c\u5047\u8bbe\u60a8\u9700\u8981\u7f16\u5199\u4e00\u4e2a\u5c0f\u7a0b\u5e8f\uff0c\u8be5\u7a0b\u5e8f\u7c7b\u4f3c\u4e8e <code>ls</code> \u547d\u4ee4\uff0c\u80fd\u591f\u5217\u51fa\u7ed9\u5b9a\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u7f16\u5199\u5982\u4e0b\u4ee3\u7801\uff1a   Python<pre><code># ls_argv.py\n\nimport sys\nfrom pathlib import Path\n\nif (args_count := len(sys.argv)) &gt; 2:\n    print(f\"One argument expected, got {args_count - 1}\")\n    raise SystemExit(2)\nelif args_count &lt; 2:\n    print(\"You must specify the target directory\")\n    raise SystemExit(2)\n\ntarget_dir = Path(sys.argv[1])\n\nif not target_dir.is_dir():\n    print(\"The target directory doesn't exist\")\n    raise SystemExit(1)\n\nfor entry in target_dir.iterdir():\n    print(entry.name)\n</code></pre></p> <p>\u8be5\u7a0b\u5e8f\u901a\u8fc7\u624b\u52a8\u5904\u7406\u547d\u4ee4\u884c\u63d0\u4f9b\u7684\u53c2\u6570\u6765\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\uff0c\u8fd9\u4e9b\u53c2\u6570\u4f1a\u81ea\u52a8\u5b58\u50a8\u5728 <code>sys.argv</code> \u4e2d\u3002<code>sys.argv</code> \u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u59cb\u7ec8\u662f\u7a0b\u5e8f\u540d\u79f0\uff0c\u7b2c\u4e8c\u4e2a\u5143\u7d20\u5219\u662f\u76ee\u6807\u76ee\u5f55\u3002\u7531\u4e8e\u5e94\u7528\u7a0b\u5e8f\u4e0d\u5e94\u63a5\u53d7\u8d85\u8fc7\u4e00\u4e2a\u76ee\u6807\u76ee\u5f55\uff0c\u56e0\u6b64 <code>args_count</code> \u4e0d\u5f97\u8d85\u8fc7 2\u3002</p> <p>\u5728\u68c0\u67e5 <code>sys.argv</code> \u7684\u5185\u5bb9\u540e\uff0c\u60a8\u521b\u5efa\u4e00\u4e2a<code>pathlib.Path</code>\u5bf9\u8c61\u6765\u5b58\u50a8\u76ee\u6807\u76ee\u5f55\u7684\u8def\u5f84\u3002\u5982\u679c\u8be5\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u60a8\u5c06\u901a\u77e5\u7528\u6237\u5e76\u9000\u51fa\u7a0b\u5e8f\u3002\u63a5\u4e0b\u6765\u7684<code>for</code>\u5faa\u73af\u5c06\u5217\u51fa\u76ee\u5f55\u5185\u5bb9\uff0c\u6bcf\u884c\u4e00\u4e2a\u6761\u76ee\u3002</p> <p>\u5982\u679c\u4ece\u547d\u4ee4\u884c\u8fd0\u884c\u8be5\u811a\u672c\uff0c\u60a8\u5c06\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a   Bash<pre><code>$ python ls_argv.py sample/\nhello.txt\nlorem.md\nrealpython.md\n\n$ python ls_argv.py\nYou must specify the target directory\n\n$ python ls_argv.py sample/ other_dir/\nOne argument expected, got 2\n\n$ python ls_argv.py non_existing/\nThe target directory doesn't exist\n</code></pre></p> <p>\u60a8\u7684\u7a0b\u5e8f\u63a5\u53d7\u4e00\u4e2a\u76ee\u5f55\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u5217\u51fa\u5176\u5185\u5bb9\u3002\u5982\u679c\u60a8\u8fd0\u884c\u547d\u4ee4\u65f6\u6ca1\u6709\u63d0\u4f9b\u53c2\u6570\uff0c\u60a8\u5c06\u6536\u5230\u4e00\u4e2a\u9519\u8bef\u6d88\u606f\u3002\u5982\u679c\u60a8\u8fd0\u884c\u547d\u4ee4\u65f6\u6307\u5b9a\u4e86\u8d85\u8fc7\u4e00\u4e2a\u76ee\u6807\u76ee\u5f55\uff0c\u60a8\u540c\u6837\u4f1a\u6536\u5230\u4e00\u4e2a\u9519\u8bef\u6d88\u606f\u3002\u5982\u679c\u5c1d\u8bd5\u8fd0\u884c\u547d\u4ee4\u5e76\u6307\u5b9a\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u76ee\u5f55\uff0c\u7a0b\u5e8f\u5c06\u8f93\u51fa\u53e6\u4e00\u4e2a\u9519\u8bef\u6d88\u606f\u3002</p> <p>\u867d\u7136\u60a8\u7684\u7a0b\u5e8f\u8fd0\u884c\u6b63\u5e38\uff0c\u4f46\u5bf9\u4e8e\u66f4\u590d\u6742\u7684 CLI \u5e94\u7528\u7a0b\u5e8f\u6765\u8bf4\uff0c\u4f7f\u7528<code>sys.argv</code>\u5c5e\u6027\u624b\u52a8\u89e3\u6790\u547d\u4ee4\u884c\u53c2\u6570\u5e76\u4e0d\u662f\u4e00\u4e2a\u53ef\u6269\u5c55\u7684\u89e3\u51b3\u65b9\u6848\u3002\u5982\u679c\u60a8\u7684\u5e94\u7528\u9700\u8981\u63a5\u53d7\u66f4\u591a\u7684\u53c2\u6570\u548c\u9009\u9879\uff0c\u90a3\u4e48\u89e3\u6790<code>sys.argv</code>\u5c06\u53d8\u5f97\u590d\u6742\u4e14\u5bb9\u6613\u51fa\u9519\u3002\u60a8\u9700\u8981\u4e00\u4e2a\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u8fd9\u5c31\u662f Python \u4e2d\u7684<code>argparse</code>\u6a21\u5757\u6240\u63d0\u4f9b\u7684\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#argparse-cli","title":"\u4f7f\u7528 <code>argparse</code> \u521b\u5efa CLI","text":"<p>\u5728 Python \u4e2d\u521b\u5efa CLI \u5e94\u7528\u7a0b\u5e8f\u7684\u66f4\u4fbf\u6377\u65b9\u6cd5\u662f\u4f7f\u7528\u6807\u51c6\u5e93\u4e2d\u7684 <code>argparse</code> \u6a21\u5757\u3002\u8be5\u6a21\u5757\u9996\u6b21\u5728 Python 3.2 \u4e2d\u968f PEP-389 \u4e00\u540c\u53d1\u5e03\uff0c\u662f\u5feb\u901f\u521b\u5efa Python CLI \u5e94\u7528\u7a0b\u5e8f\u7684\u5229\u5668\uff0c\u65e0\u9700\u5b89\u88c5\u5982 Typer \u6216 Click \u8fd9\u6837\u7684\u7b2c\u4e09\u65b9\u5e93\u3002</p> <p><code>argparse</code> \u6a21\u5757\u662f\u4f5c\u4e3a\u8f83\u65e7\u7684 <code>getopt</code> \u548c <code>optparse</code> \u6a21\u5757\u7684\u66ff\u4ee3\u54c1\u800c\u53d1\u5e03\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u7f3a\u4e4f\u4e00\u4e9b\u91cd\u8981\u7684\u529f\u80fd\u3002</p> <p>Python \u7684 <code>argparse</code> \u6a21\u5757\u5141\u8bb8\u60a8\uff1a     </p> <ul> <li>\u89e3\u6790\u547d\u4ee4\u884c\u53c2\u6570(arguments)\u548c\u9009\u9879(options)\uff1b</li> <li>\u5728\u4e00\u4e2a\u5355\u4e00\u9009\u9879\u4e2d\u63a5\u53d7\u53ef\u53d8\u6570\u91cf\u7684\u53c2\u6570(variable number of parameters)\uff1b</li> <li>\u5728 CLI \u4e2d\u63d0\u4f9b\u5b50\u547d\u4ee4(subcommands)\u3002</li> </ul> <p>\u8fd9\u4e9b\u7279\u6027\u4f7f <code>argparse</code> \u6210\u4e3a\u4e86\u4e00\u4e2a\u5f3a\u5927\u7684 CLI \u6846\u67b6\uff0c\u60a8\u5728\u521b\u5efa CLI \u5e94\u7528\u7a0b\u5e8f\u65f6\u53ef\u4ee5\u653e\u5fc3\u5730\u4f9d\u8d56\u5b83\u3002\u8981\u4f7f\u7528 Python \u7684 <code>argparse</code>\uff0c\u60a8\u9700\u8981\u9075\u5faa\u4ee5\u4e0b\u56db\u4e2a\u7b80\u5355\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u5bfc\u5165 <code>argparse</code>\uff1b</li> <li>\u901a\u8fc7\u5b9e\u4f8b\u5316 <code>ArgumentParser</code> \u521b\u5efa\u53c2\u6570\u89e3\u6790\u5668(argument parser)\uff1b</li> <li>\u4f7f\u7528 <code>.add_argument()</code> \u65b9\u6cd5\u5411\u89e3\u6790\u5668\u6dfb\u52a0\u53c2\u6570(arguments)\u548c\u9009\u9879(options)\uff1b</li> <li>\u5728\u89e3\u6790\u5668\u4e0a\u8c03\u7528 <code>.parse_args()</code> \u4ee5\u83b7\u53d6\u53c2\u6570 <code>Namespace</code>\u3002</li> </ol> <p>\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>argparse</code> \u6765\u6539\u8fdb\u60a8\u7684 <code>ls_argv.py</code> \u811a\u672c\u3002\u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>ls.py</code> \u7684\u811a\u672c\uff0c\u5e76\u7f16\u5199\u4ee5\u4e0b\u4ee3\u7801\uff1a Python<pre><code># ls.py v1\n\nimport argparse\nfrom pathlib import Path\n\nparser = argparse.ArgumentParser()\n\nparser.add_argument(\"path\")\n\nargs = parser.parse_args()\n\ntarget_dir = Path(args.path)\n\nif not target_dir.exists():\n    print(\"The target directory doesn't exist\")\n    raise SystemExit(1)\n\nfor entry in target_dir.iterdir():\n    print(entry.name)\n</code></pre></p> <p>\u968f\u7740 <code>argparse</code> \u7684\u5f15\u5165\uff0c\u60a8\u7684\u4ee3\u7801\u53d1\u751f\u4e86\u663e\u8457\u7684\u53d8\u5316\u3002\u4e0e\u4e4b\u524d\u7684\u7248\u672c\u76f8\u6bd4\uff0c\u6700\u660e\u663e\u7684\u4e0d\u540c\u662f\uff0c\u7528\u4e8e\u68c0\u67e5\u7528\u6237\u63d0\u4f9b\u7684\u53c2\u6570\u7684\u6761\u4ef6\u8bed\u53e5\u5df2\u7ecf\u6d88\u5931\u4e86\u3002\u8fd9\u662f\u56e0\u4e3a <code>argparse</code> \u4f1a\u81ea\u52a8\u4e3a\u60a8\u68c0\u67e5\u53c2\u6570\u7684\u5b58\u5728\u6027\u3002</p> <p>\u5728\u8fd9\u4e2a\u65b0\u7684\u5b9e\u73b0\u4e2d\uff0c\u60a8\u9996\u5148\u5bfc\u5165 <code>argparse</code> \u5e76\u521b\u5efa\u4e00\u4e2a\u53c2\u6570\u89e3\u6790\u5668\u3002\u8981\u521b\u5efa\u89e3\u6790\u5668\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>ArgumentParser</code> \u7c7b\u3002\u63a5\u4e0b\u6765\uff0c\u60a8\u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3a <code>path</code> \u7684\u53c2\u6570\uff0c\u7528\u4e8e\u83b7\u53d6\u7528\u6237\u7684\u76ee\u6807\u76ee\u5f55\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u60a8\u9700\u8981\u8c03\u7528 <code>.parse_args()</code> \u65b9\u6cd5\u6765\u89e3\u6790\u8f93\u5165\u53c2\u6570\uff0c\u5e76\u83b7\u53d6\u4e00\u4e2a\u5305\u542b\u6240\u6709\u7528\u6237\u53c2\u6570\u7684 <code>Namespace</code> \u5bf9\u8c61\u3002\u8bf7\u6ce8\u610f\uff0c\u73b0\u5728 <code>args</code> \u53d8\u91cf\u4fdd\u5b58\u4e86\u4e00\u4e2a <code>Namespace</code> \u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u5177\u6709\u4ece\u547d\u4ee4\u884c\u6536\u96c6\u7684\u6bcf\u4e2a\u53c2\u6570\u6240\u5bf9\u5e94\u7684\u5c5e\u6027\u3002</p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u60a8\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u540d\u4e3a <code>path</code>\u3002<code>Namespace</code> \u5bf9\u8c61\u5141\u8bb8\u60a8\u4f7f\u7528\u70b9\u8868\u793a\u6cd5\u901a\u8fc7 <code>args</code> \u6765\u8bbf\u95ee <code>path</code>\u3002\u5176\u4f59\u7684\u4ee3\u7801\u4e0e\u7b2c\u4e00\u4e2a\u5b9e\u73b0\u76f8\u540c\u3002</p> <p>\u73b0\u5728\u7ee7\u7eed\u4ece\u547d\u4ee4\u884c\u8fd0\u884c\u8fd9\u4e2a\u65b0\u811a\u672c\uff1a Bash<pre><code>$ python ls.py sample/\nlorem.md\nrealpython.md\nhello.txt\n\n$ python ls.py\nusage: ls.py [-h] path\nls.py: error: the following arguments are required: path\n\n$ python ls.py sample/ other_dir/\nusage: ls.py [-h] path\nls.py: error: unrecognized arguments: other_dir/\n\n$ python ls.py non_existing/\nThe target directory doesn't exist\n</code></pre></p> <p>\u7b2c\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\u4e0e\u60a8\u7684\u539f\u59cb\u811a\u672c <code>ls_argv.py</code> \u76f8\u540c\u3002\u800c\u7b2c\u4e8c\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\u5219\u4e0e <code>ls_argv.py</code> \u4e2d\u7684\u8f93\u51fa\u5927\u4e0d\u76f8\u540c\u3002\u7a0b\u5e8f\u73b0\u5728\u4f1a\u663e\u793a\u4e00\u4e2a\u4f7f\u7528\u8bf4\u660e\u6d88\u606f\uff0c\u5e76\u53d1\u51fa\u9519\u8bef\u63d0\u793a\uff0c\u544a\u8bc9\u60a8\u5fc5\u987b\u63d0\u4f9b <code>path</code> \u53c2\u6570\u3002</p> <p>\u5728\u7b2c\u4e09\u4e2a\u547d\u4ee4\u4e2d\uff0c\u60a8\u4f20\u9012\u4e86\u4e24\u4e2a\u76ee\u6807\u76ee\u5f55\uff0c\u4f46\u5e94\u7528\u7a0b\u5e8f\u5e76\u672a\u4e3a\u6b64\u505a\u597d\u51c6\u5907\u3002\u56e0\u6b64\uff0c\u5b83\u518d\u6b21\u663e\u793a\u4f7f\u7528\u8bf4\u660e\u6d88\u606f\uff0c\u5e76\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u544a\u77e5\u60a8\u6f5c\u5728\u7684\u95ee\u9898\u3002</p> <p>\u6700\u540e\uff0c\u5982\u679c\u60a8\u8fd0\u884c\u811a\u672c\u65f6\u4f20\u9012\u4e86\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u76ee\u5f55\u4f5c\u4e3a\u53c2\u6570\uff0c\u90a3\u4e48\u60a8\u4f1a\u6536\u5230\u4e00\u4e2a\u9519\u8bef\uff0c\u544a\u77e5\u60a8\u76ee\u6807\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u56e0\u6b64\u7a0b\u5e8f\u65e0\u6cd5\u6267\u884c\u5176\u5de5\u4f5c\u3002</p> <p>\u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u65b0\u7684\u9690\u5f0f\u7279\u6027\u3002\u73b0\u5728\uff0c\u60a8\u7684\u7a0b\u5e8f\u63a5\u53d7\u4e00\u4e2a\u53ef\u9009\u7684 <code>-h</code> \u6807\u5fd7\u3002\u4e0d\u59a8\u5c1d\u8bd5\u4e00\u4e0b\uff1a Bash<pre><code>$ python ls.py -h\nusage: ls.py [-h] path\n\npositional arguments:\n  path\n\noptions:\n  -h, --help  show this help message and exit\n</code></pre></p> <p>\u592a\u68d2\u4e86\uff0c\u73b0\u5728\u60a8\u7684\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u54cd\u5e94 <code>-h</code> \u6216 <code>--help</code> \u6807\u5fd7\uff0c\u5e76\u4e3a\u60a8\u663e\u793a\u5e26\u6709\u4f7f\u7528\u8bf4\u660e\u7684\u5e2e\u52a9\u6d88\u606f\u3002\u8fd9\u771f\u662f\u4e00\u4e2a\u5f88\u68d2\u7684\u7279\u6027\uff0c\u800c\u4e14\u60a8\u53ea\u9700\u5728\u4ee3\u7801\u4e2d\u5f15\u5165 <code>argparse</code> \u5c31\u80fd\u8f7b\u677e\u83b7\u5f97\uff01</p> <p>\u7ecf\u8fc7\u8fd9\u4e2a\u5feb\u901f\u4ecb\u7ecd\u5982\u4f55\u5728 Python \u4e2d\u521b\u5efa CLI \u5e94\u7528\u540e\uff0c\u60a8\u73b0\u5728\u5c31\u53ef\u4ee5\u6df1\u5165\u7814\u7a76 <code>argparse</code> \u6a21\u5757\u53ca\u5176\u6240\u6709\u70ab\u9177\u7279\u6027\u4e86\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#python-argparse-cli","title":"\u4f7f\u7528 Python \u7684 argparse \u521b\u5efa CLI","text":"<p>\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>argparse</code> \u6a21\u5757\u4e3a\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u9879\u76ee\u7f16\u5199\u7528\u6237\u53cb\u597d\u7684\u547d\u4ee4\u884c\u754c\u9762\u3002\u8be5\u6a21\u5757\u5141\u8bb8\u60a8\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u6240\u9700\u7684\u53c2\u6570\u548c\u9009\u9879\u3002\u7136\u540e\uff0c<code>argparse</code> \u5c06\u8d1f\u8d23\u4e3a\u60a8\u89e3\u6790 <code>sys.argv</code> \u7684\u53c2\u6570\u548c\u9009\u9879\u3002</p> <p><code>argparse</code> \u7684\u53e6\u4e00\u4e2a\u9177\u70ab\u7279\u6027\u662f\u5b83\u53ef\u4ee5\u81ea\u52a8\u4e3a\u60a8\u7684 CLI \u5e94\u7528\u7a0b\u5e8f\u751f\u6210\u4f7f\u7528\u8bf4\u660e\u548c\u5e2e\u52a9\u6d88\u606f\u3002\u8be5\u6a21\u5757\u8fd8\u4f1a\u5728\u53c2\u6570\u65e0\u6548\u65f6\u53d1\u51fa\u9519\u8bef\u63d0\u793a\uff0c\u5e76\u5177\u5907\u66f4\u591a\u529f\u80fd\u3002</p> <p>\u5728\u6df1\u5165\u7814\u7a76 <code>argparse</code> \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u77e5\u9053\u8be5\u6a21\u5757\u7684\u6587\u6863\u53ef\u8bc6\u522b\u4e24\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u547d\u4ee4\u884c\u53c2\u6570\uff1a     </p> <ul> <li>\u4f4d\u7f6e\u53c2\u6570(Positional arguments)\uff0c\u60a8\u79f0\u4e3a\u53c2\u6570(arguments)\uff1b</li> <li>\u53ef\u9009\u53c2\u6570(Optional arguments)\uff0c\u5373\u9009\u9879(options)\u3001\u6807\u5fd7(flags)\u6216\u5f00\u5173(switches)\u3002</li> </ul> <p>\u5728 <code>ls.py</code> \u7684\u793a\u4f8b\u4e2d\uff0c<code>path</code> \u662f\u4e00\u4e2a\u4f4d\u7f6e\u53c2\u6570(positional argument)\u3002\u8fd9\u6837\u7684\u53c2\u6570\u4e4b\u6240\u4ee5\u88ab\u79f0\u4e3a\u4f4d\u7f6e\u53c2\u6570\uff0c\u662f\u56e0\u4e3a\u5b83\u5728\u547d\u4ee4\u6784\u9020\u4e2d\u7684\u76f8\u5bf9\u4f4d\u7f6e\u5b9a\u4e49\u4e86\u5176\u4f5c\u7528\u3002</p> <p>\u4e0e\u4f4d\u7f6e\u53c2\u6570\u4e0d\u540c\uff0c\u53ef\u9009\u53c2\u6570(Optional arguments)\u5e76\u4e0d\u662f\u5fc5\u9700\u7684\u3002\u5b83\u4eec\u5141\u8bb8\u4f60\u4fee\u6539\u547d\u4ee4\u7684\u884c\u4e3a\u3002\u4ee5 Unix \u547d\u4ee4 <code>ls</code> \u4e3a\u4f8b\uff0c<code>-l</code> \u6807\u5fd7\u5c31\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u5b83\u4f7f\u5f97\u547d\u4ee4\u4ee5\u8be6\u7ec6\u6a21\u5f0f\u663e\u793a\u8f93\u51fa\u3002</p> <p>\u5728\u660e\u786e\u4e86\u8fd9\u4e9b\u6982\u5ff5\u4e4b\u540e\uff0c\u4f60\u5c31\u53ef\u4ee5\u7740\u624b\u4f7f\u7528 Python \u548c <code>argparse</code> \u5e93\u6765\u6784\u5efa\u81ea\u5df1\u7684\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u5e94\u7528\u7a0b\u5e8f\u4e86\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#_3","title":"\u521b\u5efa\u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u5668","text":"<p>\u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u5668\u662f\u4efb\u4f55\u4f7f\u7528 <code>argparse</code> \u7684\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u4e2d\u6700\u4e3a\u5173\u952e\u7684\u90e8\u5206\u3002\u4f60\u5728\u547d\u4ee4\u884c\u4e0a\u63d0\u4f9b\u7684\u6240\u6709\u53c2\u6570\u548c\u9009\u9879\u90fd\u4f1a\u7ecf\u8fc7\u8fd9\u4e2a\u89e3\u6790\u5668\u7684\u5904\u7406\uff0c\u5b83\u4f1a\u4e3a\u4f60\u5b8c\u6210\u7e41\u91cd\u7684\u89e3\u6790\u5de5\u4f5c\u3002</p> <p>\u8981\u4f7f\u7528 <code>argparse</code> \u521b\u5efa\u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u5668\uff0c\u60a8\u9700\u8981\u5b9e\u4f8b\u5316 <code>ArgumentParser</code> \u7c7b\uff1a   Python<pre><code>&gt;&gt;&gt; from argparse import ArgumentParser\n\n&gt;&gt;&gt; parser = ArgumentParser()\n&gt;&gt;&gt; parser\nArgumentParser(\n    prog='',\n    usage=None,\n    description=None,\n    formatter_class=&lt;class 'argparse.HelpFormatter'&gt;,\n    conflict_handler='error',\n    add_help=True\n)\n</code></pre></p> <p><code>ArgumentParser</code> \u7684\u6784\u9020\u51fd\u6570\u63a5\u53d7\u591a\u79cd\u4e0d\u540c\u7684\u53c2\u6570\uff0c\u4f60\u53ef\u4ee5\u5229\u7528\u8fd9\u4e9b\u53c2\u6570\u6765\u5fae\u8c03\u4f60\u7684 CLI \u7684\u591a\u4e2a\u7279\u6027\u3002\u7531\u4e8e\u6240\u6709\u8fd9\u4e9b\u53c2\u6570\u90fd\u662f\u53ef\u9009\u7684\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u901a\u8fc7\u4e0d\u4f20\u5165\u4efb\u4f55\u53c2\u6570\u76f4\u63a5\u5b9e\u4f8b\u5316 <code>ArgumentParser</code> \u6765\u521b\u5efa\u4e00\u4e2a\u6700\u57fa\u672c\u7684\u89e3\u6790\u5668\u3002</p> <p>\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u4f60\u5c06\u4f1a\u66f4\u6df1\u5165\u5730\u4e86\u89e3 <code>ArgumentParser</code> \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\uff0c\u7279\u522b\u662f\u5728\u5b9a\u5236\u4f60\u7684\u53c2\u6570\u89e3\u6790\u5668\u7684\u90e8\u5206\u3002\u76ee\u524d\uff0c\u4f60\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528 <code>argparse</code> \u521b\u5efa CLI \u7684\u4e0b\u4e00\u6b65\u4e86\u3002\u8fd9\u4e00\u6b65\u5c31\u662f\u901a\u8fc7\u89e3\u6790\u5668\u5bf9\u8c61\u6765\u6dfb\u52a0\u53c2\u6570\u548c\u9009\u9879\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#_4","title":"\u6dfb\u52a0\u53c2\u6570\u548c\u9009\u9879","text":"<p>\u8981\u4e3a <code>argparse</code> \u7684 CLI \u6dfb\u52a0\u53c2\u6570\u548c\u9009\u9879\uff0c\u4f60\u5c06\u4f7f\u7528 <code>ArgumentParser</code> \u5b9e\u4f8b\u7684 <code>.add_argument()</code> \u65b9\u6cd5\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5bf9\u53c2\u6570\u548c\u9009\u9879\u90fd\u662f\u901a\u7528\u7684\u3002\u5728 <code>argparse</code> \u7684\u672f\u8bed\u4e2d\uff0c\u53c2\u6570\u88ab\u79f0\u4e3a\u4f4d\u7f6e\u53c2\u6570(positional arguments)\uff0c\u800c\u9009\u9879\u88ab\u79f0\u4e3a\u53ef\u9009\u53c2\u6570(optional arguments)\u3002</p> <p><code>.add_argument()</code> \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u51b3\u5b9a\u4e86\u53c2\u6570\u548c\u9009\u9879\u4e4b\u95f4\u7684\u533a\u522b\u3002\u8fd9\u4e2a\u53c2\u6570\u88ab\u6807\u8bc6\u4e3a\u540d\u79f0\uff08name\uff09\u6216\u6807\u5fd7\uff08flag\uff09\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u63d0\u4f9b\u4e00\u4e2a name\uff0c\u90a3\u4e48\u4f60\u5c06\u5b9a\u4e49\u4e00\u4e2a\u53c2\u6570(argument)\u3002\u76f8\u53cd\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e00\u4e2a flag\uff0c\u90a3\u4e48\u4f60\u5c06\u6dfb\u52a0\u4e00\u4e2a\u9009\u9879(option)\u3002</p> <p>\u4f60\u5df2\u7ecf\u5728\u4f7f\u7528 <code>argparse</code> \u65f6\u5904\u7406\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\u4e86\u3002\u73b0\u5728\uff0c\u8003\u8651\u4ee5\u4e0b\u4f60\u81ea\u5b9a\u4e49\u7684 <code>ls</code> \u547d\u4ee4\u7684\u589e\u5f3a\u7248\u672c\uff0c\u5b83\u5411 CLI \u6dfb\u52a0\u4e86\u4e00\u4e2a <code>-l</code> \u9009\u9879\uff1a    Python<pre><code># ls.py v2\n\nimport argparse\nimport datetime\nfrom pathlib import Path\n\nparser = argparse.ArgumentParser()\n\nparser.add_argument(\"path\")\n\nparser.add_argument(\"-l\", \"--long\", action=\"store_true\")\n\nargs = parser.parse_args()\n\ntarget_dir = Path(args.path)\n\nif not target_dir.exists():\n    print(\"The target directory doesn't exist\")\n    raise SystemExit(1)\n\ndef build_output(entry, long=False):\n    if long:\n        size = entry.stat().st_size\n        date = datetime.datetime.fromtimestamp(\n            entry.stat().st_mtime).strftime(\n            \"%b %d %H:%M:%S\"\n        )\n        return f\"{size:&gt;6d} {date} {entry.name}\"\n    return entry.name\n\nfor entry in target_dir.iterdir():\n    print(build_output(entry, long=args.long))\n</code></pre></p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u7b2c 11 \u884c\u4ee3\u7801\u521b\u5efa\u4e86\u4e00\u4e2a\u5e26\u6709 <code>-l</code> \u548c <code>--long</code> \u6807\u5fd7\u7684\u9009\u9879\u3002\u53c2\u6570(arguments)\u548c\u9009\u9879(options)\u5728\u8bed\u6cd5\u4e0a\u7684\u533a\u522b\u5728\u4e8e\uff0c\u9009\u9879\u540d\u79f0\u4ee5\u77ed\u6a2a\u7ebf <code>-</code> \u5f00\u5934\u8868\u793a\u7b80\u5199\u6807\u5fd7\uff0c\u4ee5\u53cc\u77ed\u6a2a\u7ebf <code>--</code> \u5f00\u5934\u8868\u793a\u5b8c\u6574\u6807\u5fd7\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u5728\u8fd9\u4e2a\u7279\u5b9a\u4f8b\u5b50\u4e2d\uff0c\u4e0e <code>-l</code> \u6216 <code>--long</code> \u9009\u9879\u4e00\u540c\u8bbe\u7f6e\u4e86\u4e00\u4e2a <code>action</code> \u53c2\u6570\u4e3a <code>\"store_true\"</code>\uff0c\u8fd9\u610f\u5473\u7740\u8fd9\u4e2a\u9009\u9879\u5c06\u5b58\u50a8\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4f60\u5728\u547d\u4ee4\u884c\u4e0a\u63d0\u4f9b\u4e86\u8fd9\u4e2a\u9009\u9879\uff0c\u90a3\u4e48\u5b83\u7684\u503c\u5c06\u4e3a <code>True</code>\u3002\u5982\u679c\u4f60\u7701\u7565\u4e86\u8fd9\u4e2a\u9009\u9879\uff0c\u90a3\u4e48\u5b83\u7684\u503c\u5c06\u4e3a <code>False</code>\u3002\u5728 \"\u8bbe\u7f6e Option \u80cc\u540e\u7684 Action\" \u90e8\u5206\u5185\u5bb9\u4e2d\uff0c\u4f60\u5c06\u4e86\u89e3\u66f4\u591a\u5173\u4e8e <code>.add_argument()</code> \u4e2d\u7684 <code>action</code> \u53c2\u6570\u7684\u4fe1\u606f\u3002</p> <p>\u5728\u7b2c 21 \u884c\u7684 <code>build_output()</code> \u51fd\u6570\u4e2d\uff0c\u5f53 <code>long</code> \u4e3a <code>True</code> \u65f6\uff0c\u5b83\u4f1a\u8fd4\u56de\u4e00\u4e2a\u8be6\u7ec6\u7684\u8f93\u51fa\uff0c\u5426\u5219\u8fd4\u56de\u4e00\u4e2a\u7b80\u77ed\u7684\u8f93\u51fa\u3002\u8be6\u7ec6\u7684\u8f93\u51fa\u5c06\u5305\u542b\u76ee\u6807\u76ee\u5f55\u4e2d\u6240\u6709\u6761\u76ee\u7684\u5927\u5c0f\u3001\u4fee\u6539\u65e5\u671f\u548c\u540d\u79f0\u3002\u5b83\u4f7f\u7528\u4e86\u8bf8\u5982 <code>Path.stat()</code> \u8fd9\u6837\u7684\u5de5\u5177\uff0c\u4ee5\u53ca\u5e26\u6709\u81ea\u5b9a\u4e49\u5b57\u7b26\u4e32\u683c\u5f0f\u7684 <code>datetime.datetime</code> \u5bf9\u8c61\u3002</p> <p>\u7ee7\u7eed\u5728 <code>sample</code> \u4e0a\u6267\u884c\u60a8\u7684\u7a0b\u5e8f\uff0c\u4ee5\u68c0\u67e5 <code>-l</code> \u9009\u9879\u5982\u4f55\u5de5\u4f5c\uff1a   Bash<pre><code>$ python ls.py -l sample/\n  2609 Oct 28 14:07:04 lorem.md\n   428 Oct 28 14:07:04 realpython.md\n    83 Oct 28 14:07:04 hello.txt\n</code></pre></p> <p>\u65b0\u589e\u7684 <code>-l</code> \u9009\u9879\u5141\u8bb8\u4f60\u751f\u6210\u5e76\u663e\u793a\u5173\u4e8e\u76ee\u6807\u76ee\u5f55\u5185\u5bb9\u7684\u66f4\u8be6\u7ec6\u8f93\u51fa\u3002</p> <p>\u65e2\u7136\u4f60\u5df2\u7ecf\u77e5\u9053\u4e86\u5982\u4f55\u5411 CLI \u6dfb\u52a0\u547d\u4ee4\u884c\u53c2\u6570\u548c\u9009\u9879\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u6df1\u5165\u89e3\u6790\u8fd9\u4e9b\u53c2\u6570\u548c\u9009\u9879\u7684\u65f6\u5019\u4e86\u3002\u8fd9\u5c06\u662f\u4f60\u5728\u63a5\u4e0b\u6765\u90e8\u5206\u8981\u63a2\u7d22\u7684\u5185\u5bb9\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#_5","title":"\u89e3\u6790\u547d\u4ee4\u884c\u53c2\u6570\u548c\u9009\u9879","text":"<p>\u89e3\u6790\u547d\u4ee4\u884c\u53c2\u6570\u662f\u57fa\u4e8e <code>argparse</code> \u7684\u4efb\u4f55 CLI \u5e94\u7528\u4e2d\u7684\u53e6\u4e00\u4e2a\u91cd\u8981\u6b65\u9aa4\u3002\u4e00\u65e6\u4f60\u89e3\u6790\u4e86\u53c2\u6570\uff0c\u4f60\u5c31\u53ef\u4ee5\u6839\u636e\u5b83\u4eec\u7684\u503c\u6765\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\u3002\u5728\u4f60\u81ea\u5b9a\u4e49\u7684 <code>ls</code> \u547d\u4ee4\u793a\u4f8b\u4e2d\uff0c\u53c2\u6570\u89e3\u6790\u53d1\u751f\u5728\u5305\u542b <code>args = parser.parse_args()</code> \u8bed\u53e5\u7684\u884c\u4e0a\u3002</p> <p>\u8fd9\u4e2a\u8bed\u53e5\u8c03\u7528\u4e86 <code>.parse_args()</code> \u65b9\u6cd5\uff0c\u5e76\u5c06\u5176\u8fd4\u56de\u503c\u8d4b\u7ed9 <code>args</code> \u53d8\u91cf\u3002<code>.parse_args()</code> \u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a <code>Namespace</code> \u5bf9\u8c61\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u5728\u547d\u4ee4\u884c\u4e0a\u63d0\u4f9b\u7684\u6240\u6709\u53c2\u6570\u548c\u9009\u9879\u4ee5\u53ca\u5b83\u4eec\u5bf9\u5e94\u7684\u503c\u3002</p> <p>\u8003\u8651\u4ee5\u4e0b\u7b80\u5355\u7684\u793a\u4f8b\uff1a     Python<pre><code>&gt;&gt;&gt; from argparse import ArgumentParser\n\n&gt;&gt;&gt; parser = ArgumentParser()\n\n&gt;&gt;&gt; parser.add_argument(\"site\")\n_StoreAction(...)\n\n&gt;&gt;&gt; parser.add_argument(\"-c\", \"--connect\", action=\"store_true\")\n_StoreTrueAction(...)\n\n&gt;&gt;&gt; args = parser.parse_args([\"Real Python\", \"-c\"])\n&gt;&gt;&gt; args\nNamespace(site='Real Python', connect=True)\n\n&gt;&gt;&gt; args.site\n'Real Python'\n&gt;&gt;&gt; args.connect\nTrue\n</code></pre></p> <p>\u901a\u8fc7\u5728\u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u5668\u4e0a\u8c03\u7528 <code>.parse_args()</code> \u65b9\u6cd5\u5f97\u5230\u7684 <code>Namespace</code> \u5bf9\u8c61\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u70b9\u8868\u793a\u6cd5(dot notation)\u8bbf\u95ee\u6240\u6709\u8f93\u5165\u53c2\u6570\u3001\u9009\u9879\u4ee5\u53ca\u5b83\u4eec\u5bf9\u5e94\u7684\u503c\u3002\u8fd9\u6837\uff0c\u4f60\u5c31\u53ef\u4ee5\u68c0\u67e5\u8f93\u5165\u53c2\u6570\u548c\u9009\u9879\u7684\u5217\u8868\uff0c\u5e76\u6839\u636e\u7528\u6237\u5728\u547d\u4ee4\u884c\u4e0a\u7684\u9009\u62e9\u6765\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\u3002</p> <p>\u4f60\u5c06\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u4e3b\u4ee3\u7801\u4e2d\u4f7f\u7528\u8fd9\u4e2a <code>Namespace</code> \u5bf9\u8c61\u3002\u8fd9\u4e0e\u4f60\u5728\u81ea\u5b9a\u4e49 <code>ls</code> \u547d\u4ee4\u793a\u4f8b\u4e2d\u7684 <code>for</code> \u5faa\u73af\u4e0b\u6240\u505a\u7684\u7c7b\u4f3c\u3002</p> <p>\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u4f60\u5df2\u7ecf\u4e86\u89e3\u4e86\u521b\u5efa\u57fa\u4e8e <code>argparse</code> \u7684 CLI \u7684\u4e3b\u8981\u6b65\u9aa4\u3002\u73b0\u5728\uff0c\u4f60\u53ef\u4ee5\u82b1\u4e9b\u65f6\u95f4\u5b66\u4e60\u5982\u4f55\u5728 Python \u4e2d\u7ec4\u7ec7\u548c\u6784\u5efa CLI \u5e94\u7528\u7a0b\u5e8f\u7684\u57fa\u7840\u77e5\u8bc6\u4e86\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#cli_1","title":"\u8bbe\u7f6e CLI \u5e94\u7528\u7a0b\u5e8f\u7684\u5e03\u5c40\u548c\u6784\u5efa\u7cfb\u7edf","text":"<p>\u5728\u7ee7\u7eed\u4f60\u7684 <code>argparse</code> \u5b66\u4e60\u4e4b\u65c5\u4e4b\u524d\uff0c\u4f60\u5e94\u8be5\u6682\u505c\u4e00\u4e0b\uff0c\u601d\u8003\u5982\u4f55\u7ec4\u7ec7\u4f60\u7684\u4ee3\u7801\u548c\u89c4\u5212\u4e00\u4e2a CLI \u9879\u76ee\u3002\u9996\u5148\uff0c\u4f60\u5e94\u8be5\u8003\u8651\u4ee5\u4e0b\u51e0\u70b9\uff1a    </p> <ul> <li>\u4f60\u53ef\u4ee5\u521b\u5efa\u6a21\u5757\u548c\u5305\u6765\u7ec4\u7ec7\u4ee3\u7801\u3002</li> <li>\u4f60\u53ef\u4ee5\u5c06 Python \u5e94\u7528\u7684\u6838\u5fc3\u5305\u547d\u540d\u4e3a\u5e94\u7528\u672c\u8eab\u7684\u540d\u5b57\u3002</li> <li>\u4f60\u4f1a\u6839\u636e\u6bcf\u4e2a Python \u6a21\u5757\u7684\u5177\u4f53\u5185\u5bb9\u6216\u529f\u80fd\u6765\u547d\u540d\u5b83\u4eec\u3002</li> <li>\u5982\u679c\u4f60\u5e0c\u671b\u67d0\u4e2a\u5305\u53ef\u4ee5\u76f4\u63a5\u6267\u884c\uff0c\u4f60\u53ef\u4ee5\u5728\u8be5 Python \u5305\u4e2d\u6dfb\u52a0\u4e00\u4e2a <code>__main__.py</code> \u6a21\u5757\u3002</li> </ul> <p>\u5c06\u8fd9\u4e9b\u60f3\u6cd5\u94ed\u8bb0\u4e8e\u5fc3\uff0c\u5e76\u8003\u8651\u5230\u6a21\u578b-\u89c6\u56fe-\u63a7\u5236\u5668\uff08MVC\uff09\u6a21\u5f0f\u662f\u4e00\u79cd\u6709\u6548\u7ec4\u7ec7\u5e94\u7528\u7a0b\u5e8f\u7ed3\u6784\u7684\u65b9\u6cd5\uff0c\u4f60\u5728\u89c4\u5212 CLI \u9879\u76ee\u65f6\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u76ee\u5f55\u7ed3\u6784\uff1a   Text Only<pre><code>hello_cli/\n\u2502\n\u251c\u2500\u2500 hello_cli/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 __main__.py\n\u2502   \u251c\u2500\u2500 cli.py\n\u2502   \u2514\u2500\u2500 model.py\n\u2502\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 test_cli.py\n\u2502   \u2514\u2500\u2500 test_model.py\n\u2502\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 README.md\n\u2514\u2500\u2500 requirements.txt\n</code></pre></p> <p><code>hello_cli/</code> \u76ee\u5f55\u662f\u9879\u76ee\u7684\u6839\u76ee\u5f55\u3002\u5728\u90a3\u91cc\uff0c\u60a8\u5c06\u653e\u7f6e\u4ee5\u4e0b\u6587\u4ef6\uff1a    </p> <ul> <li>pyproject.toml \u662f\u4e00\u4e2a TOML \u6587\u4ef6\uff0c\u7528\u4e8e\u6307\u5b9a\u9879\u76ee\u7684\u6784\u5efa\u7cfb\u7edf(build system)\u548c\u5176\u4ed6\u914d\u7f6e(configurations)\u3002</li> <li>README.md \u6587\u4ef6\u63d0\u4f9b\u4e86\u9879\u76ee\u7684\u63cf\u8ff0\u4ee5\u53ca\u5b89\u88c5\u548c\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\u7684\u8bf4\u660e\u3002\u4e3a\u4f60\u7684\u9879\u76ee\u6dfb\u52a0\u4e00\u4e2a\u63cf\u8ff0\u6027\u4e14\u8be6\u7ec6\u7684 README.md \u6587\u4ef6\u662f\u7f16\u7a0b\u4e2d\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u7279\u522b\u662f\u5982\u679c\u4f60\u6253\u7b97\u5c06\u9879\u76ee\u4f5c\u4e3a\u5f00\u6e90\u89e3\u51b3\u65b9\u6848\u53d1\u5e03\u7684\u8bdd\u3002</li> <li>requirements.txt \u662f\u4e00\u4e2a\u5e38\u89c4\u6587\u4ef6\uff0c\u5217\u51fa\u4e86\u9879\u76ee\u7684\u5916\u90e8\u4f9d\u8d56\u9879(external dependencies)\u3002\u4f60\u5c06\u4f7f\u7528\u8fd9\u4e2a\u6587\u4ef6\uff0c\u7ed3\u5408 <code>pip</code> \u7684 <code>-r</code> \u9009\u9879\uff0c\u6765\u81ea\u52a8\u5b89\u88c5\u8fd9\u4e9b\u4f9d\u8d56\u9879\u3002</li> </ul> <p>\u63a5\u4e0b\u6765\u662f <code>hello_cli/</code> \u76ee\u5f55\uff0c\u5b83\u5305\u542b\u4e86\u5e94\u7528\u7684\u6838\u5fc3\u5305\uff0c\u8be5\u5305\u5305\u542b\u4ee5\u4e0b\u6a21\u5757\uff1a    </p> <ul> <li><code>__init__.py</code> \u6587\u4ef6\u4f7f\u5f97 <code>hello_cli/</code> \u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a Python \u5305\u88ab\u8bc6\u522b\u3002</li> <li><code>__main__.py</code> \u6587\u4ef6\u63d0\u4f9b\u4e86\u5e94\u7528\u7a0b\u5e8f\u7684\u5165\u53e3\u70b9\u811a\u672c(entry-point script)\u6216\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u8fd9\u662f\u542f\u52a8\u7a0b\u5e8f\u7684\u4e3b\u8981\u5165\u53e3\u3002</li> <li><code>cli.py</code> \u6587\u4ef6\u4e3a\u5e94\u7528\u63d0\u4f9b\u4e86\u547d\u4ee4\u884c\u754c\u9762\u3002\u5728\u6b64\u6587\u4ef6\u4e2d\u7684\u4ee3\u7801\u5c06\u626e\u6f14\u57fa\u4e8e MVC \u67b6\u6784\u4e2d\u7684\u89c6\u56fe-\u63a7\u5236\u5668\u89d2\u8272\u3002</li> <li><code>model.py</code> \u6587\u4ef6\u5305\u542b\u4e86\u652f\u6301\u5e94\u7528\u4e3b\u8981\u529f\u80fd\u7684\u4ee3\u7801\u3002\u8fd9\u90e8\u5206\u4ee3\u7801\u5c06\u5728\u4f60\u7684 MVC \u5e03\u5c40\u4e2d\u626e\u6f14\u6a21\u578b\u89d2\u8272\u3002</li> </ul> <p>\u4f60\u8fd8\u9700\u8981\u4e00\u4e2a <code>tests/</code> \u5305\uff0c\u5176\u4e2d\u5305\u542b\u9488\u5bf9\u5e94\u7528\u7a0b\u5e8f\u7ec4\u4ef6\u7684\u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u3002\u5728\u8fd9\u4e2a\u5177\u4f53\u7684\u9879\u76ee\u5e03\u5c40\u793a\u4f8b\u4e2d\uff0c\u4f60\u6709 <code>test_cli.py</code> \u7528\u4e8e\u68c0\u67e5 CLI \u529f\u80fd\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u4ee5\u53ca <code>test_model.py</code> \u7528\u4e8e\u68c0\u67e5\u4f60\u7684\u6a21\u578b\u4ee3\u7801\u7684\u5355\u5143\u6d4b\u8bd5\u3002</p> <p><code>pyproject.toml</code> \u6587\u4ef6\u5141\u8bb8\u4f60\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u7684\u6784\u5efa\u7cfb\u7edf\u4ee5\u53ca\u8bb8\u591a\u5176\u4ed6\u5e38\u89c4\u914d\u7f6e\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5982\u4f55\u4e3a\u4f60\u7684\u793a\u4f8b hello_cli \u9879\u76ee\u586b\u5199\u6b64\u6587\u4ef6\u7684\u7b80\u5355\u793a\u4f8b\uff1a   TOML<pre><code># pyproject.toml\n\n[build-system]\nrequires = [\"setuptools&gt;=64.0.0\", \"wheel\"]\nbuild-backend = \"setuptools.build_meta\"\n\n[project]\nname = \"hello_cli\"\nversion = \"0.0.1\"\ndescription = \"My awesome Hello CLI application\"\nreadme = \"README.md\"\nauthors = [{ name = \"Real Python\", email = \"info@realpython.com\" }]\n\n[project.scripts]\nhello_cli = \"hello_cli.__main__:main\"\n</code></pre></p> <p><code>[build-system]</code> \u8868\u5934\u5c06 <code>setuptools</code> \u8bbe\u7f6e\u4e3a\u5e94\u7528\u7a0b\u5e8f\u7684\u6784\u5efa\u7cfb\u7edf\uff0c\u5e76\u6307\u5b9a Python \u9700\u8981\u5b89\u88c5\u54ea\u4e9b\u4f9d\u8d56\u9879\u6765\u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\u3002<code>[project]</code> \u8868\u5934\u4e3a\u4f60\u7684\u5e94\u7528\u63d0\u4f9b\u4e86\u901a\u7528\u5143\u6570\u636e\u3002\u8fd9\u4e9b\u5143\u6570\u636e\u5728\u4f60\u60f3\u8981\u5c06\u5e94\u7528\u53d1\u5e03\u5230 Python \u5305\u7d22\u5f15\uff08PyPI\uff09\u65f6\u975e\u5e38\u6709\u7528\u3002\u6700\u540e\uff0c <code>[project.scripts]</code> \u8868\u5934\u5b9a\u4e49\u4e86\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u5165\u53e3\u70b9\u3002</p> <p>\u7ecf\u8fc7\u8fd9\u6b21\u5bf9 CLI \u9879\u76ee\u5e03\u5c40\u548c\u6784\u5efa\u7684\u5feb\u901f\u63a2\u7d22\uff0c\u4f60\u5df2\u7ecf\u51c6\u5907\u597d\u7ee7\u7eed\u5b66\u4e60 <code>argparse</code> \u4e86\uff0c\u7279\u522b\u662f\u5982\u4f55\u81ea\u5b9a\u4e49\u4f60\u7684\u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u5668\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#_6","title":"\u81ea\u5b9a\u4e49\u4f60\u7684\u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u5668","text":"<p>\u5728\u524d\u9762\u7684\u90e8\u5206\u4e2d\uff0c\u4f60\u5df2\u7ecf\u5b66\u4e60\u4e86\u5982\u4f55\u4f7f\u7528 Python \u7684 <code>argparse</code> \u6a21\u5757\u4e3a\u4f60\u7684\u7a0b\u5e8f\u6216\u5e94\u7528\u5b9e\u73b0\u547d\u4ee4\u884c\u63a5\u53e3\u7684\u57fa\u7840\u77e5\u8bc6\u3002\u540c\u65f6\uff0c\u4f60\u4e5f\u4e86\u89e3\u4e86\u5982\u4f55\u6309\u7167 MVC \u6a21\u5f0f\u7ec4\u7ec7\u548c\u89c4\u5212 CLI \u5e94\u7528\u9879\u76ee\u3002</p> <p>\u5728\u63a5\u4e0b\u6765\u7684\u90e8\u5206\u4e2d\uff0c\u4f60\u5c06\u66f4\u6df1\u5165\u5730\u63a2\u7d22 <code>argparse</code> \u7684\u8bb8\u591a\u5176\u4ed6\u5f3a\u5927\u529f\u80fd\u3002\u7279\u522b\u662f\uff0c\u4f60\u5c06\u5b66\u4e60\u5982\u4f55\u5728 <code>ArgumentParser</code> \u6784\u9020\u51fd\u6570\u4e2d\u4f7f\u7528\u4e00\u4e9b\u6700\u6709\u7528\u7684\u53c2\u6570\uff0c\u8fd9\u5c06\u4f7f\u4f60\u80fd\u591f\u81ea\u5b9a\u4e49 CLI \u5e94\u7528\u7684\u4e00\u822c\u884c\u4e3a\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#help-usage","title":"\u8c03\u6574\u7a0b\u5e8f\u7684 Help \u548c Usage \u5185\u5bb9","text":"<p>\u5411 CLI \u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237\u63d0\u4f9b\u4f7f\u7528\u8bf4\u660e\u548c\u5e2e\u52a9\u662f\u4e00\u79cd\u6700\u4f73\u5b9e\u8df5\uff0c\u53ef\u4ee5\u901a\u8fc7\u51fa\u8272\u7684\u7528\u6237\u4f53\u9a8c (UX) \u8ba9\u7528\u6237\u66f4\u52a0\u6109\u5feb\u3002\u5728\u672c\u8282\u4e2d\uff0c\u4f60\u5c06\u4e86\u89e3\u5982\u4f55\u5229\u7528 <code>ArgumentParser</code> \u7684\u4e00\u4e9b\u53c2\u6570\u6765\u5fae\u8c03 CLI \u5e94\u7528\u7a0b\u5e8f\u5411\u7528\u6237\u663e\u793a\u5e2e\u52a9\u548c\u4f7f\u7528\u6d88\u606f\u7684\u65b9\u5f0f\u3002\u4f60\u5c06\u5b66\u4e60\u5982\u4f55\uff1a   - \u8bbe\u7f6e\u7a0b\u5e8f\u540d\u79f0 - \u5b9a\u4e49\u7a0b\u5e8f\u7684\u63cf\u8ff0\u548c\u7ed3\u675f\u6d88\u606f - \u5bf9\u53c2\u6570\u548c\u9009\u9879\u8fdb\u884c\u5206\u7ec4\u663e\u793a\u5e2e\u52a9</p> <p>\u9996\u5148\uff0c\u4f60\u5c06\u5f00\u59cb\u8bbe\u7f6e\u4f60\u7684\u7a0b\u5e8f\u540d\u79f0\uff0c\u5e76\u6307\u5b9a\u8be5\u540d\u79f0\u5728\u5e2e\u52a9\u6216\u4f7f\u7528\u8bf4\u660e\u6d88\u606f\u4e2d\u7684\u663e\u793a\u65b9\u5f0f\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#_7","title":"\u8bbe\u7f6e\u7a0b\u5e8f\u540d\u79f0","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>argparse</code> \u4f1a\u4f7f\u7528 <code>sys.argv</code> \u4e2d\u7684\u7b2c\u4e00\u4e2a\u503c\u6765\u8bbe\u7f6e\u7a0b\u5e8f\u7684\u540d\u79f0\u3002\u8fd9\u4e2a\u7b2c\u4e00\u9879\u5305\u542b\u4f60\u521a\u521a\u6267\u884c\u7684 Python \u6587\u4ef6\u7684\u540d\u79f0\u3002\u8fd9\u4e2a\u6587\u4ef6\u540d\u5728\u4f7f\u7528\u8bf4\u660e\u6d88\u606f\u4e2d\u770b\u8d77\u6765\u4f1a\u6709\u4e9b\u5947\u602a\u3002</p> <p>\u4f8b\u5982\uff0c\u7ee7\u7eed\u4f7f\u7528 <code>-h</code> \u9009\u9879\u8fd0\u884c\u81ea\u5b9a\u4e49 <code>ls</code> \u547d\u4ee4\uff1a Bash<pre><code>$ python ls.py -h\nusage: ls.py [-h] [-l] path\n\npositional arguments:\n  path\n\noptions:\n  -h, --help  show this help message and exit\n  -l, --long\n</code></pre></p> <p>\u547d\u4ee4\u8f93\u51fa\u4e2d\u7684\u9ad8\u4eae\u884c\u663e\u793a <code>argparse</code> \u6b63\u5728\u4f7f\u7528\u6587\u4ef6\u540d <code>ls.py</code> \u4f5c\u4e3a\u7a0b\u5e8f\u7684\u540d\u79f0\u3002\u8fd9\u770b\u8d77\u6765\u6709\u4e9b\u5947\u602a\uff0c\u56e0\u4e3a\u5728\u4f7f\u7528\u8bf4\u660e\u6d88\u606f\u4e2d\uff0c\u5e94\u7528\u540d\u79f0\u5f88\u5c11\u5305\u542b\u6587\u4ef6\u6269\u5c55\u540d\u3002</p> <p>\u5e78\u8fd0\u7684\u662f\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>prog</code> \u53c2\u6570\u6765\u6307\u5b9a\u4f60\u7684\u7a0b\u5e8f\u540d\u79f0\uff0c\u5c31\u50cf\u4e0b\u9762\u7684\u4ee3\u7801\u7247\u6bb5\u6240\u793a\uff1a    Python<pre><code># ls.py v3\n\nimport argparse\nimport datetime\nfrom pathlib import Path\n\nparser = argparse.ArgumentParser(prog=\"ls\")\n\n# ...\n\nfor entry in target_dir.iterdir():\n    print(build_output(entry, long=args.long))\n</code></pre></p> <p>\u4f7f\u7528 <code>prog</code> \u53c2\u6570\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a\u5c06\u5728\u4f7f\u7528\u8bf4\u660e\u6d88\u606f\u4e2d\u4f7f\u7528\u7684\u7a0b\u5e8f\u540d\u79f0\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u4f60\u4f7f\u7528\u4e86\u5b57\u7b26\u4e32 \"ls\"\u3002\u73b0\u5728\uff0c\u7ee7\u7eed\u8fd0\u884c\u4f60\u7684\u5e94\u7528\uff1a    Bash<pre><code>$ python ls.py -h\nusage: ls [-h] [-l] path\n\npositional arguments:\n  path\n\noptions:\n  -h, --help  show this help message and exit\n  -l, --long\n</code></pre></p> <p>\u5f88\u597d\uff01\u8fd9\u4e2a\u8f93\u51fa\u7684\u7b2c\u4e00\u884c\u4e2d\u7684\u4f7f\u7528\u8bf4\u660e\u6d88\u606f\u663e\u793a\u7a0b\u5e8f\u540d\u79f0\u4e3a <code>ls</code>\uff0c\u800c\u4e0d\u662f <code>ls.py</code>\u3002</p> <p>\u9664\u4e86\u8bbe\u7f6e\u7a0b\u5e8f\u540d\u79f0\u5916\uff0c<code>argparse</code> \u8fd8\u5141\u8bb8\u4f60\u5b9a\u4e49\u5e94\u7528\u7684\u63cf\u8ff0\u548c\u7ed3\u5c3e\u4fe1\u606f\u3002\u5728\u63a5\u4e0b\u6765\u7684\u90e8\u5206\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5982\u4f55\u8fdb\u884c\u8fd9\u4e24\u65b9\u9762\u7684\u64cd\u4f5c\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#_8","title":"\u5b9a\u4e49\u7a0b\u5e8f\u7684\u63cf\u8ff0\u548c\u7ed3\u8bed\u6d88\u606f","text":"<p>\u4f60\u8fd8\u53ef\u4ee5\u4e3a\u4f60\u7684\u5e94\u7528\u5b9a\u4e49\u4e00\u4e2a\u901a\u7528\u7684\u63cf\u8ff0\u548c\u4e00\u4e2a\u7ed3\u5c3e\u6216\u7ed3\u675f\u8bed\u3002\u4e3a\u6b64\uff0c\u4f60\u5c06\u5206\u522b\u4f7f\u7528 <code>description</code> \u548c <code>epilog</code> \u53c2\u6570\u3002\u63a5\u4e0b\u6765\uff0c\u8bf7\u66f4\u65b0 <code>ls.py</code> \u6587\u4ef6\uff0c\u5728 <code>ArgumentParser</code> \u6784\u9020\u51fd\u6570\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a    Python<pre><code># ls.py v4\n\nimport argparse\nimport datetime\nfrom pathlib import Path\n\nparser = argparse.ArgumentParser(\n    prog=\"ls\",\n    description=\"List the content of a directory\",\n    epilog=\"Thanks for using %(prog)s! :)\",\n)\n\n# ...\n\nfor entry in target_dir.iterdir():\n    print(build_output(entry, long=args.long))\n</code></pre></p> <p>\u5728\u8fd9\u6b21\u66f4\u65b0\u4e2d\uff0c<code>description</code> \u53c2\u6570\u5141\u8bb8\u4f60\u4e3a\u5e94\u7528\u63d0\u4f9b\u4e00\u4e2a\u901a\u7528\u7684\u63cf\u8ff0\u3002\u8fd9\u4e2a\u63cf\u8ff0\u5c06\u663e\u793a\u5728\u5e2e\u52a9\u6d88\u606f\u7684\u5f00\u5934\u3002<code>epilog</code> \u53c2\u6570\u5219\u5141\u8bb8\u4f60\u5b9a\u4e49\u4e00\u4e9b\u6587\u672c\u4f5c\u4e3a\u5e94\u7528\u7684\u7ed3\u5c3e\u6216\u7ed3\u675f\u8bed\u3002\u8bf7\u6ce8\u610f\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u65e7\u5f0f\u7684\u5b57\u7b26\u4e32\u683c\u5f0f\u5316\u64cd\u4f5c\u7b26(<code>%</code>)\u5c06 <code>prog</code> \u53c2\u6570\u63d2\u5165\u5230 <code>epilog</code> \u5b57\u7b26\u4e32\u4e2d\u3002    </p> <p>\u5982\u679c\u518d\u6b21\u8fd0\u884c\u8be5\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f60\u5c06\u5f97\u5230\u5982\u4e0b\u8f93\u51fa\uff1a    Bash<pre><code>$ python ls.py -h\nusage: ls [-h] [-l] path\n\nList the content of a directory\n\npositional arguments:\n  path\n\noptions:\n  -h, --help  show this help message and exit\n  -l, --long\n\nThanks for using ls! :)\n</code></pre></p> <p>\u73b0\u5728\uff0c\u8f93\u51fa\u4f1a\u5728\u4f7f\u7528\u6d88\u606f\u4e4b\u540e\u663e\u793a\u63cf\u8ff0\u6d88\u606f\uff0c\u5e76\u5728\u5e2e\u52a9\u6587\u672c\u672b\u5c3e\u663e\u793a\u7ed3\u8bed\u6d88\u606f\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#_9","title":"\u663e\u793a\u53c2\u6570\u548c\u9009\u9879\u7684\u5206\u7ec4\u5e2e\u52a9","text":"<p>\u5e2e\u52a9\u5206\u7ec4(Help groups)\u662f <code>argparse</code> \u7684\u53e6\u4e00\u4e2a\u6709\u8da3\u7279\u6027\u3002\u5b83\u4eec\u5141\u8bb8\u4f60\u5c06\u76f8\u5173\u7684\u547d\u4ee4\u548c\u53c2\u6570\u8fdb\u884c\u5206\u7ec4\uff0c\u4ece\u800c\u5e2e\u52a9\u4f60\u7ec4\u7ec7\u5e94\u7528\u7684\u5e2e\u52a9\u6d88\u606f\u3002\u8981\u521b\u5efa\u8fd9\u4e9b\u5e2e\u52a9\u5206\u7ec4\uff0c\u4f60\u5c06\u4f7f\u7528 <code>ArgumentParser</code> \u7684 <code>.add_argument_group()</code> \u65b9\u6cd5\u3002</p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u4f8b\u5b50\uff0c\u8bf7\u8003\u8651\u4f60\u81ea\u5b9a\u4e49\u7684 <code>ls</code> \u547d\u4ee4\u7684\u4ee5\u4e0b\u66f4\u65b0\u7248\u672c\uff1a    Python<pre><code># ls.py v5\n# ...\n\nparser = argparse.ArgumentParser(\n    prog=\"ls\",\n    description=\"List the content of a directory\",\n    epilog=\"Thanks for using %(prog)s! :)\",\n)\n\ngeneral = parser.add_argument_group(\"general output\")\ngeneral.add_argument(\"path\")\n\ndetailed = parser.add_argument_group(\"detailed output\")\ndetailed.add_argument(\"-l\", \"--long\", action=\"store_true\")\n\nargs = parser.parse_args()\n\n# ...\n\nfor entry in target_dir.iterdir():\n    print(build_output(entry, long=args.long))\n</code></pre></p> <p>\u5728\u8fd9\u6b21\u66f4\u65b0\u4e2d\uff0c\u4f60\u4e3a\u663e\u793a\u4e00\u822c\u8f93\u51fa\u7684\u53c2\u6570\u548c\u9009\u9879\u521b\u5efa\u4e86\u4e00\u4e2a\u5e2e\u52a9\u5206\u7ec4\uff0c\u5e76\u4e3a\u663e\u793a\u8be6\u7ec6\u8f93\u51fa\u7684\u53c2\u6570\u548c\u9009\u9879\u521b\u5efa\u4e86\u53e6\u4e00\u4e2a\u5206\u7ec4\u3002</p> <p>\u5982\u679c\u4f60\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528 <code>-h</code> \u9009\u9879\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\uff0c\u90a3\u4e48\u4f60\u5c06\u83b7\u5f97\u4ee5\u4e0b\u8f93\u51fa\uff1a  Bash<pre><code>python ls.py -h\nusage: ls [-h] [-l] path\n\nList the content of a directory\n\noptions:\n  -h, --help  show this help message and exit\n\ngeneral output:\n  path\n\ndetailed output:\n  -l, --long\n\nThanks for using ls! :)\n</code></pre></p> <p>\u73b0\u5728\uff0c\u4f60\u7684\u5e94\u7528\u7684\u53c2\u6570\u548c\u9009\u9879\u5728\u5e2e\u52a9\u6d88\u606f\u4e2d\u4ee5\u63cf\u8ff0\u6027\u7684\u6807\u9898\u8fdb\u884c\u4e86\u65b9\u4fbf\u7684\u5206\u7ec4\u3002\u8fd9\u4e2a\u6574\u6d01\u7684\u7279\u6027\u5c06\u5e2e\u52a9\u4f60\u4e3a\u7528\u6237\u63d0\u4f9b\u66f4\u591a\u7684\u4e0a\u4e0b\u6587\uff0c\u5e76\u5e2e\u52a9\u4ed6\u4eec\u66f4\u597d\u5730\u7406\u89e3\u5e94\u7528\u7684\u5de5\u4f5c\u539f\u7406\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#_10","title":"\u4e3a\u53c2\u6570\u548c\u9009\u9879\u63d0\u4f9b\u5168\u5c40\u8bbe\u7f6e","text":"<p>\u9664\u4e86\u81ea\u5b9a\u4e49\u4f7f\u7528\u8bf4\u660e\u548c\u5e2e\u52a9\u6d88\u606f\u5916\uff0c<code>ArgumentParser</code> \u8fd8\u5141\u8bb8\u4f60\u5bf9\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u5e94\u7528\u8fdb\u884c\u5176\u4ed6\u4e00\u4e9b\u6709\u8da3\u7684\u8c03\u6574\u3002\u8fd9\u4e9b\u8c03\u6574\u5305\u62ec\uff1a</p> <ul> <li>\u4e3a\u53c2\u6570\u548c\u9009\u9879\u5b9a\u4e49\u5168\u5c40\u9ed8\u8ba4\u503c</li> <li>\u4ece\u5916\u90e8\u6587\u4ef6\u4e2d\u52a0\u8f7d\u53c2\u6570\u548c\u9009\u9879</li> <li>\u5141\u8bb8\u6216\u7981\u6b62\u9009\u9879\u7f29\u5199</li> </ul> <p>\u6709\u65f6\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4e3a\u4f60\u7684\u5e94\u7528\u7684\u53c2\u6570\u548c\u9009\u9879\u6307\u5b9a\u4e00\u4e2a\u5168\u5c40\u9ed8\u8ba4\u503c\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u5728\u8c03\u7528 <code>ArgumentParser</code> \u6784\u9020\u51fd\u6570\u65f6\uff0c\u5c06\u9ed8\u8ba4\u503c\u4f20\u9012\u7ed9 <code>argument_default</code> \u53c2\u6570\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff08\u6ce8\u610f\uff1a\u5b9e\u9645\u4e0a <code>ArgumentParser</code> \u6ca1\u6709 <code>argument_default</code> \u8fd9\u4e2a\u53c2\u6570\uff0c\u4f46\u8fd9\u91cc\u662f\u4e3a\u4e86\u8bf4\u660e\u53ef\u4ee5\u5168\u5c40\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u7684\u6982\u5ff5\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4e3a\u6bcf\u4e2a\u53c2\u6570\u5355\u72ec\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff09\u3002</p> <p>\u8fd9\u4e2a\u7279\u6027\u53ef\u80fd\u5e76\u4e0d\u5e38\u7528\uff0c\u56e0\u4e3a\u53c2\u6570\u548c\u9009\u9879\u901a\u5e38\u5177\u6709\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u6216\u610f\u4e49\uff0c\u5f88\u96be\u627e\u5230\u4e00\u4e2a\u6ee1\u8db3\u6240\u6709\u9700\u6c42\u7684\u503c\u3002</p> <p>\u7136\u800c\uff0c<code>argument_default</code>(\u5c3d\u7ba1 <code>ArgumentParser</code> \u5e76\u6ca1\u6709\u76f4\u63a5\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\uff0c\u4f46\u8fd9\u91cc\u662f\u4e3a\u4e86\u8bf4\u660e\u6982\u5ff5\uff09\u7684\u4e00\u4e2a\u5e38\u89c1\u7528\u4f8b\u662f\u5f53\u4f60\u60f3\u8981\u907f\u514d\u5c06\u53c2\u6570\u548c\u9009\u9879\u6dfb\u52a0\u5230 <code>Namespace</code> \u5bf9\u8c61\u4e2d\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>SUPPRESS</code> \u5e38\u91cf\u4f5c\u4e3a\u9ed8\u8ba4\u503c\u3002\u8fd9\u4e2a\u9ed8\u8ba4\u503c\u5c06\u786e\u4fdd\u53ea\u6709\u547d\u4ee4\u884c\u4e2d\u63d0\u4f9b\u7684\u53c2\u6570\u548c\u9009\u9879\u624d\u4f1a\u88ab\u5b58\u50a8\u5728 <code>arguments</code> \u7684 <code>Namespace</code> \u4e2d\u3002</p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u4f8b\u5b50\uff0c\u8bf7\u7ee7\u7eed\u4fee\u6539\u4f60\u7684\u81ea\u5b9a\u4e49 <code>ls</code> \u547d\u4ee4\uff0c\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u7247\u6bb5\u6240\u793a\uff1a    Python<pre><code># ls.py v6\n\nimport argparse\nimport datetime\nfrom pathlib import Path\n\nparser = argparse.ArgumentParser(\n    prog=\"ls\",\n    description=\"List the content of a directory\",\n    epilog=\"Thanks for using %(prog)s! :)\",\n    argument_default=argparse.SUPPRESS,\n)\n\n# ...\n\nfor entry in target_dir.iterdir():\n    try:\n        long = args.long\n    except AttributeError:\n        long = False\n    print(build_output(entry, long=long))\n</code></pre></p> <p>\u901a\u8fc7\u5c06 <code>SUPPRESS</code> \u4f20\u9012\u7ed9 <code>ArgumentParser</code> \u6784\u9020\u51fd\u6570\uff0c\u4f60\u53ef\u4ee5\u9632\u6b62\u672a\u63d0\u4f9b\u7684\u53c2\u6570\u88ab\u5b58\u50a8\u5728 <code>argparse.Namespace</code> \u5bf9\u8c61\u4e2d\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u5728\u8c03\u7528 <code>build_output()</code> \u4e4b\u524d\uff0c\u4f60\u9700\u8981\u68c0\u67e5 <code>-l</code> \u6216 <code>--long</code> \u9009\u9879\u662f\u5426\u5b9e\u9645\u88ab\u4f20\u9012\u4e86\u3002\u5426\u5219\uff0c\u4f60\u7684\u4ee3\u7801\u4f1a\u56e0\u4e3a <code>args</code> \u4e2d\u4e0d\u5b58\u5728 <code>long</code> \u5c5e\u6027\u800c\u5f15\u53d1 <code>AttributeError</code> \u9519\u8bef\u3002</p> <p><code>ArgumentParser</code> \u7684\u53e6\u4e00\u4e2a\u9177\u70ab\u529f\u80fd\u662f\u5141\u8bb8\u4f60\u4ece\u5916\u90e8\u6587\u4ef6\u4e2d\u52a0\u8f7d\u53c2\u6570\u503c\u3002\u5f53\u4f60\u6709\u4e00\u4e2a\u5177\u6709\u5197\u957f\u6216\u590d\u6742\u7684\u547d\u4ee4\u884c\u7ed3\u6784\u7684\u5e94\u7528\uff0c\u5e76\u5e0c\u671b\u81ea\u52a8\u5316\u52a0\u8f7d\u53c2\u6570\u503c\u7684\u8fc7\u7a0b\u65f6\uff0c\u8fd9\u4e2a\u529f\u80fd\u5c31\u975e\u5e38\u6709\u7528\u3002</p> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u5c06\u53c2\u6570\u503c\u5b58\u50a8\u5728\u4e00\u4e2a\u5916\u90e8\u6587\u4ef6\u4e2d\uff0c\u5e76\u8ba9\u4f60\u7684\u7a0b\u5e8f\u4ece\u8be5\u6587\u4ef6\u4e2d\u52a0\u8f7d\u5b83\u4eec\u3002\u4e3a\u4e86\u5c1d\u8bd5\u8fd9\u4e2a\u529f\u80fd\uff0c\u8bf7\u7ee7\u7eed\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u5e94\u7528\uff0c\u5982\u4e0b\u6240\u793a\uff1a    Python<pre><code># fromfile.py\n\nimport argparse\n\nparser = argparse.ArgumentParser(fromfile_prefix_chars=\"@\")\n\nparser.add_argument(\"one\")\nparser.add_argument(\"two\")\nparser.add_argument(\"three\")\n\nargs = parser.parse_args()\n\nprint(args)\n</code></pre></p> <p>\u5728\u8fd9\u91cc\uff0c\u4f60\u5411 <code>ArgumentParser</code> \u7684 <code>fromfile_prefix_chars</code> \u53c2\u6570\u4f20\u9012 <code>@</code> \u7b26\u53f7\u3002\u7136\u540e\uff0c\u4f60\u521b\u5efa\u4e86\u4e09\u4e2a\u5fc5\u987b\u5728\u547d\u4ee4\u884c\u4e2d\u63d0\u4f9b\u7684\u5fc5\u9700\u53c2\u6570\u3002</p> <p>\u73b0\u5728\uff0c\u5047\u8bbe\u4f60\u7ecf\u5e38\u4f7f\u7528\u6b64\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u4e14\u603b\u662f\u4f7f\u7528\u76f8\u540c\u7684\u4e00\u7ec4\u53c2\u6570\u503c\u3002\u4e3a\u4e86\u7b80\u5316\u548c\u4f18\u5316\u4f60\u7684\u5de5\u4f5c\u6d41\u7a0b\uff0c\u4f60\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u6240\u6709\u5fc5\u9700\u53c2\u6570\u7684\u9002\u5f53\u503c\uff0c\u6bcf\u4e2a\u53c2\u6570\u5360\u4e00\u884c\uff0c\u5c31\u50cf\u4e0b\u9762\u7684 <code>args.txt</code> \u6587\u4ef6\u4e00\u6837\uff1a  Text Only<pre><code>first\nsecond\nthird\n</code></pre></p> <p>\u6709\u4e86\u8fd9\u4e2a\u6587\u4ef6\uff0c\u60a8\u73b0\u5728\u53ef\u4ee5\u8c03\u7528\u60a8\u7684\u7a0b\u5e8f\u5e76\u6307\u793a\u5b83\u4ece <code>args.txt</code> \u6587\u4ef6\u52a0\u8f7d\u503c\uff0c\u5982\u4ee5\u4e0b\u547d\u4ee4\u8fd0\u884c\u6240\u793a\uff1a   Bash<pre><code>$ python fromfile.py @args.txt\nNamespace(one='first', two='second', three='third')\n</code></pre></p> <p>\u5728\u6b64\u547d\u4ee4\u7684\u8f93\u51fa\u4e2d\uff0c\u4f60\u53ef\u4ee5\u770b\u5230 <code>argparse</code> \u5df2\u7ecf\u8bfb\u53d6\u4e86 <code>args.txt</code> \u7684\u5185\u5bb9\uff0c\u5e76\u987a\u5e8f\u5730\u5c06\u503c\u5206\u914d\u7ed9\u4e86 <code>fromfile.py</code> \u7a0b\u5e8f\u7684\u6bcf\u4e2a\u53c2\u6570\u3002\u6240\u6709\u53c2\u6570\u53ca\u5176\u503c\u90fd\u5df2\u6210\u529f\u5b58\u50a8\u5728 <code>Namespace</code> \u5bf9\u8c61\u4e2d\u3002</p> <p>\u63a5\u53d7\u7f29\u5199\u9009\u9879\u540d\u79f0\u7684\u80fd\u529b\u662f <code>argparse</code> \u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u7684\u53e6\u4e00\u4e2a\u9177\u70ab\u7279\u6027\u3002\u8fd9\u4e2a\u7279\u6027\u662f\u9ed8\u8ba4\u542f\u7528\u7684\uff0c\u5f53\u4f60\u7684\u7a0b\u5e8f\u5177\u6709\u957f\u9009\u9879\u540d\u79f0\u65f6\u975e\u5e38\u6709\u7528\u3002\u4f8b\u5982\uff0c\u8003\u8651\u4ee5\u4e0b\u7a0b\u5e8f\uff0c\u5b83\u4f1a\u5728\u547d\u4ee4\u884c\u4e0b\u6253\u5370\u51fa\u4f60\u5728 <code>--argument-with-a-long-name</code> \u9009\u9879\u540e\u6307\u5b9a\u7684\u503c\uff1a    Python<pre><code># abbreviate.py\n\nimport argparse\n\nparser = argparse.ArgumentParser()\n\nparser.add_argument(\"--argument-with-a-long-name\")\n\nargs = parser.parse_args()\n\nprint(args.argument_with_a_long_name)\n</code></pre></p> <p>\u8fd9\u4e2a\u7a0b\u5e8f\u4f1a\u6253\u5370\u51fa\u4f60\u5728 <code>--argument-with-a-long-name</code> \u9009\u9879\u540e\u4f20\u5165\u7684\u4efb\u4f55\u53c2\u6570\u503c\u3002\u73b0\u5728\uff0c\u8bf7\u7ee7\u7eed\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u68c0\u67e5 Python \u7684 <code>argparse</code> \u6a21\u5757\u5982\u4f55\u5904\u7406\u8fd9\u4e9b\u7f29\u5199\uff1a   Bash<pre><code>$ python abbreviate.py --argument-with-a-long-name 42\n42\n\n$ python abbreviate.py --argument 42\n42\n\n$ python abbreviate.py --a 42\n42\n</code></pre></p> <p>\u8fd9\u4e9b\u793a\u4f8b\u5c55\u793a\u4e86\u5982\u4f55\u7f29\u5199 <code>--argument-with-a-long-name</code> \u9009\u9879\u7684\u540d\u79f0\uff0c\u800c\u5e94\u7528\u7a0b\u5e8f\u4ecd\u80fd\u6b63\u5e38\u5de5\u4f5c\u3002\u6b64\u529f\u80fd\u662f\u9ed8\u8ba4\u542f\u7528\u7684\u3002\u5982\u679c\u4f60\u5e0c\u671b\u7981\u7528\u5b83\u5e76\u7981\u6b62\u7f29\u5199\uff0c\u90a3\u4e48\u53ef\u4ee5\u5728 <code>ArgumentParser</code> \u4e2d\u4f7f\u7528 <code>allow_abbrev</code> \u53c2\u6570\uff1a   Python<pre><code># abbreviate.py\n\nimport argparse\n\nparser = argparse.ArgumentParser(allow_abbrev=False)\n\nparser.add_argument(\"--argument-with-a-long-name\")\n\nargs = parser.parse_args()\n\nprint(args.argument_with_a_long_name)\n</code></pre></p> <p>\u5c06 <code>allow_abbrev</code> \u8bbe\u7f6e\u4e3a <code>False</code> \u4f1a\u7981\u7528\u547d\u4ee4\u884c\u9009\u9879\u4e2d\u7684\u7f29\u5199\u3002\u4ece\u8fd9\u4e00\u70b9\u5f00\u59cb\uff0c\u4f60\u5c06\u9700\u8981\u4e3a\u7a0b\u5e8f\u63d0\u4f9b\u5b8c\u6574\u7684\u9009\u9879\u540d\u79f0\u624d\u80fd\u6b63\u786e\u5de5\u4f5c\u3002\u5426\u5219\uff0c\u4f60\u4f1a\u6536\u5230\u4e00\u4e2a\u9519\u8bef\uff1a    Bash<pre><code>$ python abbreviate.py --argument-with-a-long-name 42\n42\n\n$ python abbreviate.py --argument 42\nusage: abbreviate.py [-h] [--argument-with-a-long-name ...]\nabbreviate.py: error: unrecognized arguments: --argument 42\n</code></pre></p> <p>\u7b2c\u4e8c\u4e2a\u793a\u4f8b\u4e2d\u7684\u9519\u8bef\u6d88\u606f\u544a\u8bc9\u4f60 <code>--argument</code> \u9009\u9879\u6ca1\u6709\u88ab\u8bc6\u522b\u4e3a\u6709\u6548\u7684\u9009\u9879\u3002\u8981\u4f7f\u7528\u8be5\u9009\u9879\uff0c\u4f60\u9700\u8981\u63d0\u4f9b\u5b83\u7684\u5b8c\u6574\u540d\u79f0\u3002</p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#_11","title":"\u5fae\u8c03\u4f60\u7684\u547d\u4ee4\u884c\u53c2\u6570\u548c\u9009\u9879","text":"<p>\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u4f60\u5df2\u7ecf\u5b66\u4e60\u4e86\u5982\u4f55\u5b9a\u5236 <code>ArgumentParser</code> \u7c7b\u7684\u591a\u4e2a\u529f\u80fd\uff0c\u4ee5\u6539\u5584\u4f60\u7684\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u7684\u7528\u6237\u4f53\u9a8c\u3002\u73b0\u5728\uff0c\u4f60\u77e5\u9053\u4e86\u5982\u4f55\u8c03\u6574\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u4f7f\u7528\u8bf4\u660e\u548c\u5e2e\u52a9\u4fe1\u606f\uff0c\u4ee5\u53ca\u5982\u4f55\u5fae\u8c03\u547d\u4ee4\u884c\u53c2\u6570\u548c\u9009\u9879\u7684\u4e00\u4e9b\u5168\u5c40\u65b9\u9762\u3002</p> <p>\u5728\u672c\u8282\u4e2d\uff0c\u4f60\u5c06\u5b66\u4e60\u5982\u4f55\u5b9a\u5236\u4f60\u7684 CLI \u7684\u547d\u4ee4\u884c\u53c2\u6570\u548c\u9009\u9879\u7684\u5176\u4ed6\u51e0\u4e2a\u529f\u80fd\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5c06\u4f7f\u7528 <code>.add_argument()</code> \u65b9\u6cd5\u53ca\u5176\u4e00\u4e9b\u6700\u76f8\u5173\u7684\u53c2\u6570\uff0c\u5305\u62ec <code>action</code>\u3001<code>type</code>\u3001<code>nargs</code>\u3001<code>default</code>\u3001<code>help</code> \u7b49\u3002     </p>"},{"location":"tech/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/Python/2024-06-06-%E4%BD%BF%E7%94%A8-Python-%E7%9A%84-argparse-%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2-dis75/#option-action","title":"\u8bbe\u7f6e Option \u80cc\u540e\u7684 Action","text":"<p>\u5f53\u4f60\u5411\u547d\u4ee4\u884c\u754c\u9762\u6dfb\u52a0\u4e00\u4e2a\u9009\u9879\u6216\u6807\u5fd7\u65f6\uff0c\u901a\u5e38\u9700\u8981\u5b9a\u4e49\u5982\u4f55\u5c06\u9009\u9879\u7684\u503c\u5b58\u50a8\u5728\u8c03\u7528 <code>.parse_args()</code> \u540e\u5f97\u5230\u7684 <code>Namespace</code> \u5bf9\u8c61\u4e2d\u3002\u4e3a\u6b64\uff0c\u4f60\u4f1a\u4f7f\u7528 <code>.add_argument()</code> \u7684 <code>action</code> \u53c2\u6570\u3002<code>action</code> \u53c2\u6570\u7684\u9ed8\u8ba4\u503c\u4e3a \"store\"\uff0c\u610f\u5473\u7740\u63d0\u4f9b\u7684\u9009\u9879\u503c\u5c06\u539f\u6837\u5b58\u50a8\u5728 <code>Namespace</code> \u4e2d\u3002</p> <p><code>action</code> \u53c2\u6570\u53ef\u4ee5\u63a5\u53d7\u51e0\u4e2a\u53ef\u80fd\u7684\u503c\u3002\u4ee5\u4e0b\u662f\u8fd9\u4e9b\u53ef\u80fd\u503c\u7684\u5217\u8868\u53ca\u5176\u542b\u4e49\uff1a</p>"}]}